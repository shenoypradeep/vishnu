"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4575],{55144:(e,t,r)=>{var i,n,s=r(11656),o=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r(17431));class a{#e;#t=[void 0,void 0,void 0];#r=0;#i=!1;#n=0;constructor(e){this.#e=e,this.#s()}get done(){return this.#i}get current(){if(0===this.#n)throw new s.errors.InvalidOperationError("Cannot get the current when the iterator has not been advanced.");return this.#t[this.#r]}get previous(){if(this.#n<=1)throw new s.errors.InvalidOperationError("Cannot get the previous when the iterator has not advanced enough.");return this.#t[(this.#r+this.#t.length-1)%this.#t.length]}get peek(){if(this.#i)throw new s.errors.InvalidOperationError("Cannot peek at the end of the iterator.");return this.#t[(this.#r+1)%this.#t.length]}next(){if(this.done)throw new s.errors.InvalidOperationError("Cannot get the next when at the end of the iterator.");let e=this.#t[this.#o()];return this.#s(),this.#n++,e}*rest(){for(;!this.done;)yield this.next()}#s(){let e=this.#e.next();if(this.#r=this.#o(),e.done){this.#i=!0;return}this.#t[this.#o()]=e.value}#o(){return(this.#r+1)%this.#t.length}}let l={ASTERISK:42,NEWLINE:10,CARRIAGE_RETURN:13,SPACE:32,TAB:9,CLOSE_BRACE:125};function c(e,t){let r;return r="string"==typeof t?e=>d(e,t):t,e.find(r)}function d(e,t){if(null==e.getNameNode)return!1;let r=e.getNameNode();return null!=r&&(tr.isArrayBindingPattern(r)||tr.isObjectBindingPattern(r)?r.getElements().some(e=>d(e,t)):(null!=e.getName?e.getName():r.getText())===t)}function u(e,t){return"string"==typeof t?`Expected to find ${e} named '${t}'.`:`Expected to find ${e} that matched the provided condition.`}t.IlT=void 0,function(e){e[e.Statement=0]="Statement",e[e.ClassElement=1]="ClassElement",e[e.TypeElement=2]="TypeElement",e[e.ObjectLiteralElement=3]="ObjectLiteralElement",e[e.EnumMember=4]="EnumMember"}(t.IlT||(t.IlT={}));class h{#a;#l;#c;constructor(e,t,r,i,n,o){this.#a=e,this.#l=t,this.#c=n,this.pos=t,this.end=r,this.kind=i,this.flags=s.ts.NodeFlags.None,this.parent=o}pos;end;kind;flags;modifiers;parent;getSourceFile(){return this.#c}getChildCount(e){return 0}getChildAt(e,t){}getChildren(e){return[]}getStart(e,t){return this.#l}getFullStart(){return this.#a}getEnd(){return this.end}getWidth(e){return this.end-this.#l}getFullWidth(){return this.end-this.#a}getLeadingTriviaWidth(e){return this.#l-this.#a}getFullText(e){return this.#c.text.substring(this.#a,this.end)}getText(e){return this.#c.text.substring(this.#l,this.end)}getFirstToken(e){}getLastToken(e){}forEachChild(e,t){}}class p extends h{_jsdocContainerBrand;_statementBrand;_commentKind=t.IlT.Statement}class g extends h{_classElementBrand;_declarationBrand;_commentKind=t.IlT.ClassElement}class m extends h{_typeElementBrand;_declarationBrand;_commentKind=t.IlT.TypeElement}class y extends h{_declarationBrand;_objectLiteralBrand;declarationBrand;_commentKind=t.IlT.ObjectLiteralElement}class x extends h{_commentKind=t.IlT.EnumMember}!function(e){e[e.SingleLine=0]="SingleLine",e[e.MultiLine=1]="MultiLine",e[e.JsDoc=2]="JsDoc"}(i||(i={}));let f=new WeakMap,S=new Set([s.SyntaxKind.SourceFile,s.SyntaxKind.Block,s.SyntaxKind.ModuleBlock,s.SyntaxKind.CaseClause,s.SyntaxKind.DefaultClause,s.SyntaxKind.ClassDeclaration,s.SyntaxKind.InterfaceDeclaration,s.SyntaxKind.EnumDeclaration,s.SyntaxKind.ClassExpression,s.SyntaxKind.TypeLiteral,s.SyntaxKind.ObjectLiteralExpression]);class T{constructor(){}static getOrParseChildren(e,t){N(e)&&(e=e.parent);let r=f.get(e);return null==r&&(r=Array.from(function*(e,t){let r=t.text,n=s.ts.isSourceFile(e)||s.ts.isBlock(e)||s.ts.isModuleBlock(e)||s.ts.isCaseClause(e)||s.ts.isDefaultClause(e)?e.statements:s.ts.isClassDeclaration(e)||s.ts.isClassExpression(e)||s.ts.isEnumDeclaration(e)||s.ts.isInterfaceDeclaration(e)||s.ts.isTypeLiteralNode(e)||s.ts.isClassExpression(e)?e.members:s.ts.isObjectLiteralExpression(e)?e.properties:s.errors.throwNotImplementedForNeverValueError(e),o=function(){let r=function(){var t;if(t=e,null!=function(){if(s.ts.isSourceFile(t)||s.ts.isBlock(t)||s.ts.isModuleBlock(t)||s.ts.isCaseClause(t)||s.ts.isDefaultClause(t))return t}())return p;if(s.ts.isClassLike(e))return g;if(s.ts.isInterfaceDeclaration(e)||s.ts.isTypeLiteralNode(e))return m;if(s.ts.isObjectLiteralExpression(e))return y;if(s.ts.isEnumDeclaration(e))return x;throw new s.errors.NotImplementedError(`Not implemented comment node container type: ${s.getSyntaxKindName(e.kind)}`)}();return(i,n,s,o)=>new r(i,n,s,o,t,e)}();if(0===n.length){let r=T.getContainerBodyPos(e,t);null!=r&&(yield*a(r,!1))}else{for(let e of n)yield*a(e.pos,!0),yield e;let e=n[n.length-1];yield*a(e.end,!1)}function*a(e,t){let n=e;c();let a=Array.from(function*(){for(;e<r.length;){let n=u();if(null!=n){if(n===i.JsDoc&&t)return;yield d(n),c()}else{if(!s.StringUtils.isWhitespace(r[e]))return;e++}}}()),l=r.length===e||"}"===r[e]?e:s.StringUtils.getLineStartFromPos(r,e);for(let e of a)e.end<=l&&(yield e);function c(){if(0===e)return;let t=s.StringUtils.getLineEndFromPos(r,e);for(;e<t;){let i=u();if(null!=i){if(d(i).kind===s.SyntaxKind.SingleLineCommentTrivia)return;t=s.StringUtils.getLineEndFromPos(r,e)}else{if(!s.StringUtils.isWhitespace(r[e])&&","!==r[e])return;e++}}for(;s.StringUtils.startsWithNewLine(r[e]);)e++}function d(t){return t===i.SingleLine?function(){let t=e;return function(){for(e+=2;e<r.length&&"\n"!==r[e]&&"\r"!==r[e];)e++}(),o(n,t,e,s.SyntaxKind.SingleLineCommentTrivia)}():function(t){let i=e;return function(t){for(e+=t?3:2;e<r.length;){if("*"===r[e]&&"/"===r[e+1]){e+=2;break}e++}}(t),o(n,i,e,s.SyntaxKind.MultiLineCommentTrivia)}(t===i.JsDoc)}function u(){if("/"!==r[e])return;let t=r[e+1];return"/"===t?i.SingleLine:"*"===t?"*"===r[e+2]?i.JsDoc:i.MultiLine:void 0}}}(e,t)),f.set(e,r)),r}static shouldParseChildren(e){return S.has(e.kind)&&e.pos!==e.end}static hasParsedChildren(e){return N(e)&&(e=e.parent),f.has(e)}static isCommentStatement(e){return e._commentKind===t.IlT.Statement}static isCommentClassElement(e){return e._commentKind===t.IlT.ClassElement}static isCommentTypeElement(e){return e._commentKind===t.IlT.TypeElement}static isCommentObjectLiteralElement(e){return e._commentKind===t.IlT.ObjectLiteralElement}static isCommentEnumMember(e){return e._commentKind===t.IlT.EnumMember}static getContainerBodyPos(e,t){if(s.ts.isSourceFile(e))return 0;if(s.ts.isClassDeclaration(e)||s.ts.isEnumDeclaration(e)||s.ts.isInterfaceDeclaration(e)||s.ts.isTypeLiteralNode(e)||s.ts.isClassExpression(e)||s.ts.isBlock(e)||s.ts.isModuleBlock(e)||s.ts.isObjectLiteralExpression(e))return r(e,s.SyntaxKind.OpenBraceToken);if(s.ts.isCaseClause(e)||s.ts.isDefaultClause(e))return r(e,s.SyntaxKind.ColonToken);return s.errors.throwNotImplementedForNeverValueError(e);function r(e,r){return e.getChildren(t).find(e=>e.kind===r)?.end}}}function N(e){return e.kind===s.SyntaxKind.SyntaxList}let K=new WeakMap,w=new WeakMap;class F{static getContainerArray(e,t){return T.getOrParseChildren(e,t)}static hasParsedTokens(e){return w.has(e)||e.kind==s.SyntaxKind.SyntaxList}static getCompilerChildrenFast(e,t){return F.hasParsedTokens(e)?F.getCompilerChildren(e,t):F.getCompilerForEachChildren(e,t)}static getCompilerForEachChildren(e,t){if(T.shouldParseChildren(e)){let i=K.get(e);return null==i&&(C(i=r(),T.getOrParseChildren(e,t)),K.set(e,i)),i}return r();function r(){let t=[];return e.forEachChild(e=>{t.push(e)}),t}}static getCompilerChildren(e,t){let r=w.get(e);if(null==r){if(function(){if(e.kind!==s.ts.SyntaxKind.SyntaxList)return!1;let r=e.parent;return!!T.shouldParseChildren(r)&&T.getContainerBodyPos(r,t)===e.pos}()){let i=[...e.getChildren(t)];C(i,T.getOrParseChildren(e,t)),r=i}else r=e.getChildren(t);w.set(e,r)}return r}}function C(e,t){let r=0;for(let i of t)if(i.kind===s.SyntaxKind.SingleLineCommentTrivia||i.kind===s.SyntaxKind.MultiLineCommentTrivia){for(;r<e.length&&e[r].end<i.end;)r++;e.splice(r,0,i),r++}}function b(e){return e.kind===s.ts.SyntaxKind.SingleLineCommentTrivia||e.kind===s.ts.SyntaxKind.MultiLineCommentTrivia}function I(e,t){if(e.kind===s.SyntaxKind.EndOfFileToken)return;let r=e.parent;if(null==r)return;let{pos:i,end:n}=e;for(let o of F.getCompilerChildren(r,t)){if(o.pos>n||o===e)break;if(o.kind===s.SyntaxKind.SyntaxList&&o.pos<=i&&o.end>=n)return o}}function P(e,t){let r;return r="string"==typeof t?e=>e.getName()===t:t,e.find(r)}function E(e){if(D(e)||e._sourceFile.isDeclarationFile())return!0;for(let t of e._getAncestorsIterator(!1))if(D(t))return!0;return!1}function D(e){return(e.getCombinedModifierFlags()&s.ts.ModifierFlags.Ambient)===s.ts.ModifierFlags.Ambient||tr.isInterfaceDeclaration(e)||tr.isTypeAliasDeclaration(e)}class O{constructor(){}static isModuleSpecifierRelative(e){return e.startsWith("./")||e.startsWith("../")}static getReferencedSourceFileFromSymbol(e){let t=e.getDeclarations();if(0!==t.length&&t[0].getKind()===s.SyntaxKind.SourceFile)return t[0]}}function A(e,t,r){let i=null==t||t.kind!==s.SyntaxKind.SourceFile,n=(i?t:r)||{},o=function(){if(i){if(e.kind===s.SyntaxKind.SourceFile)return;let t=function(){let t=e.parent;for(;null!=t&&null!=t.parent;)t=t.parent;return t}();if(null==t){var r;let e=n.scriptKind??s.ScriptKind.TSX;return s.ts.createSourceFile(`print.${(r=e)===s.ScriptKind.JSX||r===s.ScriptKind.TSX?"tsx":"ts"}`,"",s.ScriptTarget.Latest,!1,e)}return t}return t}(),a=s.ts.createPrinter({newLine:n.newLineKind??s.NewLineKind.LineFeed,removeComments:n.removeComments||!1});return null==o?a.printFile(e):a.printNode(n.emitHint??s.EmitHint.Unspecified,e,o)}t.xDT=void 0,function(e){e.TwoSpaces="  ",e.FourSpaces="    ",e.EightSpaces="        ",e.Tab="	"}(t.xDT||(t.xDT={}));class v extends s.SettingsContainer{#d;#u;#h;constructor(){super({indentationText:t.xDT.FourSpaces,newLineKind:s.NewLineKind.LineFeed,quoteKind:t.pSk.Double,insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces:!0,usePrefixAndSuffixTextForRename:!1,useTrailingCommas:!1})}getEditorSettings(){return null==this.#d&&(this.#d={},L(this.#d,this)),{...this.#d}}getFormatCodeSettings(){return null==this.#u&&(this.#u={...this.getEditorSettings(),insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces:this._settings.insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces}),{...this.#u}}getUserPreferences(){return null==this.#h&&(this.#h={quotePreference:this.getQuoteKind()===t.pSk.Double?"double":"single",providePrefixAndSuffixTextForRename:this.getUsePrefixAndSuffixTextForRename()}),{...this.#h}}getQuoteKind(){return this._settings.quoteKind}getNewLineKind(){return this._settings.newLineKind}getNewLineKindAsString(){var e=this.getNewLineKind();switch(e){case s.NewLineKind.CarriageReturnLineFeed:return"\r\n";case s.NewLineKind.LineFeed:return"\n";default:throw new s.errors.NotImplementedError(`Not implemented newline kind: ${e}`)}}getIndentationText(){return this._settings.indentationText}getUsePrefixAndSuffixTextForRename(){return this._settings.usePrefixAndSuffixTextForRename}getUseTrailingCommas(){return this._settings.useTrailingCommas}set(e){super.set(e),this.#d=void 0,this.#u=void 0,this.#h=void 0}_getIndentSizeInSpaces(){let e=this.getIndentationText();switch(e){case t.xDT.EightSpaces:return 8;case t.xDT.FourSpaces:return 4;case t.xDT.TwoSpaces:return 2;case t.xDT.Tab:return 4;default:return s.errors.throwNotImplementedForNeverValueError(e)}}}function _(e,t,r){void 0===e[t]&&(e[t]=r)}function L(e,r){_(e,"convertTabsToSpaces",r.getIndentationText()!==t.xDT.Tab),_(e,"newLineCharacter",r.getNewLineKindAsString()),_(e,"indentStyle",s.ts.IndentStyle.Smart),_(e,"indentSize",r.getIndentationText().length),_(e,"tabSize",r.getIndentationText().length)}function k(e,t){return M(e,t),e.toString()}function M(e,t){if("string"==typeof t)e.write(t);else if(t instanceof Function)t(e);else for(let r=0;r<t.length;r++)r>0&&e.newLineIfLastNot(),M(e,t[r])}class W{#p=!1;setEnabled(e){this.#p=e}log(e){this.#p&&this.logInternal(e)}warn(e){this.#p&&this.warnInternal(e)}}class B extends W{logInternal(e){console.log(e)}warnInternal(e){console.warn(e)}}let R=/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/,j=new Set(["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"]);function J(e){return!j.has(e)&&(!!function(e){for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(!(r>=48&&r<=57)&&!(r>=65&&r<=90)&&!(r>=97&&r<=122))return!1}return!0}(e)||R.test(e))}class U{#g=new Set;constructor(e){let t=e=>{e.wasForgotten()||this.#g.add(e)};e.onSourceFileAdded(e=>{this.#g.add(e),e.onModified(t)}),e.onSourceFileRemoved(e=>{e._referenceContainer.clear(),this.#g.delete(e),e.onModified(t,!1)})}refreshDirtySourceFiles(){for(let e of this.#g.values())e._referenceContainer.refresh();this.clearDirtySourceFiles()}refreshSourceFileIfDirty(e){this.#g.has(e)&&(e._referenceContainer.refresh(),this.clearDirtyForSourceFile(e))}addDirtySourceFile(e){this.#g.add(e)}clearDirtySourceFiles(){this.#g.clear()}clearDirtyForSourceFile(e){this.#g.delete(e)}}class z{#c;#m=new s.KeyValueCache;#y=new s.KeyValueCache;#x=[];constructor(e){this.#c=e}getDependentSourceFiles(){this.#c._context.lazyReferenceCoordinator.refreshDirtySourceFiles();let e=new Set;for(let t of this.#y.getKeys())e.add(t._sourceFile);return e.values()}getLiteralsReferencingOtherSourceFilesEntries(){return this.#c._context.lazyReferenceCoordinator.refreshSourceFileIfDirty(this.#c),this.#m.getEntries()}getReferencingLiteralsInOtherSourceFiles(){return this.#c._context.lazyReferenceCoordinator.refreshDirtySourceFiles(),this.#y.getKeys()}refresh(){this.#x.length>0&&this.#c._context.compilerFactory.onSourceFileAdded(this.#f,!1),this.clear(),this.#S(),this.#x.length>0&&this.#c._context.compilerFactory.onSourceFileAdded(this.#f)}clear(){for(let[e,t]of(this.#x.length=0,this.#m.getEntries()))this.#m.removeByKey(e),t._referenceContainer.#y.removeByKey(e)}#f=()=>{for(let e=this.#x.length-1;e>=0;e--){let t=this.#x[e],r=this.#T(t);null!=r&&(this.#x.splice(e,1),this.#N(t,r))}0===this.#x.length&&this.#c._context.compilerFactory.onSourceFileAdded(this.#f,!1)};#S(){this.#c._context.compilerFactory.forgetNodesCreatedInBlock(e=>{for(let t of this.#c.getImportStringLiterals()){let r=this.#T(t);e(t),null==r?this.#x.push(t):this.#N(t,r)}})}#T(e){let t=e.getParentOrThrow(),r=t.getParent();if(tr.isImportDeclaration(t)||tr.isExportDeclaration(t))return t.getModuleSpecifierSourceFile();if(null!=r&&tr.isImportEqualsDeclaration(r))return r.getExternalModuleReferenceSourceFile();if(null!=r&&tr.isImportTypeNode(r)){let e=r.getSymbol();if(null!=e)return O.getReferencedSourceFileFromSymbol(e)}else if(tr.isCallExpression(t)){let t=e.getSymbol();if(null!=t)return O.getReferencedSourceFileFromSymbol(t)}else this.#c._context.logger.warn(`Unknown import string literal parent: ${t.getKindName()}`)}#N(e,t){this.#m.set(e,t),t._referenceContainer.#y.set(e,t)}}s.ts.version.split(".").map(e=>parseInt(e,10));class V{constructor(){}static getLastCharactersToPos(e,t){let r=Array(e.getLength()-t);return e.iterateLastChars((e,i)=>{let n=i-t;if(n<0)return!0;r[n]=e}),r.join("")}}function $(e,t,r){let i;return i=null!=e.getStructure?e.getStructure.call(t):{},null!=r&&Object.assign(i,r),i}function G(e,t,r){null!=e.set&&e.set.call(t,r)}function Q(e){return class extends e{hasDeclareKeyword(){return null!=this.getDeclareKeyword()}getDeclareKeywordOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getDeclareKeyword(),e??"Expected to find a declare keyword.",this)}getDeclareKeyword(){return this.getFirstModifierByKind(s.SyntaxKind.DeclareKeyword)}isAmbient(){return E(this)}setHasDeclareKeyword(e){return this.toggleModifier("declare",e),this}set(t){return G(e.prototype,this,t),null!=t.hasDeclareKeyword&&this.setHasDeclareKeyword(t.hasDeclareKeyword),this}getStructure(){return $(e.prototype,this,{hasDeclareKeyword:this.hasDeclareKeyword()})}}}function H(e,t){var r;return tr.isAmbientable(e)&&e.isAmbient()?n.Newline:(r=t,tr.isBodyable(r)&&null!=r.getBody()||tr.isBodied(r))?n.Blankline:n.Newline}function q(e,t){return n.Newline}function Y(e,t){return tr.isBodyable(t)&&t.hasBody()||tr.isBodied(t)||tr.isInterfaceDeclaration(t)||tr.isClassDeclaration(t)||tr.isEnumDeclaration(t)?n.Blankline:n.Newline}function X(e,t){return n.Newline}function Z(e,t){return tr.isClassDeclaration(e)?H(e,t):tr.isInterfaceDeclaration(e)?q():Y(e,t)}function ee(e,t){let r=e.getFullText(),i=[],n=0;for(let{edit:e}of t.map((e,t)=>{var r;return{edit:(r=e)instanceof cN?r:new cN(r),index:t}}).sort((e,t)=>{let r=e.edit.getSpan().getStart()-t.edit.getSpan().getStart();return 0===r?e.index<t.index?-1:1:r<0?-1:1})){let t=e.getSpan(),s=r.slice(n,t.getStart());n=t.getEnd(),i.push(s),i.push(e.getNewText())}return i.push(r.slice(n)),i.join("")}!function(e){e[e.Newline=0]="Newline",e[e.Blankline=1]="Blankline",e[e.Space=2]="Space",e[e.None=3]="None"}(n||(n={}));let et=s.ts.createScanner(s.ts.ScriptTarget.Latest,!0);function er(e){et.setText(e);try{if(et.scan()===s.ts.SyntaxKind.EndOfFileToken)return -1;for(;et.scan()!==s.ts.SyntaxKind.EndOfFileToken;);let t=et.getStartPos();return","===e[t-1]?-1:t}finally{et.setText(void 0)}}function ei(e){return e?.length??0}function en(e,t,r){for(;t<e.length&&!r(e.charCodeAt(t));)t++;return t}function es(e,t,r){for(;t>0&&!r(e.charCodeAt(t-1));)t--;return t}function eo(e){return!s.StringUtils.isWhitespaceCharCode(e)}function ea(e,t){let r=t;for(let i=t;i<e.length;i++)if(" "!==e[i]&&"	"!==e[i]){if("\r"===e[i]&&"\n"===e[i+1]||"\n"===e[i]){r=i+1,"\r"===e[i]&&(i++,r++);continue}break}return r}function el(e,t){for(;t>0;){let r=e[--t];if("\n"===r||" "!==r&&"	"!==r)return t+1}return t}function ec(e,t,r){if(0!==e)return r[e-1].getEnd();{let e=t.getParentOrThrow();return tr.isSourceFile(e)?0:tr.isCaseClause(e)||tr.isDefaultClause(e)?e.getFirstChildByKindOrThrow(s.SyntaxKind.ColonToken).getEnd():t!==e.getChildSyntaxList()?t.getStart():ed(e).getFirstChildByKindOrThrow(s.SyntaxKind.OpenBraceToken).getEnd()}}function ed(e){if(tr.isModuleDeclaration(e)){let t=e._getInnerBody();if(null==t)throw new s.errors.InvalidOperationError("This operation requires the module to have a body.");return t}return tr.isBodied(e)?e.getBody():tr.isBodyable(e)?e.getBodyOrThrow():e}function eu(e){return{scope:e.hasScopeKeyword()?e.getScope():void 0}}function eh(e,t,r,i){let n="number"==typeof e?e:e.length,s=t.length-n,o=[];for(let e=0;e<s;e++){let n=t[r+e];(i||!tr.isCommentNode(n))&&o.push(n)}return o}function ep(e,t,r,i){let n=[];for(;t<e.length&&n.length<r;){let r=e[t],o=r.getKind();if(o!==s.SyntaxKind.SingleLineCommentTrivia&&o!==s.SyntaxKind.MultiLineCommentTrivia){if(o!==i)throw new s.errors.NotImplementedError(`Unexpected! Inserting syntax kind of ${s.getSyntaxKindName(i)}, but ${r.getKindName()} was inserted.`);n.push(r)}t++}if(n.length!==r)throw new s.errors.NotImplementedError(`Unexpected! Inserted ${r} child/children, but ${n.length} were inserted.`);return n}function eg(e){let t={};return Object.assign(t,eu(e)),t}function em(e){let t={};return Object.assign(t,{hasDeclareKeyword:e.hasDeclareKeyword()}),Object.assign(t,{isDefaultExport:e.hasDefaultKeyword(),isExported:e.hasExportKeyword()}),t}function ey(e){let t={};return Object.assign(t,{isStatic:e.isStatic()}),Object.assign(t,{isAbstract:e.isAbstract()}),Object.assign(t,eu(e)),Object.assign(t,{hasQuestionToken:e.hasQuestionToken()}),Object.assign(t,{hasOverrideKeyword:e.hasOverrideKeyword()}),t}function ex(e,t){let r=e<0?t+e:e;if(r<0)throw new s.errors.InvalidOperationError(`Invalid index: The max negative index is ${-1*t}, but ${e} was specified.`);if(e>t)throw new s.errors.InvalidOperationError(`Invalid index: The max index is ${t}, but ${e} was specified.`);return r}class ef{#K;constructor(e){this.#K=e}handleForValues(e,t,r,i){if(this.#K.hasCompilerNode(t))e.handleNode(this.#K.getExistingNodeFromCompilerNode(t),r,i);else if(t.kind===s.SyntaxKind.SyntaxList){let n=this.#K.getExistingNodeFromCompilerNode(t.getSourceFile());e.handleNode(this.#K.getNodeFromCompilerNode(t,n),r,i)}}forgetNodeIfNecessary(e){this.#K.hasCompilerNode(e)&&this.#K.getExistingNodeFromCompilerNode(e).forget()}getCompilerChildrenAsIterators(e,t,r){let i=this.getCompilerChildren(e,t,r);return[new a(s.ArrayUtils.toIterator(i[0])),new a(s.ArrayUtils.toIterator(i[1]))]}getCompilerChildren(e,t,r){let i=e.compilerNode,n=e._sourceFile.compilerNode;return[F.getCompilerChildren(i,n),F.getCompilerChildren(t,r)]}getChildrenFast(e,t,r){let i=e.compilerNode,n=e._sourceFile.compilerNode;return F.hasParsedTokens(i)?[F.getCompilerChildren(i,n),F.getCompilerChildren(t,r)]:[F.getCompilerForEachChildren(i,n),F.getCompilerForEachChildren(t,r)]}}class eS{compilerFactory;helper;constructor(e){this.compilerFactory=e,this.helper=new ef(e)}handleNode(e,t,r){if(e.getKind()!==t.kind){let r=[e.getKind(),t.kind];if(r.includes(s.ts.SyntaxKind.Identifier)&&r.includes(s.ts.SyntaxKind.PrivateIdentifier))return void e.forget();throw new s.errors.InvalidOperationError(`Error replacing tree! Perhaps a syntax error was inserted (Current: ${e.getKindName()} -- New: ${s.getSyntaxKindName(t.kind)}).`)}e._hasWrappedChildren()&&this.#w(e,t,r),this.compilerFactory.replaceCompilerNode(e,t)}#w(e,t,r){let[i,n]=this.helper.getChildrenFast(e,t,r);if(i.length!==n.length)throw Error(`Error replacing tree: The children of the old and new trees were expected to have the same count (${i.length}:${n.length}).`);for(let e=0;e<i.length;e++)this.helper.handleForValues(this,i[e],n[e],r)}}class eT{#K;#F;#C;#b;#I;constructor(e,t){this.#F=new eS(e),this.#C=new ef(e),this.#b=t.oldIndex,this.#I=t.newIndex,this.#K=e}handleNode(e,t,r){let[i,n]=this.#C.getCompilerChildren(e,t,r),o=this.#P(i);s.errors.throwIfNotEqual(n.length,o.length,"New children length should match the old children length.");for(let e=0;e<n.length;e++)this.#C.handleForValues(this.#F,o[e],n[e],r);this.#K.replaceCompilerNode(e,t)}#P(e){let t=[...e],r=t.splice(this.#b,1)[0];return t.splice(this.#I,0,r),t}}class eN{#K;#F;#C;#E;#D;#O;#A;constructor(e,t){this.#F=new eS(e),this.#C=new ef(e),this.#E=t.childCount,this.#D=t.isFirstChild,this.#O=t.replacingNodes?.map(e=>e.compilerNode),this.#A=t.customMappings,this.#K=e}handleNode(e,t,r){let[i,n]=this.#C.getCompilerChildrenAsIterators(e,t,r),s=this.#E;for(this.#v(t);!i.done&&!n.done&&!this.#D(i.peek,n.peek);)this.#C.handleForValues(this.#F,i.next(),n.next(),r);for(;!i.done&&this.#_(i.peek);)i.next();if(s>0)for(;s>0;)n.next(),s--;else if(s<0)for(;s<0;)this.#C.forgetNodeIfNecessary(i.next()),s++;for(;!i.done;)this.#C.handleForValues(this.#F,i.next(),n.next(),r);if(!n.done)throw Error("Error replacing tree: Should not have children left over.");this.#K.replaceCompilerNode(e,t)}#v(e){if(null!=this.#A)for(let t of this.#A(e))this.#K.replaceCompilerNode(t.currentNode,t.newNode)}#_(e){if(null==this.#O||0===this.#O.length)return!1;let t=this.#O.indexOf(e);return -1!==t&&(this.#O.splice(t,1),this.#C.forgetNodeIfNecessary(e),!0)}}class eK{#K;#C;constructor(e){this.#C=new ef(e),this.#K=e}handleNode(e,t,r){if(e.getKind()!==t.kind)return void e.forget();e._hasWrappedChildren()&&this.#w(e,t,r),this.#K.replaceCompilerNode(e,t)}#w(e,t,r){let[i,n]=this.#C.getChildrenFast(e,t,r),o=s.ArrayUtils.toIterator(n);for(let e of i){let t=o.next();if(t.done){let t=this.#K.getExistingNodeFromCompilerNode(e);null!=t&&t.forget()}else this.#C.handleForValues(this,e,t.value,r)}}}class ew extends eS{#L;#k;#M;#W=!1;#B;constructor(e,t,r){super(e),this.#M=r.getParentSyntaxList()??r.getParent(),this.#B=null!=this.#M&&this.#M.getPos()===r.getPos(),this.#k=t,this.#L=r}handleNode(e,t,r){!this.#W&&this.#R(t,r)?(this.#W=!0,this.#k.handleNode(e,t,r)):super.handleNode(e,t,r)}#R(e,t){if(!(eF(e,this.#L)&&eF(I(e,t)||e.parent,this.#M)))return!1;if(!this.#B)return!0;return r(this.#L.compilerNode)===r(e);function r(e){let t=e,r=0;for(;null!=t.parent;)r++,t=t.parent;return r}}}function eF(e,t){return null==e&&null==t||null!=e&&null!=t&&e.pos===t.getPos()&&e.kind===t.getKind()}class eC{#K;#F;#C;#l;#j;constructor(e,t){this.#F=new eS(e),this.#C=new ef(e),this.#l=t.start,this.#j=t.end,this.#K=e}handleNode(e,t,r){let i=e._sourceFile.compilerNode,n=this.#C.getChildrenFast(e,t,r),o=new a(s.ArrayUtils.toIterator(n[0])),l=new a(s.ArrayUtils.toIterator(n[1]));for(;!o.done&&!l.done&&l.peek.getEnd()<=this.#l;)this.#J(o.next(),l.next(),r);for(;!o.done&&!l.done&&(o.peek.getStart(i)<this.#l||o.peek.getStart(i)===this.#l&&l.peek.end>this.#j);)this.#U(o.next(),l.next(),r);for(;!l.done&&l.peek.getEnd()<=this.#j;)l.next();for(;!o.done;)this.#J(o.next(),l.next(),r);if(!l.done)throw Error("Error replacing tree: Should not have children left over.");this.#K.replaceCompilerNode(e,t)}#J(e,t,r){this.#C.handleForValues(this.#F,e,t,r)}#U(e,t,r){this.#C.handleForValues(this,e,t,r)}}class eb{#K;#F;#C;#l;#j;#z;#O;#A;constructor(e,t){this.#F=new eS(e),this.#C=new ef(e),this.#l=t.start,this.#j=t.end,this.#z=t.replacingLength,this.#O=t.replacingNodes?.map(e=>e.compilerNode),this.#A=t.customMappings,this.#K=e}handleNode(e,t,r){let i=e._sourceFile.compilerNode,[n,s]=this.#C.getCompilerChildrenAsIterators(e,t,r);for(this.#v(t,r);!n.done&&!s.done&&s.peek.getStart(r)<this.#l;)this.#J(n.next(),s.next(),r);let o=[];for(;!s.done&&s.peek.getStart(r)>=this.#l&&eI(s.peek,r)<=this.#j;)o.push(s.next());if(null!=this.#z){let e=this.#l+this.#z,t=[];for(;!n.done&&(eI(n.peek,i)<=e||n.peek.getStart(i)<e);)t.push(n.next());if(t.length===o.length&&t.every((e,t)=>e.kind===o[t].kind))for(let e=0;e<t.length;e++){let r=this.#K.getExistingNodeFromCompilerNode(t[e]);null!=r&&(r.forgetDescendants(),this.#K.replaceCompilerNode(t[e],o[e]))}else t.forEach(e=>this.#C.forgetNodeIfNecessary(e))}for(;!n.done;)this.#J(n.next(),s.next(),r);if(!s.done)throw Error("Error replacing tree: Should not have children left over.");this.#K.replaceCompilerNode(e,t)}#v(e,t){if(null!=this.#A)for(let r of this.#A(e,t))r.currentNode._context.compilerFactory.replaceCompilerNode(r.currentNode,r.newNode)}#J(e,t,r){this.#_(e)||this.#C.handleForValues(this.#F,e,t,r)}#_(e){if(null==this.#O||0===this.#O.length)return!1;let t=this.#O.indexOf(e);return -1!==t&&(this.#O.splice(t,1),this.#C.forgetNodeIfNecessary(e),!0)}}function eI(e,t){return e.kind>=s.ts.SyntaxKind.FirstJSDocNode&&e.kind<=s.ts.SyntaxKind.LastJSDocNode?es(t.text,e.end,e=>e!==l.ASTERISK&&!s.StringUtils.isWhitespaceCharCode(e)):e.end}class eP extends eS{handleNode(e,t,r){let i=e.getKind(),n=t.kind;if(i===s.SyntaxKind.ShorthandPropertyAssignment&&n===s.SyntaxKind.PropertyAssignment){let r=e.getSourceFile(),i=e.getNameNode(),n=t.initializer;this.compilerFactory.replaceCompilerNode(i,n),e.forget(),this.compilerFactory.getNodeFromCompilerNode(t,r);return}if(i===s.SyntaxKind.ExportSpecifier&&n===s.SyntaxKind.ExportSpecifier&&null==e.compilerNode.propertyName&&null!=t.propertyName||i===s.SyntaxKind.ImportSpecifier&&n===s.SyntaxKind.ImportSpecifier&&null==e.compilerNode.propertyName&&null!=t.propertyName)return void o(this.compilerFactory);function o(r){function i(e){return e.kind===s.SyntaxKind.Identifier?e.escapedText:e.text}let n=e.getNameNode(),o=t.propertyName,a=t.name,l=i(o)===i(n.compilerNode)?a:o;r.replaceCompilerNode(n,l),r.replaceCompilerNode(e,t)}super.handleNode(e,t,r)}}class eE{#V;constructor(e){this.#V=e}handleNode(e,t,r){if(!tr.isSourceFile(e))throw new s.errors.InvalidOperationError("Can only use a TryOrForgetNodeHandler with a source file.");try{this.#V.handleNode(e,t,r)}catch(r){e._context.logger.warn("Could not replace tree, so forgetting all nodes instead. Message: "+r),e.getChildSyntaxListOrThrow().forget(),e._context.compilerFactory.replaceCompilerNode(e,t)}}}class eD{#$;#K;#F;#C;constructor(e,t){this.#F=new eS(e),this.#C=new ef(e),this.#K=e,this.#$=t}handleNode(e,t,r){let[i,n]=this.#C.getCompilerChildrenAsIterators(e,t,r),s=0;for(;!i.done&&!n.done&&s++<this.#$;)this.#C.handleForValues(this.#F,i.next(),n.next(),r);let o=this.#K.getExistingNodeFromCompilerNode(i.next()),a=o.getChildSyntaxListOrThrow();for(let e of F.getCompilerChildren(a.compilerNode,a._sourceFile.compilerNode))this.#C.handleForValues(this.#F,e,n.next(),r);for(!function e(t){if(t===a)return void t._forgetOnlyThis();for(let r of t._getChildrenInCacheIterator())e(r);t._forgetOnlyThis()}(o);!i.done;)this.#C.handleForValues(this.#F,i.next(),n.next(),r);if(!n.done)throw Error("Error replacing tree: Should not have children left over.");this.#K.replaceCompilerNode(e,t)}}class eO{getDefault(e){let{parent:t,isFirstChild:r,childCount:i,customMappings:n}=e,s=t.getSourceFile(),o=s._context.compilerFactory,a=new eN(o,{childCount:i,isFirstChild:r,replacingNodes:null==e.replacingNodes?void 0:[...e.replacingNodes],customMappings:n});return t===s?a:new ew(o,a,t)}getForParentRange(e){let{parent:t,start:r,end:i,replacingLength:n,replacingNodes:s,customMappings:o}=e,a=t.getSourceFile(),l=a._context.compilerFactory,c=new eb(l,{start:r,end:i,replacingLength:n,replacingNodes:s,customMappings:o});return t===a?c:new ew(l,c,t)}getForRange(e){let{sourceFile:t,start:r,end:i}=e;return new eC(t._context.compilerFactory,{start:r,end:i})}getForChildIndex(e){let{parent:t,childIndex:r,childCount:i,replacingNodes:n,customMappings:o}=e,a=t.getChildren();s.errors.throwIfOutOfRange(r,[0,a.length],"opts.childIndex"),i<0&&s.errors.throwIfOutOfRange(i,[r-a.length,0],"opts.childCount");let l=0;return this.getDefault({parent:t,isFirstChild:()=>l++===r,childCount:i,replacingNodes:n,customMappings:o})}getForStraightReplacement(e){return new eS(e)}getForForgetChanged(e){return new eK(e)}getForRename(e){return new eP(e)}getForTryOrForget(e){return new eE(e)}getForChangingChildOrder(e){let{parent:t,oldIndex:r,newIndex:i}=e,n=t.getSourceFile(),s=n._context.compilerFactory,o=new eT(s,{oldIndex:r,newIndex:i});return t===n?o:new ew(s,o,t)}getForUnwrappingNode(e){let t=e.getParentSyntaxList()||e.getParentOrThrow(),r=e.getChildIndex(),i=t.getSourceFile(),n=i._context.compilerFactory,s=new eD(n,r);return t===i?s:new ew(n,s,t)}}function eA(e){let{parent:t,previousSibling:r,nextSibling:i,newLineKind:s,getSiblingFormatting:o}=e;if(null==r||null==i)return"";let a=o(t,r),l=o(t,i);return a===n.Blankline||l===n.Blankline?s+s:a===n.Newline||l===n.Newline?s:a===n.Space||l===n.Space?" ":""}class ev{#G;constructor(e){this.#G=e}getNewText(e){let t,r,{parent:i,oldIndex:n,newIndex:s,getSiblingFormatting:o}=this.#G,a=i.getChildren(),l=i._context.manipulationSettings.getNewLineKindAsString(),c=a[n],d=i._sourceFile.getFullText(),u=ea(d,c.getPos()),h=d.substring(u,c.getEnd()),p=Math.min(s,n),g=Math.max(s,n),m=function(){let e=[...a];return e.splice(n,1),e.splice(s,0,c),e}(),y=tr.isSourceFile(i.getParentOrThrow()),x="";return x+=d.substring(0,a[p].getPos()),0!==p||y||(x+=l),f(p),p===n?(t=ea(d,a[p].getEnd()),r=a[g].getEnd()):(t=ea(d,a[p].getPos()),r=a[g].getPos()),x+=d.substring(t,r),f(g),a.length-1!==g||y||(x+=l),x+=d.substring(ea(d,a[g].getEnd())),x;function f(e){e===n?0!==n&&n!==a.length-1&&S({previousSibling:m[n-1],nextSibling:m[n]}):(0!==s&&S({previousSibling:m[s-1],nextSibling:m[s]}),x+=h,S({previousSibling:m[s],nextSibling:m[s+1]}))}function S(e){let t=eA({parent:i,getSiblingFormatting:o,newLineKind:l,previousSibling:e.previousSibling,nextSibling:e.nextSibling}),r=l+l;if(t===r)if(x.endsWith(r))return;else x.endsWith(l)?x+=l:x+=r;else if(t===l)if(x.endsWith(l))return;else x+=l;else if(" "===t)if(x.endsWith(" "))return;else x+=" ";else x+=t}}getTextForError(e){return e}}class e_{#Q;constructor(e){this.#Q=e}getNewText(e){return this.#Q}getTextForError(e){return e}}function eL(e,t,r=0){let i=Math.max(0,e.lastIndexOf("\n",t)-100),n=Math.min(e.length,e.indexOf("\n",t+r));n=-1===n?e.length:Math.min(e.length,n+100);let s="";return s+=e.substring(i,n),0!==i&&(s="..."+s),n!==e.length&&(s+="..."),s}class ek{#G;constructor(e){this.#G=e}getNewText(e){let{insertPos:t,newText:r,replacingLength:i=0}=this.#G;return e.substring(0,t)+r+e.substring(t+i)}getTextForError(e){return eL(e,this.#G.insertPos,this.#G.newText.length)}}class eM{#G;#H;constructor(e){this.#G=e}getNewText(e){let t=this.#G,{children:r,removePrecedingSpaces:i=!1,removeFollowingSpaces:n=!1,removePrecedingNewLines:s=!1,removeFollowingNewLines:o=!1,replaceTrivia:a=""}=t,c=r[0].getSourceFile().getFullText(),d=function(){if(null!=t.customRemovalPos)return t.customRemovalPos;let e=r[0].getNonWhitespaceStart();return i||s?es(c,e,u(i,s)):e}();return this.#H=d,c.substring(0,d)+a+c.substring(function(){if(null!=t.customRemovalEnd)return t.customRemovalEnd;let e=r[r.length-1].getEnd();return n||o?en(c,e,u(n,o)):e}());function u(e,t){return r=>{var i;return(!t||r!==l.CARRIAGE_RETURN&&r!==l.NEWLINE)&&(!e||(i=r)!==l.SPACE&&i!==l.TAB)}}}getTextForError(e){return eL(e,this.#H)}}function eW(e,t){return"\n"===e[t]||"\r"===e[t]&&"\n"===e[t+1]}class eB{#G;#H;constructor(e){this.#G=e}getNewText(e){let{children:t,getSiblingFormatting:r}=this.#G,i=t[0],s=t[t.length-1],o=i.getParentOrThrow(),a=o.getSourceFile(),l=a.getFullText(),c=a._context.manipulationSettings.getNewLineKindAsString(),d=i.getPreviousSibling(),u=s.getNextSibling(),h=function(){if(null!=d){let e=d.getTrailingTriviaEnd();return eW(l,e)?e:d.getEnd()}let e=es(l,i.getPos(),eo);return o.getPos()===e?i.getNonWhitespaceStart():i.isFirstNodeOnLine()?e:i.getNonWhitespaceStart()}();return this.#H=h,l.substring(0,h)+eA({parent:o,previousSibling:d,nextSibling:u,newLineKind:c,getSiblingFormatting:r})+l.substring(function(){let e=s.getTrailingTriviaEnd();if(null!=d&&null!=u){let e=r(o,u);return e===n.Blankline||e===n.Newline?el(l,u.getNonWhitespaceStart()):u.getNonWhitespaceStart()}if(o.getEnd()===s.getEnd())return s.getEnd();if(eW(l,e)){if(null==d&&0===i.getPos())return ea(l,e);for(var t=ea(l,e);t>0;)if("\n"===l[--t]){if("\r"===l[t-1])return t-1;break}return t}return null==d?e:s.getEnd()}())}getTextForError(e){return eL(e,this.#H)}}class eR{#q;#Y;constructor(e,t){this.#Y=e,this.#q=t}getNewText(e){let t=[...this.#Y].sort((e,t)=>t.getTextSpan().getStart()-e.getTextSpan().getStart()),r=e.length,i="";for(let n=0;n<t.length;n++){let s=t[n],o=s.getTextSpan();i=(s.getPrefixText()||"")+this.#q+(s.getSuffixText()||"")+e.substring(o.getEnd(),r)+i,r=o.getStart()}return e.substring(0,r)+i}getTextForError(e){return 0===this.#Y.length?e:"..."+e.substring(this.#Y[0].getTextSpan().getStart())}}class ej{getNewText(e){return e}getTextForError(e){return e}}class eJ extends ek{constructor(e){super({insertPos:e.getStart(!0),newText:function(e){let t=e._sourceFile,r=function(){let t=function(){if(tr.isModuleDeclaration(e)){let t=e._getInnerBody();if(null==t)throw new s.errors.InvalidOperationError("This operation requires the module to have a body.");return t}return tr.isBodied(e)?e.getBody():tr.isBodyable(e)?e.getBodyOrThrow():void s.errors.throwNotImplementedForSyntaxKindError(e.getKind(),e)}();return[t.getStart()+1,t.getEnd()-1]}(),i=r[0],n=t.getFullText().substring(r[0],r[1]);return s.StringUtils.indent(n,-1,{indentText:t._context.manipulationSettings.getIndentationText(),indentSizeInSpaces:t._context.manipulationSettings._getIndentSizeInSpaces(),isInStringAtPos:e=>t.isInStringAtPos(i+e)}).trim()}(e),replacingLength:e.getWidth(!0)})}}class eU extends s.errors.InvalidOperationError{filePath;oldText;newText;constructor(e,t,r,i){super(i),this.filePath=e,this.oldText=t,this.newText=r}}function ez(e,t,r,i){e._firePreModified();let n=e.getFullText(),s=t.getNewText(n);try{let t=e._context.compilerFactory.createCompilerSourceFileFromText(i||e.getFilePath(),s,e.getScriptKind());r.handleNode(e,t,t)}catch(a){let r=function(e,t){try{let r=new e._context.project.constructor({useInMemoryFileSystem:!0}),i=r.createSourceFile(e.getFilePath(),t);return r.getProgram().getSyntacticDiagnostics(i)}catch(e){return[]}}(e,s),i=a.message+"\n\n"+`-- Details --
`+"Path: "+e.getFilePath()+"\nText: "+JSON.stringify(t.getTextForError(s))+"\nStack: "+a.stack;function o(t){throw new eU(e.getFilePath(),n,s,t)}r.length>0&&o("Manipulation error: A syntax error was inserted.\n\n"+e._context.project.formatDiagnosticsWithColorAndContext(r,{newLineChar:"\n"})+"\n"+i),o("Manipulation error: "+i)}}function eV(e){let{insertPos:t,newText:r,parent:i}=e;ez(i._sourceFile,new ek({insertPos:t,newText:r,replacingLength:e.replacing?.textLength}),new eO().getForParentRange({parent:i,start:t,end:t+r.length,replacingLength:e.replacing?.textLength,replacingNodes:e.replacing?.nodes,customMappings:e.customMappings}))}function e$(e){let{currentNodes:t,insertIndex:r,parent:i}=e,n=t[r-1],o=function(){for(let e=r-1;e>=0;e--)if(!tr.isCommentNode(t[e]))return t[e]}(),a=t[r],l=function(){for(let e=r;e<t.length;e++)if(!tr.isCommentNode(t[e]))return t[e]}(),c=e.useNewLines?i._context.manipulationSettings.getNewLineKindAsString():" ",d=i.getNextSibling(),u=null!=d&&(d.getKind()===s.SyntaxKind.CloseBraceToken||d.getKind()===s.SyntaxKind.CloseBracketToken),{newText:h}=e;if(null!=n){(function(){if(null==o)return p();let e=i.getSourceFile().getFullText(),t=o.getNextSibling(),r="";function a(){let t=c(n)||n.getEnd();r+=e.substring(o.getEnd(),t)}function l(t){let i=c(t);null!=i&&(r+=e.substring(t.getEnd(),i))}function c(e){let t=e.getTrailingCommentRanges(),r=t[t.length-1];return r?.getEnd()}null!=t&&t.getKind()===s.SyntaxKind.CommaToken?(l(o),r+=",",o===n?l(t):a()):(r+=",",o===n?l(o):a()),p(),h=r+h})(),null!=l||e.useTrailingCommas?g():e.useNewLines||e.surroundWithSpaces?m():y();let t=null==a?u?d.getStart(!0):i.getEnd():a.getStart(!0),r=(o||n).getEnd();eV({insertPos:r,newText:h,parent:i,replacing:{textLength:t-r}})}else if(null!=a){(e.useNewLines||e.surroundWithSpaces)&&p(),null!=l||e.useTrailingCommas?g():m();let t=u?i.getPos():i.getStart(!0);eV({insertPos:t,newText:h,parent:i,replacing:{textLength:a.getStart(!0)-t}})}else e.useNewLines||e.surroundWithSpaces?(p(),e.useTrailingCommas?g():m()):y(),eV({insertPos:i.getPos(),newText:h,parent:i,replacing:{textLength:i.getNextSiblingOrThrow().getStart()-i.getPos()}});function p(){s.StringUtils.startsWithNewLine(h)||(h=c+h)}function g(){h=function(e){let t=er(e);return -1===t?e:e.substring(0,t)+","+e.substring(t)}(h),m()}function m(){s.StringUtils.endsWithNewLine(h)||(h+=c),y()}function y(){(e.useNewLines||s.StringUtils.endsWithNewLine(h))&&(null!=a?h+=i.getParentOrThrow().getChildIndentationText():h+=i.getParentOrThrow().getIndentationText())}}function eG(e){let{parent:t,index:r,children:i}=e,n=t._sourceFile.getFullText(),o=t.getChildSyntaxListOrThrow(),a=ec(r,o,i),l=function(e,t,r,i){let n;if(e===r.length)if(tr.isSourceFile(t))n=t.getEnd();else if(tr.isCaseClause(t)||tr.isDefaultClause(t))n=t.getEnd();else{let e=ed(t).getLastChildByKind(s.SyntaxKind.CloseBraceToken);n=null==e?t.getEnd():e.getStart()}else n=r[e].getNonWhitespaceStart();return el(i,n)}(r,t,i,n)-a,c=function(){let n=t._getWriterWithChildIndentation();return e.write(n,{previousMember:s(i[r-1]),nextMember:s(i[r]),isStartOfFile:0===a}),n.toString();function s(e){return null==e?e:tr.isOverloadable(e)&&e.getImplementation()||e}}();ez(t._sourceFile,new ek({insertPos:a,replacingLength:l,newText:c}),new eO().getForParentRange({parent:o,start:a,end:a+c.length,replacingLength:l}))}function eQ(e){if(0===e.structures.length)return[];let t=e.getIndexedChildren(),r=e.parent.getChildSyntaxListOrThrow(),i=ex(e.index,t.length),n=function(){let e=0,r=0;for(let n=i-1;n>=0;n--){let i=t[n];if(tr.isCommentNode(i))e++,i.getText().startsWith("/**")&&(r=e);else break}return r}();return eG({parent:e.parent,index:0===i?0:t[i-1].getChildIndex()+1,children:r.getChildren(),write:e.write}),ep(e.getIndexedChildren(),e.index-n,e.structures.length,e.expectedKind)}function eH(e){let t=e.getIndexedChildren(),r=e.parent.getChildSyntaxListOrThrow(),i=ex(e.index,t.length);return eG({parent:e.parent,index:0===i?0:t[i-1].getChildIndex()+1,children:r.getChildren(),write:e.write}),eh(t,e.getIndexedChildren(),i,!0)}function eq(e){let{children:t}=e;0!==t.length&&ez(t[0].getSourceFile(),new eM(e),new eO().getForChildIndex({parent:t[0].getParentSyntaxList()||t[0].getParentOrThrow(),childIndex:t[0].getChildIndex(),childCount:-1*t.length}))}function eY(e){let{children:t,getSiblingFormatting:r}=e;0!==t.length&&ez(t[0]._sourceFile,new eB({children:t,getSiblingFormatting:r}),new eO().getForChildIndex({parent:t[0].getParentSyntaxList()||t[0].getParentOrThrow(),childIndex:t[0].getChildIndex(),childCount:-1*t.length}))}function eX(e){eY({getSiblingFormatting:H,children:e})}function eZ(e){eY({getSiblingFormatting:q,children:e})}function e0(e){let t=[e],r=e.getParentSyntaxListOrThrow(),i=t[0]===r.getFirstChild();(function(){let r=e.getNextSiblingIfKind(s.SyntaxKind.CommaToken);null!=r&&t.push(r)})(),function(){if(r.getLastChild()!==t[t.length-1])return;let i=e.getPreviousSiblingIfKind(s.SyntaxKind.CommaToken);null!=i&&t.unshift(i)}(),eq({children:t,removePrecedingSpaces:!i||r.getChildren().length===t.length&&t[0].isFirstNodeOnLine(),removeFollowingSpaces:i,removePrecedingNewLines:!i,removeFollowingNewLines:i})}function e1(e){eY({getSiblingFormatting:Y,children:e})}function e5(e){eY({getSiblingFormatting:X,children:e})}function e2(e){ez(e.sourceFile,new ek({insertPos:e.start,newText:e.newText,replacingLength:e.replacingLength}),new eO().getForForgetChanged(e.sourceFile._context.compilerFactory))}function e3(e){let{sourceFile:t,newText:r}=e;ez(t,new e_(r),new eO().getForStraightReplacement(t._context.compilerFactory))}function e8(e){let{sourceFile:t,newFilePath:r}=e;ez(t,new ej,new eO().getForStraightReplacement(t._context.compilerFactory),r)}function e9(e){return class extends e{getArguments(){return this.compilerNode.arguments?.map(e=>this._getNodeFromCompilerNode(e))??[]}addArgument(e){return this.addArguments([e])[0]}addArguments(e){return this.insertArguments(this.getArguments().length,e)}insertArgument(e,t){return this.insertArguments(e,[t])[0]}insertArguments(e,t){if(t instanceof Function&&(t=[t]),s.ArrayUtils.isNullOrEmpty(t))return[];this._addParensIfNecessary();let r=this.getArguments();e=ex(e,r.length);let i=this._getWriterWithQueuedChildIndentation();for(let e=0;e<t.length;e++)i.conditionalWrite(e>0,", "),M(i,t[e]);return e$({parent:this.getFirstChildByKindOrThrow(s.SyntaxKind.OpenParenToken).getNextSiblingIfKindOrThrow(s.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:i.toString(),useTrailingCommas:!1}),eh(r,this.getArguments(),e,!1)}removeArgument(e){let t=this.getArguments();if(0===t.length)throw new s.errors.InvalidOperationError("Cannot remove an argument when none exist.");return e0("number"==typeof e?t[ex(e,t.length-1)]:e),this}_addParensIfNecessary(){let e=this.getFullText();")"!==e[e.length-1]&&eV({insertPos:this.getEnd(),newText:"()",parent:this})}}}function e6(e){return class extends e{isAsync(){return this.hasModifier(s.SyntaxKind.AsyncKeyword)}getAsyncKeyword(){return this.getFirstModifierByKind(s.SyntaxKind.AsyncKeyword)}getAsyncKeywordOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getAsyncKeyword(),e??"Expected to find an async keyword.",this)}setIsAsync(e){return this.toggleModifier("async",e),this}set(t){return G(e.prototype,this,t),null!=t.isAsync&&this.setIsAsync(t.isAsync),this}getStructure(){return $(e.prototype,this,{isAsync:this.isAsync()})}}}function e7(e,t){return e.newLineIfLastNot(),("string"!=typeof t||t.length>0)&&e.indent(()=>{M(e,t)}),e.newLineIfLastNot(),e.write(""),e.toString()}function e4(e){let t=e._sourceFile,r=e.getChildSyntaxList()||e,i=r.getNonWhitespaceStart(),n=Math.max(i,r._getTrailingTriviaNonWhitespaceEnd());if(0==n-i)return"";let o=t.getFullText().substring(i,n);return s.StringUtils.removeIndentation(o,{indentSizeInSpaces:e._context.manipulationSettings._getIndentSizeInSpaces(),isInStringAtPos:e=>t.isInStringAtPos(e+i)})}class te{#X;#c;constructor(e,t){this.#X=e,this.#c=t}get compilerObject(){return this.#Z(),this.#X}getSourceFile(){return this.#Z(),this.#c}getPos(){return this.compilerObject.pos}getEnd(){return this.compilerObject.end}getWidth(){return this.getEnd()-this.getPos()}getText(){return this.getSourceFile().getFullText().substring(this.compilerObject.pos,this.compilerObject.end)}_forget(){this.#X=void 0,this.#c=void 0}wasForgotten(){return null==this.#X}#Z(){if(null==this.#X)throw new s.errors.InvalidOperationError("Attempted to get a text range that was forgotten. Text ranges are forgotten after a manipulation has occurred. Please re-request the text range after manipulations.")}}class tt extends te{constructor(e,t){super(e,t)}getKind(){return this.compilerObject.kind}}class tr{#ee;#et;#er;#ei;#en;_wrappedChildCount=0;_context;__sourceFile;get _sourceFile(){if(null==this.__sourceFile)throw new s.errors.InvalidOperationError("Operation cannot be performed on a node that has no source file.");return this.__sourceFile}get compilerNode(){if(null==this.#ee){let e="Attempted to get information from a node that was removed or forgotten.";throw null!=this.#et&&(e+=`

Node text: ${this.#et}`),new s.errors.InvalidOperationError(e)}return this.#ee}constructor(e,t,r){if(null==e||null==e.compilerFactory)throw new s.errors.InvalidOperationError("Constructing a node is not supported. Please create a source file from the default export of the package and manipulate the source file from there.");this._context=e,this.#ee=t,this.__sourceFile=r}forget(){this.wasForgotten()||(this.forgetDescendants(),this._forgetOnlyThis())}forgetDescendants(){for(let e of this._getChildrenInCacheIterator())e.forget()}_forgetOnlyThis(){if(this.wasForgotten())return;let e=this.getParent();null!=e&&e._wrappedChildCount--,this.#es(),this._context.compilerFactory.removeNodeFromCache(this),this._clearInternals()}wasForgotten(){return null==this.#ee}_hasWrappedChildren(){return this._wrappedChildCount>0||this.#ee?.kind===s.SyntaxKind.SyntaxList}_replaceCompilerNodeFromFactory(e){null==e&&this.#es(),this._clearInternals(),this.#ee=e}#es(){let e=this._sourceFile&&this._sourceFile.compilerNode,t=this.#ee;null!=e&&null!=t&&(this.#et=function(){let r=t.getStart(e),i=t.end-r,n=Math.min(i,100),s=e.text.substr(r,n);return n!==i?s+"...":s}())}_clearInternals(){function e(e){null!=e&&e.forEach(e=>e._forget())}this.#ee=void 0,this.#er=void 0,e(this.#ei),e(this.#en),this.#ei=void 0,this.#en=void 0}getKind(){return this.compilerNode.kind}getKindName(){return s.getSyntaxKindName(this.compilerNode.kind)}getFlags(){return this.compilerNode.flags}print(e={}){return(null==e.newLineKind&&(e.newLineKind=this._context.manipulationSettings.getNewLineKind()),this.getKind()===s.SyntaxKind.SourceFile)?A(this.compilerNode,e):A(this.compilerNode,this._sourceFile.compilerNode,e)}getSymbolOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getSymbol(),e??"Could not find the node's symbol.",this)}getSymbol(){let e=this.compilerNode.symbol;if(null!=e)return this._context.compilerFactory.getSymbol(e);let t=this._context.typeChecker.getSymbolAtLocation(this);if(null!=t)return t;let r=this.compilerNode.name;if(null!=r)return this._getNodeFromCompilerNode(r).getSymbol()}getSymbolsInScope(e){return this._context.typeChecker.getSymbolsInScope(this,e)}getLocalOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getLocal(e),t??(()=>`Expected to find local symbol with name: ${e}`),this)}getLocal(e){let t=this.#eo();if(null==t)return;let r=t.get(s.ts.escapeLeadingUnderscores(e));return null==r?void 0:this._context.compilerFactory.getSymbol(r)}getLocals(){let e=this.#eo();return null==e?[]:Array.from(e.values()).map(e=>this._context.compilerFactory.getSymbol(e))}#eo(){return this._ensureBound(),this.compilerNode.locals}getType(){return this._context.typeChecker.getTypeAtLocation(this)}containsRange(e,t){return this.getPos()<=e&&t<=this.getEnd()}isInStringAtPos(e){if(s.errors.throwIfOutOfRange(e,[this.getPos(),this.getEnd()],"pos"),null==this.#er)for(let e of(this.#er=[],this._getCompilerDescendantsIterator()))(function(e){switch(e){case s.SyntaxKind.StringLiteral:case s.SyntaxKind.NoSubstitutionTemplateLiteral:case s.SyntaxKind.TemplateHead:case s.SyntaxKind.TemplateMiddle:case s.SyntaxKind.TemplateTail:return!0;default:return!1}})(e.kind)&&this.#er.push([e.getStart(this._sourceFile.compilerNode),e.getEnd()]);class t{compareTo(t){return e<=t[0]?-1:+(e>=t[1]-1)}}return -1!==s.ArrayUtils.binarySearch(this.#er,new t)}asKindOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.asKind(e),t??(()=>`Expected the node to be of kind ${s.getSyntaxKindName(e)}, but it was ${s.getSyntaxKindName(this.getKind())}.`),this)}isKind(e){return this.getKind()===e}asKind(e){return this.isKind(e)?this:void 0}getFirstChildOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getFirstChild(e),t??"Could not find a child that matched the specified condition.",this)}getFirstChild(e){let t=this._getCompilerFirstChild(ti(this,e));return this._getNodeFromCompilerNodeIfExists(t)}getLastChildOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getLastChild(e),t??"Could not find a child that matched the specified condition.",this)}getLastChild(e){let t=this._getCompilerLastChild(ti(this,e));return this._getNodeFromCompilerNodeIfExists(t)}getFirstDescendantOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getFirstDescendant(e),t??"Could not find a descendant that matched the specified condition.",this)}getFirstDescendant(e){for(let t of this._getDescendantsIterator())if(null==e||e(t))return t}getPreviousSiblingOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getPreviousSibling(e),t??"Could not find the previous sibling.",this)}getPreviousSibling(e){let t=this._getCompilerPreviousSibling(ti(this,e));return this._getNodeFromCompilerNodeIfExists(t)}getNextSiblingOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getNextSibling(e),t??"Could not find the next sibling.",this)}getNextSibling(e){let t=this._getCompilerNextSibling(ti(this,e));return this._getNodeFromCompilerNodeIfExists(t)}getPreviousSiblings(){return this._getCompilerPreviousSiblings().map(e=>this._getNodeFromCompilerNode(e))}getNextSiblings(){return this._getCompilerNextSiblings().map(e=>this._getNodeFromCompilerNode(e))}getChildren(){return this._getCompilerChildren().map(e=>this._getNodeFromCompilerNode(e))}getChildAtIndex(e){return this._getNodeFromCompilerNode(this._getCompilerChildAtIndex(e))}*_getChildrenIterator(){for(let e of this._getCompilerChildren())yield this._getNodeFromCompilerNode(e)}*_getChildrenInCacheIterator(){for(let e of this._getCompilerChildrenFast())this._context.compilerFactory.hasCompilerNode(e)?yield this._context.compilerFactory.getExistingNodeFromCompilerNode(e):e.kind===s.SyntaxKind.SyntaxList&&(yield this._getNodeFromCompilerNode(e))}getChildSyntaxListOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getChildSyntaxList(),e??"A child syntax list was expected.",this)}getChildSyntaxList(){let e=this;if(tr.isBodyable(e)||tr.isBodied(e))do{let t=(tr.isBodyable(e),e.getBody());if(null==t)return;e=t}while((tr.isBodyable(e)||tr.isBodied(e))&&null==e.compilerNode.statements);if(tr.isSourceFile(e)||tr.isBodyable(this)||tr.isBodied(this)||tr.isCaseBlock(this)||tr.isCaseClause(this)||tr.isDefaultClause(this)||tr.isJsxElement(this))return e.getFirstChildByKind(s.SyntaxKind.SyntaxList);let t=!1;for(let r of e._getCompilerChildren())if(t){if(r.kind===s.SyntaxKind.SyntaxList)return this._getNodeFromCompilerNode(r)}else t=r.kind===s.SyntaxKind.OpenBraceToken}forEachChild(e,t){let r=[];for(let i of(this.compilerNode.forEachChild(e=>{r.push(this._getNodeFromCompilerNode(e))},null==t?void 0:e=>{r.push(e.map(e=>this._getNodeFromCompilerNode(e)))}),r))if(i instanceof Array){let e=i.filter(e=>!e.wasForgotten());if(e.length>0){let r=t(e);if(r)return r}}else if(!i.wasForgotten()){let t=e(i);if(t)return t}}forEachDescendant(e,t){let r={},i={},n=!1,s=!1,o={stop:()=>n=!0,up:()=>s=!0},a=null==t?void 0:e=>{if(n)return r;let i=!1,a=t(e,{...o,skip:()=>i=!0});if(a)return a;if(!i)for(let t of e){if(n)return r;if(s)break;let e=c(t);if(e)return e}},l=c(this);return l===r?void 0:l;function c(t){let l=t.forEachChild(t=>{let a=(t=>{if(n)return r;let i=!1,a=e(t,{...o,skip:()=>i=!0});return a?a:n?r:i||s||t.wasForgotten()?void 0:c(t)})(t);return s?(s=!1,a||i):a},null==a?void 0:e=>{let t=a(e);return s?(s=!1,t||i):t});return l===i?void 0:l}}forEachChildAsArray(){let e=[];return this.compilerNode.forEachChild(t=>{e.push(this._getNodeFromCompilerNode(t))}),e}forEachDescendantAsArray(){let e=[];return this.forEachDescendant(t=>{e.push(t)}),e}getDescendants(){return Array.from(this._getDescendantsIterator())}*_getDescendantsIterator(){for(let e of this._getCompilerDescendantsIterator())yield this._getNodeFromCompilerNode(e)}getDescendantStatements(){let e=[];return t(this,this.compilerNode),e;function t(i,n){!function(t,i){if(null==i.statements)return!1;for(let n of t._getNodeFromCompilerNode(i).getStatements())e.push(n),r(t,n.compilerNode);return!0}(i,n)&&(n.kind===s.SyntaxKind.ArrowFunction?n.body.kind!==s.SyntaxKind.Block?e.push(i._getNodeFromCompilerNode(n.body)):t(i,n.body):r(i,n))}function r(e,r){s.ts.forEachChild(r,r=>t(e,r))}}getChildCount(){return this._getCompilerChildren().length}getChildAtPos(e){if(!(e<this.getPos()||e>=this.getEnd())){for(let t of this._getCompilerChildren())if(e>=t.pos&&e<t.end)return this._getNodeFromCompilerNode(t)}}getDescendantAtPos(e){let t;for(;;){let r=(t||this).getChildAtPos(e);if(null==r)return t;t=r}}getDescendantAtStartWithWidth(e,t){let r;return this._context.compilerFactory.forgetNodesCreatedInBlock(i=>{let n=this.getSourceFile();do if(null!=(n=n.getChildAtPos(e))){if(n.getStart()===e&&n.getWidth()===t)r=n;else if(null!=r)break}while(null!=n);null!=r&&i(r)}),r}getPos(){return this.compilerNode.pos}getEnd(){return this.compilerNode.end}getStart(e){return this.compilerNode.getStart(this._sourceFile.compilerNode,e)}getFullStart(){return this.compilerNode.getFullStart()}getNonWhitespaceStart(){return this._context.compilerFactory.forgetNodesCreatedInBlock(()=>{let e,t=this.getParent(),r=this.getPos();if(null!=t&&!tr.isSourceFile(t)&&t.getPos()===r)return this.getStart(!0);let i=this._sourceFile.getFullText(),n=this.getPreviousSibling();return e=null!=n&&tr.isCommentNode(n)?n.getEnd():null!=n?!function(e,t){for(let r=t[0];r<t[1];r++)if("\n"===e[r])return!0;return!1}(i,[r,this.getStart(!0)])?r:n.getTrailingTriviaEnd():this.getPos(),en(i,e,eo)})}_getTrailingTriviaNonWhitespaceEnd(){return es(this._sourceFile.getFullText(),this.getTrailingTriviaEnd(),eo)}getWidth(e){return this.getEnd()-this.getStart(e)}getFullWidth(){return this.compilerNode.getFullWidth()}getLeadingTriviaWidth(){return this.compilerNode.getLeadingTriviaWidth(this._sourceFile.compilerNode)}getTrailingTriviaWidth(){return this.getTrailingTriviaEnd()-this.getEnd()}getTrailingTriviaEnd(){let e=this.getParent(),t=this.getEnd();if(null==e||e.getEnd()===t)return t;let r=this.getTrailingCommentRanges(),i=r.length>0?r[r.length-1].getEnd():t;return en(this._sourceFile.getFullText(),i,e=>e!==l.SPACE&&e!==l.TAB)}getText(e){let t="object"==typeof e?e:void 0,r=!0===e||null!=t&&t.includeJsDocComments,i=null!=t&&t.trimLeadingIndentation,n=this.getStart(r),o=this._sourceFile.getFullText().substring(n,this.getEnd());return i?s.StringUtils.removeIndentation(o,{isInStringAtPos:e=>this._sourceFile.isInStringAtPos(e+n),indentSizeInSpaces:this._context.manipulationSettings._getIndentSizeInSpaces()}):o}getFullText(){return this.compilerNode.getFullText(this._sourceFile.compilerNode)}getCombinedModifierFlags(){return s.ts.getCombinedModifierFlags(this.compilerNode)}getSourceFile(){return this._sourceFile}getProject(){return this._context.project}getNodeProperty(e){let t=this.compilerNode[e];if(null!=t)return t instanceof Array?t.map(e=>r(e)?this._getNodeFromCompilerNode(e):e):r(t)?this._getNodeFromCompilerNode(t):t;function r(e){return"number"==typeof e.kind&&"number"==typeof e.pos&&"number"==typeof e.end}}getAncestors(e=!1){return Array.from(this._getAncestorsIterator(e))}*_getAncestorsIterator(e){let t=r(this);for(;null!=t;)yield t,t=r(t);function r(t){return e&&t.getParentSyntaxList()||t.getParent()}}getParent(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.parent)}getParentOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getParent(),e??"Expected to find a parent.",this)}getParentWhileOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getParentWhile(e),t??"The initial parent did not match the provided condition.",this)}getParentWhile(e){let t,r=this.getParent();for(;r&&e(r,t||this);)r=(t=r).getParent();return t}getParentWhileKindOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getParentWhileKind(e),t??(()=>`The initial parent was not a syntax kind of ${s.getSyntaxKindName(e)}.`),this)}getParentWhileKind(e){return this.getParentWhile(t=>t.getKind()===e)}getLastToken(){let e=this.compilerNode.getLastToken(this._sourceFile.compilerNode);if(null==e)throw new s.errors.NotImplementedError("Not implemented scenario where the last token does not exist.");return this._getNodeFromCompilerNode(e)}isInSyntaxList(){return null!=this.getParentSyntaxList()}getParentSyntaxListOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getParentSyntaxList(),e??"Expected the parent to be a syntax list.",this)}getParentSyntaxList(){let e=this.getKind();if(e===s.SyntaxKind.SingleLineCommentTrivia||e===s.SyntaxKind.MultiLineCommentTrivia)return this.getParentOrThrow().getChildSyntaxList();let t=I(this.compilerNode,this._sourceFile.compilerNode);return this._getNodeFromCompilerNodeIfExists(t)}_getParentSyntaxListIfWrapped(){let e=this.getParent();if(null!=e&&F.hasParsedTokens(e.compilerNode))return this.getParentSyntaxList()}getChildIndex(){let e=(this.getParentSyntaxList()||this.getParentOrThrow())._getCompilerChildren().indexOf(this.compilerNode);if(-1===e)throw new s.errors.NotImplementedError("For some reason the child's parent did not contain the child.");return e}getIndentationLevel(){let e=this._context.manipulationSettings.getIndentationText();return this._context.languageService.getIdentationAtPosition(this._sourceFile,this.getStart())/e.length}getChildIndentationLevel(){return tr.isSourceFile(this)?0:this.getIndentationLevel()+1}getIndentationText(e=0){return this.#ea(this.getIndentationLevel()+e)}getChildIndentationText(e=0){return this.#ea(this.getChildIndentationLevel()+e)}#ea(e){return this._context.manipulationSettings.getIndentationText().repeat(e)}getStartLinePos(e){return es(this._sourceFile.getFullText(),this.getStart(e),e=>e===l.NEWLINE||e===l.CARRIAGE_RETURN)}getStartLineNumber(e){return s.StringUtils.getLineNumberAtPos(this._sourceFile.getFullText(),this.getStartLinePos(e))}getEndLineNumber(){let e=es(this._sourceFile.getFullText(),this.getEnd(),e=>e===l.NEWLINE||e===l.CARRIAGE_RETURN);return s.StringUtils.getLineNumberAtPos(this._sourceFile.getFullText(),e)}isFirstNodeOnLine(){let e=this._sourceFile.getFullText(),t=this.getNonWhitespaceStart();for(let r=t-1;r>=0;r--){let t=e[r];if(" "!==t&&"	"!==t){if("\n"===t)return!0;return!1}}return!0}replaceWithText(e,t){let r=k(t||this._getWriterWithQueuedIndentation(),e);if(tr.isSourceFile(this))return this.replaceText([this.getPos(),this.getEnd()],r),this;let i=this.getParentSyntaxList()||this.getParentOrThrow(),n=this.getChildIndex(),s=this.getStart(!0);return eV({parent:i,insertPos:s,newText:r,replacing:{textLength:this.getEnd()-s}}),i.getChildren()[n]}prependWhitespace(e){tn(this,this.getStart(!0),e,s.nameof(this,"prependWhitespace"))}appendWhitespace(e){tn(this,this.getEnd(),e,s.nameof(this,"appendWhitespace"))}formatText(e={}){let t=this._context.languageService.getFormattingEditsForRange(this._sourceFile.getFilePath(),[this.getStart(!0),this.getEnd()],e);e3({sourceFile:this._sourceFile,newText:ee(this._sourceFile,t)})}transform(e){let t=this._context.compilerFactory,r=s.ts.createPrinter({newLine:this._context.manipulationSettings.getNewLineKind(),removeComments:!1}),i=[],n=this._sourceFile.compilerNode,o=this.compilerNode,a=r=>o=>(function r(o,a){let l=e({factory:a.factory,visitChildren:()=>o=s.ts.visitEachChild(o,e=>r(e,a),a),currentNode:o});return function(e,r){let s;if(e===r&&null==r.emitNode)return;let o=e.getStart(n,!0),a=e.end;for(;(s=i[i.length-1])&&s.start>o;)i.pop();let l=t.getExistingNodeFromCompilerNode(e);i.push({start:o,end:a,compilerNode:r}),null!=l&&(e.kind!==r.kind?l.forget():l.forgetDescendants())}(o,l),l})(o,r);if(this.getKind()===s.ts.SyntaxKind.SourceFile)return s.ts.transform(o,[a],this._context.compilerOptions.get()),e3({sourceFile:this._sourceFile,newText:l([0,this.getEnd()])}),this;{let e=this.getParentSyntaxList()||this.getParentOrThrow(),t=this.getChildIndex(),r=this.getStart(!0),i=this.getEnd();return s.ts.transform(o,[a],this._context.compilerOptions.get()),eV({parent:e,insertPos:r,newText:l([r,i]),replacing:{textLength:i-r}}),e.getChildren()[t]}function l(e){let t=n.getFullText(),o="",a=e[0];for(let e of i)o+=t.substring(a,e.start),o+=r.printNode(s.ts.EmitHint.Unspecified,e.compilerNode,e.compilerNode.getSourceFile()??n),a=e.end;return o+t.substring(a,e[1])}}getLeadingCommentRanges(){return this.#ei||(this.#ei=this.#el(this.getFullStart(),(e,t)=>{let r=s.ts.getLeadingCommentRanges(e,t)||[];if(this.getKind()!==s.SyntaxKind.SingleLineCommentTrivia&&this.getKind()!==s.SyntaxKind.MultiLineCommentTrivia)return r;{let e=this.getPos();return r.filter(t=>t.pos<e)}}))}getTrailingCommentRanges(){return this.#en??(this.#en=this.#el(this.getEnd(),s.ts.getTrailingCommentRanges))}#el(e,t){return this.getKind()===s.SyntaxKind.SourceFile?[]:(t(this._sourceFile.getFullText(),e)??[]).map(e=>new tt(e,this._sourceFile))}getChildrenOfKind(e){return this._getCompilerChildrenOfKind(e).map(e=>this._getNodeFromCompilerNode(e))}getFirstChildByKindOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getFirstChildByKind(e),t??(()=>`A child of the kind ${s.getSyntaxKindName(e)} was expected.`),this)}getFirstChildByKind(e){let t=this._getCompilerChildrenOfKind(e)[0];return null==t?void 0:this._getNodeFromCompilerNode(t)}getFirstChildIfKindOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getFirstChildIfKind(e),t??(()=>`A first child of the kind ${s.getSyntaxKindName(e)} was expected.`),this)}getFirstChildIfKind(e){let t=this._getCompilerFirstChild();return null!=t&&t.kind===e?this._getNodeFromCompilerNode(t):void 0}getLastChildByKindOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getLastChildByKind(e),t??(()=>`A child of the kind ${s.getSyntaxKindName(e)} was expected.`),this)}getLastChildByKind(e){let t=this._getCompilerChildrenOfKind(e),r=t[t.length-1];return this._getNodeFromCompilerNodeIfExists(r)}getLastChildIfKindOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getLastChildIfKind(e),t??(()=>`A last child of the kind ${s.getSyntaxKindName(e)} was expected.`),this)}getLastChildIfKind(e){let t=this._getCompilerLastChild();return null!=t&&t.kind===e?this._getNodeFromCompilerNode(t):void 0}getChildAtIndexIfKindOrThrow(e,t,r){return s.errors.throwIfNullOrUndefined(this.getChildAtIndexIfKind(e,t),r??(()=>`Child at index ${e} was expected to be ${s.getSyntaxKindName(t)}`),this)}getChildAtIndexIfKind(e,t){let r=this._getCompilerChildAtIndex(e);return r.kind===t?this._getNodeFromCompilerNode(r):void 0}getPreviousSiblingIfKindOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getPreviousSiblingIfKind(e),t??(()=>`A previous sibling of kind ${s.getSyntaxKindName(e)} was expected.`),this)}getNextSiblingIfKindOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getNextSiblingIfKind(e),t??(()=>`A next sibling of kind ${s.getSyntaxKindName(e)} was expected.`),this)}getPreviousSiblingIfKind(e){let t=this._getCompilerPreviousSibling();return null!=t&&t.kind===e?this._getNodeFromCompilerNode(t):void 0}getNextSiblingIfKind(e){let t=this._getCompilerNextSibling();return null!=t&&t.kind===e?this._getNodeFromCompilerNode(t):void 0}getParentIfOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getParentIf(e),t??"The parent did not match the provided condition.",this)}getParentIf(e){return e(this.getParent(),this)?this.getParent():void 0}getParentIfKindOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getParentIfKind(e),t??(()=>`The parent was not a syntax kind of ${s.getSyntaxKindName(e)}.`),this)}getParentIfKind(e){return this.getParentIf(t=>void 0!==t&&t.getKind()===e)}getFirstAncestorByKindOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getFirstAncestorByKind(e),t??(()=>`Expected an ancestor with a syntax kind of ${s.getSyntaxKindName(e)}.`),this)}getFirstAncestorByKind(e){for(let t of this._getAncestorsIterator(e===s.SyntaxKind.SyntaxList))if(t.getKind()===e)return t}getFirstAncestorOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getFirstAncestor(e),t??"Expected to find an ancestor that matched the provided condition.",this)}getFirstAncestor(e){for(let t of this._getAncestorsIterator(!1))if(null==e||e(t))return t}getDescendantsOfKind(e){let t=[];for(let r of this._getCompilerDescendantsOfKindIterator(e))t.push(this._getNodeFromCompilerNode(r));return t}getFirstDescendantByKindOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getFirstDescendantByKind(e),t??(()=>`A descendant of kind ${s.getSyntaxKindName(e)} was expected to be found.`),this)}getFirstDescendantByKind(e){for(let t of this._getCompilerDescendantsOfKindIterator(e))return this._getNodeFromCompilerNode(t)}_getCompilerChildren(){return F.getCompilerChildren(this.compilerNode,this._sourceFile.compilerNode)}_getCompilerForEachChildren(){return F.getCompilerForEachChildren(this.compilerNode,this._sourceFile.compilerNode)}_getCompilerChildrenFast(){return F.hasParsedTokens(this.compilerNode)?this._getCompilerChildren():this._getCompilerForEachChildren()}_getCompilerChildrenOfKind(e){return(ta(this,e)?this._getCompilerForEachChildren():this._getCompilerChildren()).filter(t=>t.kind===e)}*_getCompilerDescendantsOfKindIterator(e){for(let t of ta(this,e)?this._getCompilerForEachChildren():this._getCompilerChildren())for(let r of(t.kind===e&&(yield t),ta(t.kind,e)?ts(t):to(t,this._sourceFile.compilerNode)))r.kind===e&&(yield r)}_getCompilerDescendantsIterator(){return to(this.compilerNode,this._sourceFile.compilerNode)}_getCompilerForEachDescendantsIterator(){return ts(this.compilerNode)}_getCompilerFirstChild(e){for(let t of this._getCompilerChildren())if(null==e||e(t))return t}_getCompilerLastChild(e){let t=this._getCompilerChildren();for(let r=t.length-1;r>=0;r--){let i=t[r];if(null==e||e(i))return i}}_getCompilerPreviousSiblings(){let e=this.getParentSyntaxList()||this.getParentOrThrow(),t=[];for(let r of e._getCompilerChildren()){if(r===this.compilerNode)break;t.unshift(r)}return t}_getCompilerNextSiblings(){let e=!1,t=this.getParentSyntaxList()||this.getParentOrThrow(),r=[];for(let i of t._getCompilerChildren()){if(!e){e=i===this.compilerNode;continue}r.push(i)}return r}_getCompilerPreviousSibling(e){for(let t of this._getCompilerPreviousSiblings())if(null==e||e(t))return t}_getCompilerNextSibling(e){for(let t of this._getCompilerNextSiblings())if(null==e||e(t))return t}_getCompilerChildAtIndex(e){let t=this._getCompilerChildren();return s.errors.throwIfOutOfRange(e,[0,t.length-1],"index"),t[e]}_getWriterWithIndentation(){let e=this._getWriter();return e.setIndentationLevel(this.getIndentationLevel()),e}_getWriterWithQueuedIndentation(){let e=this._getWriter();return e.queueIndentationLevel(this.getIndentationLevel()),e}_getWriterWithChildIndentation(){let e=this._getWriter();return e.setIndentationLevel(this.getChildIndentationLevel()),e}_getWriterWithQueuedChildIndentation(){let e=this._getWriter();return e.queueIndentationLevel(this.getChildIndentationLevel()),e}_getTextWithQueuedChildIndentation(e){let t=this._getWriterWithQueuedChildIndentation();return"string"==typeof e?t.write(e):e(t),t.toString()}_getWriter(){return this._context.createWriter()}_getNodeFromCompilerNode(e){return this._context.compilerFactory.getNodeFromCompilerNode(e,this._sourceFile)}_getNodeFromCompilerNodeIfExists(e){return null==e?void 0:this._getNodeFromCompilerNode(e)}_ensureBound(){null==this.compilerNode.symbol&&this.getSymbol()}static hasExpression(e){return e.getExpression?.()!=null}static hasName(e){return"string"==typeof e.getName?.()}static hasBody(e){return e.getBody?.()!=null}static hasStructure(e){return"function"==typeof e.getStructure}static is(e){return t=>t?.getKind()==e}static isNode(e){return null!=e&&null!=e.compilerNode}static isCommentNode(e){let t=e?.getKind();return t===s.SyntaxKind.SingleLineCommentTrivia||t===s.SyntaxKind.MultiLineCommentTrivia}static isCommentStatement(e){return e?.compilerNode?._commentKind===t.IlT.Statement}static isCommentClassElement(e){return e?.compilerNode?._commentKind===t.IlT.ClassElement}static isCommentTypeElement(e){return e?.compilerNode?._commentKind===t.IlT.TypeElement}static isCommentObjectLiteralElement(e){return e?.compilerNode?._commentKind===t.IlT.ObjectLiteralElement}static isCommentEnumMember(e){return e?.compilerNode?._commentKind==t.IlT.EnumMember}static isAbstractable(e){switch(e?.getKind()){case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.ClassExpression:case s.SyntaxKind.ConstructorType:case s.SyntaxKind.GetAccessor:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.PropertyDeclaration:case s.SyntaxKind.SetAccessor:return!0;default:return!1}}static isAmbientable(e){switch(e?.getKind()){case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.EnumDeclaration:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.InterfaceDeclaration:case s.SyntaxKind.ModuleDeclaration:case s.SyntaxKind.PropertyDeclaration:case s.SyntaxKind.TypeAliasDeclaration:case s.SyntaxKind.VariableStatement:return!0;default:return!1}}static isAnyKeyword=tr.is(s.SyntaxKind.AnyKeyword);static isArgumented(e){switch(e?.getKind()){case s.SyntaxKind.CallExpression:case s.SyntaxKind.NewExpression:return!0;default:return!1}}static isArrayBindingPattern=tr.is(s.SyntaxKind.ArrayBindingPattern);static isArrayLiteralExpression=tr.is(s.SyntaxKind.ArrayLiteralExpression);static isArrayTypeNode(e){return e?.getKind()===s.SyntaxKind.ArrayType}static isArrowFunction=tr.is(s.SyntaxKind.ArrowFunction);static isAsExpression=tr.is(s.SyntaxKind.AsExpression);static isAsyncable(e){switch(e?.getKind()){case s.SyntaxKind.ArrowFunction:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.FunctionExpression:case s.SyntaxKind.MethodDeclaration:return!0;default:return!1}}static isAwaitable(e){return e?.getKind()===s.SyntaxKind.ForOfStatement}static isAwaitExpression=tr.is(s.SyntaxKind.AwaitExpression);static isBigIntLiteral=tr.is(s.SyntaxKind.BigIntLiteral);static isBinaryExpression=tr.is(s.SyntaxKind.BinaryExpression);static isBindingElement=tr.is(s.SyntaxKind.BindingElement);static isBindingNamed(e){switch(e?.getKind()){case s.SyntaxKind.BindingElement:case s.SyntaxKind.Parameter:case s.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isBlock=tr.is(s.SyntaxKind.Block);static isBodied(e){switch(e?.getKind()){case s.SyntaxKind.ArrowFunction:case s.SyntaxKind.ClassStaticBlockDeclaration:case s.SyntaxKind.FunctionExpression:return!0;default:return!1}}static isBodyable(e){switch(e?.getKind()){case s.SyntaxKind.Constructor:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.GetAccessor:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.ModuleDeclaration:case s.SyntaxKind.SetAccessor:return!0;default:return!1}}static isBooleanKeyword=tr.is(s.SyntaxKind.BooleanKeyword);static isBreakStatement=tr.is(s.SyntaxKind.BreakStatement);static isCallExpression=tr.is(s.SyntaxKind.CallExpression);static isCallSignatureDeclaration(e){return e?.getKind()===s.SyntaxKind.CallSignature}static isCaseBlock=tr.is(s.SyntaxKind.CaseBlock);static isCaseClause=tr.is(s.SyntaxKind.CaseClause);static isCatchClause=tr.is(s.SyntaxKind.CatchClause);static isChildOrderable(e){switch(e?.getKind()){case s.SyntaxKind.Block:case s.SyntaxKind.BreakStatement:case s.SyntaxKind.CallSignature:case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.ClassStaticBlockDeclaration:case s.SyntaxKind.Constructor:case s.SyntaxKind.ConstructSignature:case s.SyntaxKind.ContinueStatement:case s.SyntaxKind.DebuggerStatement:case s.SyntaxKind.DoStatement:case s.SyntaxKind.EmptyStatement:case s.SyntaxKind.EnumDeclaration:case s.SyntaxKind.ExportAssignment:case s.SyntaxKind.ExportDeclaration:case s.SyntaxKind.ExpressionStatement:case s.SyntaxKind.ForInStatement:case s.SyntaxKind.ForOfStatement:case s.SyntaxKind.ForStatement:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.GetAccessor:case s.SyntaxKind.IfStatement:case s.SyntaxKind.ImportDeclaration:case s.SyntaxKind.ImportEqualsDeclaration:case s.SyntaxKind.IndexSignature:case s.SyntaxKind.InterfaceDeclaration:case s.SyntaxKind.LabeledStatement:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.MethodSignature:case s.SyntaxKind.ModuleBlock:case s.SyntaxKind.ModuleDeclaration:case s.SyntaxKind.NotEmittedStatement:case s.SyntaxKind.PropertyDeclaration:case s.SyntaxKind.PropertySignature:case s.SyntaxKind.ReturnStatement:case s.SyntaxKind.SetAccessor:case s.SyntaxKind.SwitchStatement:case s.SyntaxKind.ThrowStatement:case s.SyntaxKind.TryStatement:case s.SyntaxKind.TypeAliasDeclaration:case s.SyntaxKind.VariableStatement:case s.SyntaxKind.WhileStatement:case s.SyntaxKind.WithStatement:return!0;default:return!1}}static isClassDeclaration=tr.is(s.SyntaxKind.ClassDeclaration);static isClassExpression=tr.is(s.SyntaxKind.ClassExpression);static isClassLikeDeclarationBase(e){switch(e?.getKind()){case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.ClassExpression:return!0;default:return!1}}static isClassStaticBlockDeclaration=tr.is(s.SyntaxKind.ClassStaticBlockDeclaration);static isCommaListExpression=tr.is(s.SyntaxKind.CommaListExpression);static isComputedPropertyName=tr.is(s.SyntaxKind.ComputedPropertyName);static isConditionalExpression=tr.is(s.SyntaxKind.ConditionalExpression);static isConditionalTypeNode(e){return e?.getKind()===s.SyntaxKind.ConditionalType}static isConstructorDeclaration(e){return e?.getKind()===s.SyntaxKind.Constructor}static isConstructorTypeNode(e){return e?.getKind()===s.SyntaxKind.ConstructorType}static isConstructSignatureDeclaration(e){return e?.getKind()===s.SyntaxKind.ConstructSignature}static isContinueStatement=tr.is(s.SyntaxKind.ContinueStatement);static isDebuggerStatement=tr.is(s.SyntaxKind.DebuggerStatement);static isDecoratable(e){switch(e?.getKind()){case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.ClassExpression:case s.SyntaxKind.GetAccessor:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.Parameter:case s.SyntaxKind.PropertyDeclaration:case s.SyntaxKind.SetAccessor:return!0;default:return!1}}static isDecorator=tr.is(s.SyntaxKind.Decorator);static isDefaultClause=tr.is(s.SyntaxKind.DefaultClause);static isDeleteExpression=tr.is(s.SyntaxKind.DeleteExpression);static isDoStatement=tr.is(s.SyntaxKind.DoStatement);static isDotDotDotTokenable(e){switch(e?.getKind()){case s.SyntaxKind.BindingElement:case s.SyntaxKind.JsxExpression:case s.SyntaxKind.NamedTupleMember:case s.SyntaxKind.Parameter:return!0;default:return!1}}static isElementAccessExpression=tr.is(s.SyntaxKind.ElementAccessExpression);static isEmptyStatement=tr.is(s.SyntaxKind.EmptyStatement);static isEnumDeclaration=tr.is(s.SyntaxKind.EnumDeclaration);static isEnumMember=tr.is(s.SyntaxKind.EnumMember);static isExclamationTokenable(e){switch(e?.getKind()){case s.SyntaxKind.PropertyDeclaration:case s.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isExportable(e){switch(e?.getKind()){case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.EnumDeclaration:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.ImportEqualsDeclaration:case s.SyntaxKind.InterfaceDeclaration:case s.SyntaxKind.ModuleDeclaration:case s.SyntaxKind.TypeAliasDeclaration:case s.SyntaxKind.VariableStatement:return!0;default:return!1}}static isExportAssignment=tr.is(s.SyntaxKind.ExportAssignment);static isExportDeclaration=tr.is(s.SyntaxKind.ExportDeclaration);static isExportGetable(e){switch(e?.getKind()){case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.EnumDeclaration:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.ImportEqualsDeclaration:case s.SyntaxKind.InterfaceDeclaration:case s.SyntaxKind.ModuleDeclaration:case s.SyntaxKind.TypeAliasDeclaration:case s.SyntaxKind.VariableDeclaration:case s.SyntaxKind.VariableStatement:return!0;default:return!1}}static isExportSpecifier=tr.is(s.SyntaxKind.ExportSpecifier);static isExpression(e){switch(e?.getKind()){case s.SyntaxKind.AnyKeyword:case s.SyntaxKind.BooleanKeyword:case s.SyntaxKind.NumberKeyword:case s.SyntaxKind.ObjectKeyword:case s.SyntaxKind.StringKeyword:case s.SyntaxKind.SymbolKeyword:case s.SyntaxKind.UndefinedKeyword:case s.SyntaxKind.ArrayLiteralExpression:case s.SyntaxKind.ArrowFunction:case s.SyntaxKind.AsExpression:case s.SyntaxKind.AwaitExpression:case s.SyntaxKind.BigIntLiteral:case s.SyntaxKind.BinaryExpression:case s.SyntaxKind.CallExpression:case s.SyntaxKind.ClassExpression:case s.SyntaxKind.CommaListExpression:case s.SyntaxKind.ConditionalExpression:case s.SyntaxKind.DeleteExpression:case s.SyntaxKind.ElementAccessExpression:case s.SyntaxKind.FalseKeyword:case s.SyntaxKind.FunctionExpression:case s.SyntaxKind.Identifier:case s.SyntaxKind.ImportKeyword:case s.SyntaxKind.JsxClosingFragment:case s.SyntaxKind.JsxElement:case s.SyntaxKind.JsxExpression:case s.SyntaxKind.JsxFragment:case s.SyntaxKind.JsxOpeningElement:case s.SyntaxKind.JsxOpeningFragment:case s.SyntaxKind.JsxSelfClosingElement:case s.SyntaxKind.MetaProperty:case s.SyntaxKind.NewExpression:case s.SyntaxKind.NonNullExpression:case s.SyntaxKind.NoSubstitutionTemplateLiteral:case s.SyntaxKind.NullKeyword:case s.SyntaxKind.NumericLiteral:case s.SyntaxKind.ObjectLiteralExpression:case s.SyntaxKind.OmittedExpression:case s.SyntaxKind.ParenthesizedExpression:case s.SyntaxKind.PartiallyEmittedExpression:case s.SyntaxKind.PostfixUnaryExpression:case s.SyntaxKind.PrefixUnaryExpression:case s.SyntaxKind.PropertyAccessExpression:case s.SyntaxKind.RegularExpressionLiteral:case s.SyntaxKind.SatisfiesExpression:case s.SyntaxKind.SpreadElement:case s.SyntaxKind.StringLiteral:case s.SyntaxKind.SuperKeyword:case s.SyntaxKind.TaggedTemplateExpression:case s.SyntaxKind.TemplateExpression:case s.SyntaxKind.ThisKeyword:case s.SyntaxKind.TrueKeyword:case s.SyntaxKind.TypeAssertionExpression:case s.SyntaxKind.TypeOfExpression:case s.SyntaxKind.VoidExpression:case s.SyntaxKind.YieldExpression:return!0;default:return!1}}static isExpressionable(e){switch(e?.getKind()){case s.SyntaxKind.ExternalModuleReference:case s.SyntaxKind.JsxExpression:case s.SyntaxKind.ReturnStatement:case s.SyntaxKind.YieldExpression:return!0;default:return!1}}static isExpressioned(e){switch(e?.getKind()){case s.SyntaxKind.AsExpression:case s.SyntaxKind.CaseClause:case s.SyntaxKind.ComputedPropertyName:case s.SyntaxKind.DoStatement:case s.SyntaxKind.ExportAssignment:case s.SyntaxKind.ExpressionStatement:case s.SyntaxKind.ForInStatement:case s.SyntaxKind.ForOfStatement:case s.SyntaxKind.IfStatement:case s.SyntaxKind.JsxSpreadAttribute:case s.SyntaxKind.NonNullExpression:case s.SyntaxKind.ParenthesizedExpression:case s.SyntaxKind.PartiallyEmittedExpression:case s.SyntaxKind.SatisfiesExpression:case s.SyntaxKind.SpreadAssignment:case s.SyntaxKind.SpreadElement:case s.SyntaxKind.SwitchStatement:case s.SyntaxKind.TemplateSpan:case s.SyntaxKind.ThrowStatement:case s.SyntaxKind.WhileStatement:case s.SyntaxKind.WithStatement:return!0;default:return!1}}static isExpressionStatement=tr.is(s.SyntaxKind.ExpressionStatement);static isExpressionWithTypeArguments=tr.is(s.SyntaxKind.ExpressionWithTypeArguments);static isExtendsClauseable(e){return e?.getKind()===s.SyntaxKind.InterfaceDeclaration}static isExternalModuleReference=tr.is(s.SyntaxKind.ExternalModuleReference);static isFalseLiteral(e){return e?.getKind()===s.SyntaxKind.FalseKeyword}static isForInStatement=tr.is(s.SyntaxKind.ForInStatement);static isForOfStatement=tr.is(s.SyntaxKind.ForOfStatement);static isForStatement=tr.is(s.SyntaxKind.ForStatement);static isFunctionDeclaration=tr.is(s.SyntaxKind.FunctionDeclaration);static isFunctionExpression=tr.is(s.SyntaxKind.FunctionExpression);static isFunctionLikeDeclaration(e){switch(e?.getKind()){case s.SyntaxKind.ArrowFunction:case s.SyntaxKind.Constructor:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.GetAccessor:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.SetAccessor:return!0;default:return!1}}static isFunctionTypeNode(e){return e?.getKind()===s.SyntaxKind.FunctionType}static isGeneratorable(e){switch(e?.getKind()){case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.FunctionExpression:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.YieldExpression:return!0;default:return!1}}static isGetAccessorDeclaration(e){return e?.getKind()===s.SyntaxKind.GetAccessor}static isHeritageClause=tr.is(s.SyntaxKind.HeritageClause);static isHeritageClauseable(e){switch(e?.getKind()){case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.ClassExpression:case s.SyntaxKind.InterfaceDeclaration:return!0;default:return!1}}static isIdentifier=tr.is(s.SyntaxKind.Identifier);static isIfStatement=tr.is(s.SyntaxKind.IfStatement);static isImplementsClauseable(e){switch(e?.getKind()){case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.ClassExpression:return!0;default:return!1}}static isImportAttribute=tr.is(s.SyntaxKind.ImportAttribute);static isImportAttributeNamed(e){return e?.getKind()===s.SyntaxKind.ImportAttribute}static isImportAttributes=tr.is(s.SyntaxKind.ImportAttributes);static isImportClause=tr.is(s.SyntaxKind.ImportClause);static isImportDeclaration=tr.is(s.SyntaxKind.ImportDeclaration);static isImportEqualsDeclaration=tr.is(s.SyntaxKind.ImportEqualsDeclaration);static isImportExpression(e){return e?.getKind()===s.SyntaxKind.ImportKeyword}static isImportSpecifier=tr.is(s.SyntaxKind.ImportSpecifier);static isImportTypeNode(e){return e?.getKind()===s.SyntaxKind.ImportType}static isIndexedAccessTypeNode(e){return e?.getKind()===s.SyntaxKind.IndexedAccessType}static isIndexSignatureDeclaration(e){return e?.getKind()===s.SyntaxKind.IndexSignature}static isInferKeyword=tr.is(s.SyntaxKind.InferKeyword);static isInferTypeNode(e){return e?.getKind()===s.SyntaxKind.InferType}static isInitializerExpressionable(e){switch(e?.getKind()){case s.SyntaxKind.BindingElement:case s.SyntaxKind.EnumMember:case s.SyntaxKind.Parameter:case s.SyntaxKind.PropertyDeclaration:case s.SyntaxKind.PropertySignature:case s.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isInitializerExpressionGetable(e){switch(e?.getKind()){case s.SyntaxKind.BindingElement:case s.SyntaxKind.EnumMember:case s.SyntaxKind.Parameter:case s.SyntaxKind.PropertyAssignment:case s.SyntaxKind.PropertyDeclaration:case s.SyntaxKind.PropertySignature:case s.SyntaxKind.ShorthandPropertyAssignment:case s.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isInterfaceDeclaration=tr.is(s.SyntaxKind.InterfaceDeclaration);static isIntersectionTypeNode(e){return e?.getKind()===s.SyntaxKind.IntersectionType}static isIterationStatement(e){switch(e?.getKind()){case s.SyntaxKind.DoStatement:case s.SyntaxKind.ForInStatement:case s.SyntaxKind.ForOfStatement:case s.SyntaxKind.ForStatement:case s.SyntaxKind.WhileStatement:return!0;default:return!1}}static isJSDoc=tr.is(s.SyntaxKind.JSDoc);static isJSDocable(e){switch(e?.getKind()){case s.SyntaxKind.ArrowFunction:case s.SyntaxKind.CallSignature:case s.SyntaxKind.CaseClause:case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.ClassExpression:case s.SyntaxKind.ClassStaticBlockDeclaration:case s.SyntaxKind.Constructor:case s.SyntaxKind.ConstructSignature:case s.SyntaxKind.EnumDeclaration:case s.SyntaxKind.EnumMember:case s.SyntaxKind.ExportAssignment:case s.SyntaxKind.ExpressionStatement:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.FunctionExpression:case s.SyntaxKind.GetAccessor:case s.SyntaxKind.ImportEqualsDeclaration:case s.SyntaxKind.IndexSignature:case s.SyntaxKind.InterfaceDeclaration:case s.SyntaxKind.LabeledStatement:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.MethodSignature:case s.SyntaxKind.ModuleDeclaration:case s.SyntaxKind.NamedTupleMember:case s.SyntaxKind.PropertyDeclaration:case s.SyntaxKind.PropertySignature:case s.SyntaxKind.SetAccessor:case s.SyntaxKind.TypeAliasDeclaration:case s.SyntaxKind.VariableStatement:return!0;default:return!1}}static isJSDocAllType=tr.is(s.SyntaxKind.JSDocAllType);static isJSDocAugmentsTag=tr.is(s.SyntaxKind.JSDocAugmentsTag);static isJSDocAuthorTag=tr.is(s.SyntaxKind.JSDocAuthorTag);static isJSDocCallbackTag=tr.is(s.SyntaxKind.JSDocCallbackTag);static isJSDocClassTag=tr.is(s.SyntaxKind.JSDocClassTag);static isJSDocDeprecatedTag=tr.is(s.SyntaxKind.JSDocDeprecatedTag);static isJSDocEnumTag=tr.is(s.SyntaxKind.JSDocEnumTag);static isJSDocFunctionType=tr.is(s.SyntaxKind.JSDocFunctionType);static isJSDocImplementsTag=tr.is(s.SyntaxKind.JSDocImplementsTag);static isJSDocLink=tr.is(s.SyntaxKind.JSDocLink);static isJSDocLinkCode=tr.is(s.SyntaxKind.JSDocLinkCode);static isJSDocLinkPlain=tr.is(s.SyntaxKind.JSDocLinkPlain);static isJSDocMemberName=tr.is(s.SyntaxKind.JSDocMemberName);static isJSDocNamepathType=tr.is(s.SyntaxKind.JSDocNamepathType);static isJSDocNameReference=tr.is(s.SyntaxKind.JSDocNameReference);static isJSDocNonNullableType=tr.is(s.SyntaxKind.JSDocNonNullableType);static isJSDocNullableType=tr.is(s.SyntaxKind.JSDocNullableType);static isJSDocOptionalType=tr.is(s.SyntaxKind.JSDocOptionalType);static isJSDocOverloadTag=tr.is(s.SyntaxKind.JSDocOverloadTag);static isJSDocOverrideTag=tr.is(s.SyntaxKind.JSDocOverrideTag);static isJSDocParameterTag=tr.is(s.SyntaxKind.JSDocParameterTag);static isJSDocPrivateTag=tr.is(s.SyntaxKind.JSDocPrivateTag);static isJSDocPropertyLikeTag(e){switch(e?.getKind()){case s.SyntaxKind.JSDocParameterTag:case s.SyntaxKind.JSDocPropertyTag:return!0;default:return!1}}static isJSDocPropertyTag=tr.is(s.SyntaxKind.JSDocPropertyTag);static isJSDocProtectedTag=tr.is(s.SyntaxKind.JSDocProtectedTag);static isJSDocPublicTag=tr.is(s.SyntaxKind.JSDocPublicTag);static isJSDocReadonlyTag=tr.is(s.SyntaxKind.JSDocReadonlyTag);static isJSDocReturnTag=tr.is(s.SyntaxKind.JSDocReturnTag);static isJSDocSatisfiesTag=tr.is(s.SyntaxKind.JSDocSatisfiesTag);static isJSDocSeeTag=tr.is(s.SyntaxKind.JSDocSeeTag);static isJSDocSignature=tr.is(s.SyntaxKind.JSDocSignature);static isJSDocTag(e){switch(e?.getKind()){case s.SyntaxKind.JSDocAugmentsTag:case s.SyntaxKind.JSDocAuthorTag:case s.SyntaxKind.JSDocCallbackTag:case s.SyntaxKind.JSDocClassTag:case s.SyntaxKind.JSDocDeprecatedTag:case s.SyntaxKind.JSDocEnumTag:case s.SyntaxKind.JSDocImplementsTag:case s.SyntaxKind.JSDocOverloadTag:case s.SyntaxKind.JSDocOverrideTag:case s.SyntaxKind.JSDocParameterTag:case s.SyntaxKind.JSDocPrivateTag:case s.SyntaxKind.JSDocPropertyTag:case s.SyntaxKind.JSDocProtectedTag:case s.SyntaxKind.JSDocPublicTag:case s.SyntaxKind.JSDocReadonlyTag:case s.SyntaxKind.JSDocReturnTag:case s.SyntaxKind.JSDocSatisfiesTag:case s.SyntaxKind.JSDocSeeTag:case s.SyntaxKind.JSDocTemplateTag:case s.SyntaxKind.JSDocThisTag:case s.SyntaxKind.JSDocThrowsTag:case s.SyntaxKind.JSDocTypedefTag:case s.SyntaxKind.JSDocTypeTag:case s.SyntaxKind.JSDocTag:return!0;default:return!1}}static isJSDocTemplateTag=tr.is(s.SyntaxKind.JSDocTemplateTag);static isJSDocText=tr.is(s.SyntaxKind.JSDocText);static isJSDocThisTag=tr.is(s.SyntaxKind.JSDocThisTag);static isJSDocThrowsTag=tr.is(s.SyntaxKind.JSDocThrowsTag);static isJSDocType(e){switch(e?.getKind()){case s.SyntaxKind.JSDocAllType:case s.SyntaxKind.JSDocFunctionType:case s.SyntaxKind.JSDocNamepathType:case s.SyntaxKind.JSDocNonNullableType:case s.SyntaxKind.JSDocNullableType:case s.SyntaxKind.JSDocOptionalType:case s.SyntaxKind.JSDocSignature:case s.SyntaxKind.JSDocTypeLiteral:case s.SyntaxKind.JSDocUnknownType:case s.SyntaxKind.JSDocVariadicType:return!0;default:return!1}}static isJSDocTypedefTag=tr.is(s.SyntaxKind.JSDocTypedefTag);static isJSDocTypeExpression=tr.is(s.SyntaxKind.JSDocTypeExpression);static isJSDocTypeExpressionableTag(e){switch(e?.getKind()){case s.SyntaxKind.JSDocOverloadTag:case s.SyntaxKind.JSDocReturnTag:case s.SyntaxKind.JSDocSatisfiesTag:case s.SyntaxKind.JSDocSeeTag:case s.SyntaxKind.JSDocThisTag:case s.SyntaxKind.JSDocThrowsTag:return!0;default:return!1}}static isJSDocTypeLiteral=tr.is(s.SyntaxKind.JSDocTypeLiteral);static isJSDocTypeParameteredTag(e){return e?.getKind()===s.SyntaxKind.JSDocTemplateTag}static isJSDocTypeTag=tr.is(s.SyntaxKind.JSDocTypeTag);static isJSDocUnknownTag(e){return e?.getKind()===s.SyntaxKind.JSDocTag}static isJSDocUnknownType=tr.is(s.SyntaxKind.JSDocUnknownType);static isJSDocVariadicType=tr.is(s.SyntaxKind.JSDocVariadicType);static isJsxAttribute=tr.is(s.SyntaxKind.JsxAttribute);static isJsxAttributed(e){switch(e?.getKind()){case s.SyntaxKind.JsxOpeningElement:case s.SyntaxKind.JsxSelfClosingElement:return!0;default:return!1}}static isJsxClosingElement=tr.is(s.SyntaxKind.JsxClosingElement);static isJsxClosingFragment=tr.is(s.SyntaxKind.JsxClosingFragment);static isJsxElement=tr.is(s.SyntaxKind.JsxElement);static isJsxExpression=tr.is(s.SyntaxKind.JsxExpression);static isJsxFragment=tr.is(s.SyntaxKind.JsxFragment);static isJsxNamespacedName=tr.is(s.SyntaxKind.JsxNamespacedName);static isJsxOpeningElement=tr.is(s.SyntaxKind.JsxOpeningElement);static isJsxOpeningFragment=tr.is(s.SyntaxKind.JsxOpeningFragment);static isJsxSelfClosingElement=tr.is(s.SyntaxKind.JsxSelfClosingElement);static isJsxSpreadAttribute=tr.is(s.SyntaxKind.JsxSpreadAttribute);static isJsxTagNamed(e){switch(e?.getKind()){case s.SyntaxKind.JsxClosingElement:case s.SyntaxKind.JsxOpeningElement:case s.SyntaxKind.JsxSelfClosingElement:return!0;default:return!1}}static isJsxText=tr.is(s.SyntaxKind.JsxText);static isLabeledStatement=tr.is(s.SyntaxKind.LabeledStatement);static isLeftHandSideExpression(e){switch(e?.getKind()){case s.SyntaxKind.ArrayLiteralExpression:case s.SyntaxKind.BigIntLiteral:case s.SyntaxKind.CallExpression:case s.SyntaxKind.ClassExpression:case s.SyntaxKind.ElementAccessExpression:case s.SyntaxKind.FalseKeyword:case s.SyntaxKind.FunctionExpression:case s.SyntaxKind.Identifier:case s.SyntaxKind.ImportKeyword:case s.SyntaxKind.JsxElement:case s.SyntaxKind.JsxFragment:case s.SyntaxKind.JsxSelfClosingElement:case s.SyntaxKind.MetaProperty:case s.SyntaxKind.NewExpression:case s.SyntaxKind.NonNullExpression:case s.SyntaxKind.NoSubstitutionTemplateLiteral:case s.SyntaxKind.NullKeyword:case s.SyntaxKind.NumericLiteral:case s.SyntaxKind.ObjectLiteralExpression:case s.SyntaxKind.PropertyAccessExpression:case s.SyntaxKind.RegularExpressionLiteral:case s.SyntaxKind.StringLiteral:case s.SyntaxKind.SuperKeyword:case s.SyntaxKind.TaggedTemplateExpression:case s.SyntaxKind.TemplateExpression:case s.SyntaxKind.ThisKeyword:case s.SyntaxKind.TrueKeyword:return!0;default:return!1}}static isLeftHandSideExpressioned(e){switch(e?.getKind()){case s.SyntaxKind.CallExpression:case s.SyntaxKind.Decorator:case s.SyntaxKind.ElementAccessExpression:case s.SyntaxKind.ExpressionWithTypeArguments:case s.SyntaxKind.NewExpression:case s.SyntaxKind.PropertyAccessExpression:return!0;default:return!1}}static isLiteralExpression(e){switch(e?.getKind()){case s.SyntaxKind.BigIntLiteral:case s.SyntaxKind.NoSubstitutionTemplateLiteral:case s.SyntaxKind.NumericLiteral:case s.SyntaxKind.RegularExpressionLiteral:case s.SyntaxKind.StringLiteral:return!0;default:return!1}}static isLiteralLike(e){switch(e?.getKind()){case s.SyntaxKind.BigIntLiteral:case s.SyntaxKind.JsxText:case s.SyntaxKind.NoSubstitutionTemplateLiteral:case s.SyntaxKind.NumericLiteral:case s.SyntaxKind.RegularExpressionLiteral:case s.SyntaxKind.StringLiteral:case s.SyntaxKind.TemplateHead:case s.SyntaxKind.TemplateMiddle:case s.SyntaxKind.TemplateTail:return!0;default:return!1}}static isLiteralTypeNode(e){return e?.getKind()===s.SyntaxKind.LiteralType}static isMappedTypeNode(e){return e?.getKind()===s.SyntaxKind.MappedType}static isMemberExpression(e){switch(e?.getKind()){case s.SyntaxKind.ArrayLiteralExpression:case s.SyntaxKind.BigIntLiteral:case s.SyntaxKind.ClassExpression:case s.SyntaxKind.ElementAccessExpression:case s.SyntaxKind.FalseKeyword:case s.SyntaxKind.FunctionExpression:case s.SyntaxKind.Identifier:case s.SyntaxKind.ImportKeyword:case s.SyntaxKind.JsxElement:case s.SyntaxKind.JsxFragment:case s.SyntaxKind.JsxSelfClosingElement:case s.SyntaxKind.MetaProperty:case s.SyntaxKind.NewExpression:case s.SyntaxKind.NoSubstitutionTemplateLiteral:case s.SyntaxKind.NullKeyword:case s.SyntaxKind.NumericLiteral:case s.SyntaxKind.ObjectLiteralExpression:case s.SyntaxKind.PropertyAccessExpression:case s.SyntaxKind.RegularExpressionLiteral:case s.SyntaxKind.StringLiteral:case s.SyntaxKind.SuperKeyword:case s.SyntaxKind.TaggedTemplateExpression:case s.SyntaxKind.TemplateExpression:case s.SyntaxKind.ThisKeyword:case s.SyntaxKind.TrueKeyword:return!0;default:return!1}}static isMetaProperty=tr.is(s.SyntaxKind.MetaProperty);static isMethodDeclaration=tr.is(s.SyntaxKind.MethodDeclaration);static isMethodSignature=tr.is(s.SyntaxKind.MethodSignature);static isModifierable(e){switch(e?.getKind()){case s.SyntaxKind.ArrowFunction:case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.ClassExpression:case s.SyntaxKind.Constructor:case s.SyntaxKind.ConstructorType:case s.SyntaxKind.EnumDeclaration:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.FunctionExpression:case s.SyntaxKind.GetAccessor:case s.SyntaxKind.ImportEqualsDeclaration:case s.SyntaxKind.IndexSignature:case s.SyntaxKind.InterfaceDeclaration:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.ModuleDeclaration:case s.SyntaxKind.Parameter:case s.SyntaxKind.PropertyDeclaration:case s.SyntaxKind.PropertySignature:case s.SyntaxKind.SetAccessor:case s.SyntaxKind.TypeAliasDeclaration:case s.SyntaxKind.TypeParameter:case s.SyntaxKind.VariableDeclarationList:case s.SyntaxKind.VariableStatement:return!0;default:return!1}}static isModuleBlock=tr.is(s.SyntaxKind.ModuleBlock);static isModuleChildable(e){switch(e?.getKind()){case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.EnumDeclaration:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.InterfaceDeclaration:case s.SyntaxKind.ModuleDeclaration:case s.SyntaxKind.VariableStatement:return!0;default:return!1}}static isModuleDeclaration=tr.is(s.SyntaxKind.ModuleDeclaration);static isModuled(e){switch(e?.getKind()){case s.SyntaxKind.ModuleDeclaration:case s.SyntaxKind.SourceFile:return!0;default:return!1}}static isModuleNamed(e){return e?.getKind()===s.SyntaxKind.ModuleDeclaration}static isNameable(e){switch(e?.getKind()){case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.ClassExpression:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.FunctionExpression:return!0;default:return!1}}static isNamedExports=tr.is(s.SyntaxKind.NamedExports);static isNamedImports=tr.is(s.SyntaxKind.NamedImports);static isNamed(e){switch(e?.getKind()){case s.SyntaxKind.EnumDeclaration:case s.SyntaxKind.ImportEqualsDeclaration:case s.SyntaxKind.InterfaceDeclaration:case s.SyntaxKind.MetaProperty:case s.SyntaxKind.NamedTupleMember:case s.SyntaxKind.PropertyAccessExpression:case s.SyntaxKind.ShorthandPropertyAssignment:case s.SyntaxKind.TypeAliasDeclaration:case s.SyntaxKind.TypeParameter:return!0;default:return!1}}static isNamedTupleMember=tr.is(s.SyntaxKind.NamedTupleMember);static isNamespaceExport=tr.is(s.SyntaxKind.NamespaceExport);static isNamespaceImport=tr.is(s.SyntaxKind.NamespaceImport);static isNeverKeyword=tr.is(s.SyntaxKind.NeverKeyword);static isNewExpression=tr.is(s.SyntaxKind.NewExpression);static isNodeWithTypeArguments(e){switch(e?.getKind()){case s.SyntaxKind.ExpressionWithTypeArguments:case s.SyntaxKind.ImportType:case s.SyntaxKind.TypeQuery:case s.SyntaxKind.TypeReference:return!0;default:return!1}}static isNonNullExpression=tr.is(s.SyntaxKind.NonNullExpression);static isNoSubstitutionTemplateLiteral=tr.is(s.SyntaxKind.NoSubstitutionTemplateLiteral);static isNotEmittedStatement=tr.is(s.SyntaxKind.NotEmittedStatement);static isNullLiteral(e){return e?.getKind()===s.SyntaxKind.NullKeyword}static isNumberKeyword=tr.is(s.SyntaxKind.NumberKeyword);static isNumericLiteral=tr.is(s.SyntaxKind.NumericLiteral);static isObjectBindingPattern=tr.is(s.SyntaxKind.ObjectBindingPattern);static isObjectKeyword=tr.is(s.SyntaxKind.ObjectKeyword);static isObjectLiteralExpression=tr.is(s.SyntaxKind.ObjectLiteralExpression);static isOmittedExpression=tr.is(s.SyntaxKind.OmittedExpression);static isOverloadable(e){switch(e?.getKind()){case s.SyntaxKind.Constructor:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.MethodDeclaration:return!0;default:return!1}}static isOverrideable(e){switch(e?.getKind()){case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.Parameter:case s.SyntaxKind.PropertyDeclaration:return!0;default:return!1}}static isParameterDeclaration(e){return e?.getKind()===s.SyntaxKind.Parameter}static isParametered(e){switch(e?.getKind()){case s.SyntaxKind.ArrowFunction:case s.SyntaxKind.CallSignature:case s.SyntaxKind.Constructor:case s.SyntaxKind.ConstructorType:case s.SyntaxKind.ConstructSignature:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.FunctionExpression:case s.SyntaxKind.FunctionType:case s.SyntaxKind.GetAccessor:case s.SyntaxKind.JSDocFunctionType:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.MethodSignature:case s.SyntaxKind.SetAccessor:return!0;default:return!1}}static isParenthesizedExpression=tr.is(s.SyntaxKind.ParenthesizedExpression);static isParenthesizedTypeNode(e){return e?.getKind()===s.SyntaxKind.ParenthesizedType}static isPartiallyEmittedExpression=tr.is(s.SyntaxKind.PartiallyEmittedExpression);static isPostfixUnaryExpression=tr.is(s.SyntaxKind.PostfixUnaryExpression);static isPrefixUnaryExpression=tr.is(s.SyntaxKind.PrefixUnaryExpression);static isPrimaryExpression(e){switch(e?.getKind()){case s.SyntaxKind.ArrayLiteralExpression:case s.SyntaxKind.BigIntLiteral:case s.SyntaxKind.ClassExpression:case s.SyntaxKind.FalseKeyword:case s.SyntaxKind.FunctionExpression:case s.SyntaxKind.Identifier:case s.SyntaxKind.ImportKeyword:case s.SyntaxKind.JsxElement:case s.SyntaxKind.JsxFragment:case s.SyntaxKind.JsxSelfClosingElement:case s.SyntaxKind.MetaProperty:case s.SyntaxKind.NewExpression:case s.SyntaxKind.NoSubstitutionTemplateLiteral:case s.SyntaxKind.NullKeyword:case s.SyntaxKind.NumericLiteral:case s.SyntaxKind.ObjectLiteralExpression:case s.SyntaxKind.RegularExpressionLiteral:case s.SyntaxKind.StringLiteral:case s.SyntaxKind.SuperKeyword:case s.SyntaxKind.TemplateExpression:case s.SyntaxKind.ThisKeyword:case s.SyntaxKind.TrueKeyword:return!0;default:return!1}}static isPrivateIdentifier=tr.is(s.SyntaxKind.PrivateIdentifier);static isPropertyAccessExpression=tr.is(s.SyntaxKind.PropertyAccessExpression);static isPropertyAssignment=tr.is(s.SyntaxKind.PropertyAssignment);static isPropertyDeclaration=tr.is(s.SyntaxKind.PropertyDeclaration);static isPropertyNamed(e){switch(e?.getKind()){case s.SyntaxKind.EnumMember:case s.SyntaxKind.GetAccessor:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.MethodSignature:case s.SyntaxKind.PropertyAssignment:case s.SyntaxKind.PropertyDeclaration:case s.SyntaxKind.PropertySignature:case s.SyntaxKind.SetAccessor:return!0;default:return!1}}static isPropertySignature=tr.is(s.SyntaxKind.PropertySignature);static isQualifiedName=tr.is(s.SyntaxKind.QualifiedName);static isQuestionDotTokenable(e){switch(e?.getKind()){case s.SyntaxKind.CallExpression:case s.SyntaxKind.ElementAccessExpression:case s.SyntaxKind.PropertyAccessExpression:return!0;default:return!1}}static isQuestionTokenable(e){switch(e?.getKind()){case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.MethodSignature:case s.SyntaxKind.NamedTupleMember:case s.SyntaxKind.Parameter:case s.SyntaxKind.PropertyAssignment:case s.SyntaxKind.PropertyDeclaration:case s.SyntaxKind.PropertySignature:case s.SyntaxKind.ShorthandPropertyAssignment:return!0;default:return!1}}static isReadonlyable(e){switch(e?.getKind()){case s.SyntaxKind.IndexSignature:case s.SyntaxKind.Parameter:case s.SyntaxKind.PropertyDeclaration:case s.SyntaxKind.PropertySignature:return!0;default:return!1}}static isReferenceFindable(e){switch(e?.getKind()){case s.SyntaxKind.BindingElement:case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.ClassExpression:case s.SyntaxKind.Constructor:case s.SyntaxKind.EnumDeclaration:case s.SyntaxKind.EnumMember:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.FunctionExpression:case s.SyntaxKind.GetAccessor:case s.SyntaxKind.Identifier:case s.SyntaxKind.ImportAttribute:case s.SyntaxKind.ImportEqualsDeclaration:case s.SyntaxKind.InterfaceDeclaration:case s.SyntaxKind.MetaProperty:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.MethodSignature:case s.SyntaxKind.ModuleDeclaration:case s.SyntaxKind.NamedTupleMember:case s.SyntaxKind.Parameter:case s.SyntaxKind.PrivateIdentifier:case s.SyntaxKind.PropertyAccessExpression:case s.SyntaxKind.PropertyAssignment:case s.SyntaxKind.PropertyDeclaration:case s.SyntaxKind.PropertySignature:case s.SyntaxKind.SetAccessor:case s.SyntaxKind.ShorthandPropertyAssignment:case s.SyntaxKind.TypeAliasDeclaration:case s.SyntaxKind.TypeParameter:case s.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isRegularExpressionLiteral=tr.is(s.SyntaxKind.RegularExpressionLiteral);static isRenameable(e){switch(e?.getKind()){case s.SyntaxKind.BindingElement:case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.ClassExpression:case s.SyntaxKind.EnumDeclaration:case s.SyntaxKind.EnumMember:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.FunctionExpression:case s.SyntaxKind.GetAccessor:case s.SyntaxKind.Identifier:case s.SyntaxKind.ImportAttribute:case s.SyntaxKind.ImportEqualsDeclaration:case s.SyntaxKind.InterfaceDeclaration:case s.SyntaxKind.MetaProperty:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.MethodSignature:case s.SyntaxKind.ModuleDeclaration:case s.SyntaxKind.NamedTupleMember:case s.SyntaxKind.NamespaceExport:case s.SyntaxKind.NamespaceImport:case s.SyntaxKind.Parameter:case s.SyntaxKind.PrivateIdentifier:case s.SyntaxKind.PropertyAccessExpression:case s.SyntaxKind.PropertyAssignment:case s.SyntaxKind.PropertyDeclaration:case s.SyntaxKind.PropertySignature:case s.SyntaxKind.SetAccessor:case s.SyntaxKind.ShorthandPropertyAssignment:case s.SyntaxKind.TypeAliasDeclaration:case s.SyntaxKind.TypeParameter:case s.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isRestTypeNode(e){return e?.getKind()===s.SyntaxKind.RestType}static isReturnStatement=tr.is(s.SyntaxKind.ReturnStatement);static isReturnTyped(e){switch(e?.getKind()){case s.SyntaxKind.ArrowFunction:case s.SyntaxKind.CallSignature:case s.SyntaxKind.Constructor:case s.SyntaxKind.ConstructorType:case s.SyntaxKind.ConstructSignature:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.FunctionExpression:case s.SyntaxKind.FunctionType:case s.SyntaxKind.GetAccessor:case s.SyntaxKind.IndexSignature:case s.SyntaxKind.JSDocFunctionType:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.MethodSignature:case s.SyntaxKind.SetAccessor:return!0;default:return!1}}static isSatisfiesExpression=tr.is(s.SyntaxKind.SatisfiesExpression);static isScopeable(e){return e?.getKind()===s.SyntaxKind.Parameter}static isScoped(e){switch(e?.getKind()){case s.SyntaxKind.Constructor:case s.SyntaxKind.GetAccessor:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.PropertyDeclaration:case s.SyntaxKind.SetAccessor:return!0;default:return!1}}static isSemicolonToken=tr.is(s.SyntaxKind.SemicolonToken);static isSetAccessorDeclaration(e){return e?.getKind()===s.SyntaxKind.SetAccessor}static isShorthandPropertyAssignment=tr.is(s.SyntaxKind.ShorthandPropertyAssignment);static isSignaturedDeclaration(e){switch(e?.getKind()){case s.SyntaxKind.ArrowFunction:case s.SyntaxKind.CallSignature:case s.SyntaxKind.Constructor:case s.SyntaxKind.ConstructorType:case s.SyntaxKind.ConstructSignature:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.FunctionExpression:case s.SyntaxKind.FunctionType:case s.SyntaxKind.GetAccessor:case s.SyntaxKind.JSDocFunctionType:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.MethodSignature:case s.SyntaxKind.SetAccessor:return!0;default:return!1}}static isSourceFile=tr.is(s.SyntaxKind.SourceFile);static isSpreadAssignment=tr.is(s.SyntaxKind.SpreadAssignment);static isSpreadElement=tr.is(s.SyntaxKind.SpreadElement);static isStatement(e){switch(e?.getKind()){case s.SyntaxKind.Block:case s.SyntaxKind.BreakStatement:case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.ContinueStatement:case s.SyntaxKind.DebuggerStatement:case s.SyntaxKind.DoStatement:case s.SyntaxKind.EmptyStatement:case s.SyntaxKind.EnumDeclaration:case s.SyntaxKind.ExportAssignment:case s.SyntaxKind.ExportDeclaration:case s.SyntaxKind.ExpressionStatement:case s.SyntaxKind.ForInStatement:case s.SyntaxKind.ForOfStatement:case s.SyntaxKind.ForStatement:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.IfStatement:case s.SyntaxKind.ImportDeclaration:case s.SyntaxKind.ImportEqualsDeclaration:case s.SyntaxKind.InterfaceDeclaration:case s.SyntaxKind.LabeledStatement:case s.SyntaxKind.ModuleBlock:case s.SyntaxKind.ModuleDeclaration:case s.SyntaxKind.NotEmittedStatement:case s.SyntaxKind.ReturnStatement:case s.SyntaxKind.SwitchStatement:case s.SyntaxKind.ThrowStatement:case s.SyntaxKind.TryStatement:case s.SyntaxKind.TypeAliasDeclaration:case s.SyntaxKind.VariableStatement:case s.SyntaxKind.WhileStatement:case s.SyntaxKind.WithStatement:return!0;default:return!1}}static isStatemented(e){switch(e?.getKind()){case s.SyntaxKind.ArrowFunction:case s.SyntaxKind.Block:case s.SyntaxKind.CaseClause:case s.SyntaxKind.ClassStaticBlockDeclaration:case s.SyntaxKind.Constructor:case s.SyntaxKind.DefaultClause:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.FunctionExpression:case s.SyntaxKind.GetAccessor:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.ModuleBlock:case s.SyntaxKind.ModuleDeclaration:case s.SyntaxKind.SetAccessor:case s.SyntaxKind.SourceFile:return!0;default:return!1}}static isStaticable(e){switch(e?.getKind()){case s.SyntaxKind.GetAccessor:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.PropertyDeclaration:case s.SyntaxKind.SetAccessor:return!0;default:return!1}}static isStringKeyword=tr.is(s.SyntaxKind.StringKeyword);static isStringLiteral=tr.is(s.SyntaxKind.StringLiteral);static isSuperExpression(e){return e?.getKind()===s.SyntaxKind.SuperKeyword}static isSwitchStatement=tr.is(s.SyntaxKind.SwitchStatement);static isSymbolKeyword=tr.is(s.SyntaxKind.SymbolKeyword);static isSyntaxList=tr.is(s.SyntaxKind.SyntaxList);static isTaggedTemplateExpression=tr.is(s.SyntaxKind.TaggedTemplateExpression);static isTemplateExpression=tr.is(s.SyntaxKind.TemplateExpression);static isTemplateHead=tr.is(s.SyntaxKind.TemplateHead);static isTemplateLiteralTypeNode(e){return e?.getKind()===s.SyntaxKind.TemplateLiteralType}static isTemplateMiddle=tr.is(s.SyntaxKind.TemplateMiddle);static isTemplateSpan=tr.is(s.SyntaxKind.TemplateSpan);static isTemplateTail=tr.is(s.SyntaxKind.TemplateTail);static isTextInsertable(e){switch(e?.getKind()){case s.SyntaxKind.ArrowFunction:case s.SyntaxKind.Block:case s.SyntaxKind.CaseBlock:case s.SyntaxKind.CaseClause:case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.ClassExpression:case s.SyntaxKind.ClassStaticBlockDeclaration:case s.SyntaxKind.Constructor:case s.SyntaxKind.DefaultClause:case s.SyntaxKind.EnumDeclaration:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.FunctionExpression:case s.SyntaxKind.GetAccessor:case s.SyntaxKind.InterfaceDeclaration:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.ModuleDeclaration:case s.SyntaxKind.SetAccessor:case s.SyntaxKind.SourceFile:return!0;default:return!1}}static isThisExpression(e){return e?.getKind()===s.SyntaxKind.ThisKeyword}static isThisTypeNode(e){return e?.getKind()===s.SyntaxKind.ThisType}static isThrowStatement=tr.is(s.SyntaxKind.ThrowStatement);static isTrueLiteral(e){return e?.getKind()===s.SyntaxKind.TrueKeyword}static isTryStatement=tr.is(s.SyntaxKind.TryStatement);static isTupleTypeNode(e){return e?.getKind()===s.SyntaxKind.TupleType}static isTypeAliasDeclaration=tr.is(s.SyntaxKind.TypeAliasDeclaration);static isTypeArgumented(e){switch(e?.getKind()){case s.SyntaxKind.CallExpression:case s.SyntaxKind.ExpressionWithTypeArguments:case s.SyntaxKind.ImportType:case s.SyntaxKind.NewExpression:case s.SyntaxKind.TypeQuery:case s.SyntaxKind.TypeReference:return!0;default:return!1}}static isTypeAssertion(e){return e?.getKind()===s.SyntaxKind.TypeAssertionExpression}static isTyped(e){switch(e?.getKind()){case s.SyntaxKind.AsExpression:case s.SyntaxKind.NamedTupleMember:case s.SyntaxKind.Parameter:case s.SyntaxKind.PropertyDeclaration:case s.SyntaxKind.PropertySignature:case s.SyntaxKind.SatisfiesExpression:case s.SyntaxKind.TypeAliasDeclaration:case s.SyntaxKind.TypeAssertionExpression:case s.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isTypeElement(e){switch(e?.getKind()){case s.SyntaxKind.CallSignature:case s.SyntaxKind.ConstructSignature:case s.SyntaxKind.IndexSignature:case s.SyntaxKind.MethodSignature:case s.SyntaxKind.PropertySignature:return!0;default:return!1}}static isTypeElementMembered(e){switch(e?.getKind()){case s.SyntaxKind.InterfaceDeclaration:case s.SyntaxKind.TypeLiteral:return!0;default:return!1}}static isTypeLiteral(e){return e?.getKind()===s.SyntaxKind.TypeLiteral}static isTypeNode(e){switch(e?.getKind()){case s.SyntaxKind.ArrayType:case s.SyntaxKind.ConditionalType:case s.SyntaxKind.ConstructorType:case s.SyntaxKind.ExpressionWithTypeArguments:case s.SyntaxKind.FunctionType:case s.SyntaxKind.ImportType:case s.SyntaxKind.IndexedAccessType:case s.SyntaxKind.InferType:case s.SyntaxKind.IntersectionType:case s.SyntaxKind.JSDocAllType:case s.SyntaxKind.JSDocFunctionType:case s.SyntaxKind.JSDocNamepathType:case s.SyntaxKind.JSDocNonNullableType:case s.SyntaxKind.JSDocNullableType:case s.SyntaxKind.JSDocOptionalType:case s.SyntaxKind.JSDocSignature:case s.SyntaxKind.JSDocTypeExpression:case s.SyntaxKind.JSDocTypeLiteral:case s.SyntaxKind.JSDocUnknownType:case s.SyntaxKind.JSDocVariadicType:case s.SyntaxKind.LiteralType:case s.SyntaxKind.MappedType:case s.SyntaxKind.NamedTupleMember:case s.SyntaxKind.ParenthesizedType:case s.SyntaxKind.RestType:case s.SyntaxKind.TemplateLiteralType:case s.SyntaxKind.ThisType:case s.SyntaxKind.TupleType:case s.SyntaxKind.TypeLiteral:case s.SyntaxKind.TypeOperator:case s.SyntaxKind.TypePredicate:case s.SyntaxKind.TypeQuery:case s.SyntaxKind.TypeReference:case s.SyntaxKind.UnionType:return!0;default:return!1}}static isTypeOfExpression=tr.is(s.SyntaxKind.TypeOfExpression);static isTypeOperatorTypeNode(e){return e?.getKind()===s.SyntaxKind.TypeOperator}static isTypeParameterDeclaration(e){return e?.getKind()===s.SyntaxKind.TypeParameter}static isTypeParametered(e){switch(e?.getKind()){case s.SyntaxKind.ArrowFunction:case s.SyntaxKind.CallSignature:case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.ClassExpression:case s.SyntaxKind.Constructor:case s.SyntaxKind.ConstructSignature:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.FunctionExpression:case s.SyntaxKind.FunctionType:case s.SyntaxKind.GetAccessor:case s.SyntaxKind.InterfaceDeclaration:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.MethodSignature:case s.SyntaxKind.SetAccessor:case s.SyntaxKind.TypeAliasDeclaration:return!0;default:return!1}}static isTypePredicate(e){return e?.getKind()===s.SyntaxKind.TypePredicate}static isTypeQuery(e){return e?.getKind()===s.SyntaxKind.TypeQuery}static isTypeReference(e){return e?.getKind()===s.SyntaxKind.TypeReference}static isUnaryExpression(e){switch(e?.getKind()){case s.SyntaxKind.ArrayLiteralExpression:case s.SyntaxKind.AwaitExpression:case s.SyntaxKind.BigIntLiteral:case s.SyntaxKind.CallExpression:case s.SyntaxKind.ClassExpression:case s.SyntaxKind.DeleteExpression:case s.SyntaxKind.ElementAccessExpression:case s.SyntaxKind.FalseKeyword:case s.SyntaxKind.FunctionExpression:case s.SyntaxKind.Identifier:case s.SyntaxKind.ImportKeyword:case s.SyntaxKind.JsxElement:case s.SyntaxKind.JsxFragment:case s.SyntaxKind.JsxSelfClosingElement:case s.SyntaxKind.MetaProperty:case s.SyntaxKind.NewExpression:case s.SyntaxKind.NonNullExpression:case s.SyntaxKind.NoSubstitutionTemplateLiteral:case s.SyntaxKind.NullKeyword:case s.SyntaxKind.NumericLiteral:case s.SyntaxKind.ObjectLiteralExpression:case s.SyntaxKind.PostfixUnaryExpression:case s.SyntaxKind.PrefixUnaryExpression:case s.SyntaxKind.PropertyAccessExpression:case s.SyntaxKind.RegularExpressionLiteral:case s.SyntaxKind.StringLiteral:case s.SyntaxKind.SuperKeyword:case s.SyntaxKind.TaggedTemplateExpression:case s.SyntaxKind.TemplateExpression:case s.SyntaxKind.ThisKeyword:case s.SyntaxKind.TrueKeyword:case s.SyntaxKind.TypeAssertionExpression:case s.SyntaxKind.TypeOfExpression:case s.SyntaxKind.VoidExpression:return!0;default:return!1}}static isUnaryExpressioned(e){switch(e?.getKind()){case s.SyntaxKind.AwaitExpression:case s.SyntaxKind.DeleteExpression:case s.SyntaxKind.TypeAssertionExpression:case s.SyntaxKind.TypeOfExpression:case s.SyntaxKind.VoidExpression:return!0;default:return!1}}static isUndefinedKeyword=tr.is(s.SyntaxKind.UndefinedKeyword);static isUnionTypeNode(e){return e?.getKind()===s.SyntaxKind.UnionType}static isUnwrappable(e){switch(e?.getKind()){case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.ModuleDeclaration:return!0;default:return!1}}static isUpdateExpression(e){switch(e?.getKind()){case s.SyntaxKind.ArrayLiteralExpression:case s.SyntaxKind.BigIntLiteral:case s.SyntaxKind.CallExpression:case s.SyntaxKind.ClassExpression:case s.SyntaxKind.ElementAccessExpression:case s.SyntaxKind.FalseKeyword:case s.SyntaxKind.FunctionExpression:case s.SyntaxKind.Identifier:case s.SyntaxKind.ImportKeyword:case s.SyntaxKind.JsxElement:case s.SyntaxKind.JsxFragment:case s.SyntaxKind.JsxSelfClosingElement:case s.SyntaxKind.MetaProperty:case s.SyntaxKind.NewExpression:case s.SyntaxKind.NonNullExpression:case s.SyntaxKind.NoSubstitutionTemplateLiteral:case s.SyntaxKind.NullKeyword:case s.SyntaxKind.NumericLiteral:case s.SyntaxKind.ObjectLiteralExpression:case s.SyntaxKind.PropertyAccessExpression:case s.SyntaxKind.RegularExpressionLiteral:case s.SyntaxKind.StringLiteral:case s.SyntaxKind.SuperKeyword:case s.SyntaxKind.TaggedTemplateExpression:case s.SyntaxKind.TemplateExpression:case s.SyntaxKind.ThisKeyword:case s.SyntaxKind.TrueKeyword:return!0;default:return!1}}static isVariableDeclaration=tr.is(s.SyntaxKind.VariableDeclaration);static isVariableDeclarationList=tr.is(s.SyntaxKind.VariableDeclarationList);static isVariableStatement=tr.is(s.SyntaxKind.VariableStatement);static isVoidExpression=tr.is(s.SyntaxKind.VoidExpression);static isWhileStatement=tr.is(s.SyntaxKind.WhileStatement);static isWithStatement=tr.is(s.SyntaxKind.WithStatement);static isYieldExpression=tr.is(s.SyntaxKind.YieldExpression);static _hasStructure(e){switch(e?.getKind()){case s.SyntaxKind.CallSignature:case s.SyntaxKind.ClassDeclaration:case s.SyntaxKind.ClassStaticBlockDeclaration:case s.SyntaxKind.Constructor:case s.SyntaxKind.ConstructSignature:case s.SyntaxKind.Decorator:case s.SyntaxKind.EnumDeclaration:case s.SyntaxKind.EnumMember:case s.SyntaxKind.ExportAssignment:case s.SyntaxKind.ExportDeclaration:case s.SyntaxKind.ExportSpecifier:case s.SyntaxKind.FunctionDeclaration:case s.SyntaxKind.GetAccessor:case s.SyntaxKind.ImportAttribute:case s.SyntaxKind.ImportDeclaration:case s.SyntaxKind.ImportSpecifier:case s.SyntaxKind.IndexSignature:case s.SyntaxKind.InterfaceDeclaration:case s.SyntaxKind.JSDoc:case s.SyntaxKind.JsxAttribute:case s.SyntaxKind.JsxElement:case s.SyntaxKind.JsxNamespacedName:case s.SyntaxKind.JsxSelfClosingElement:case s.SyntaxKind.JsxSpreadAttribute:case s.SyntaxKind.MethodDeclaration:case s.SyntaxKind.MethodSignature:case s.SyntaxKind.ModuleDeclaration:case s.SyntaxKind.Parameter:case s.SyntaxKind.PropertyAssignment:case s.SyntaxKind.PropertyDeclaration:case s.SyntaxKind.PropertySignature:case s.SyntaxKind.SetAccessor:case s.SyntaxKind.ShorthandPropertyAssignment:case s.SyntaxKind.SourceFile:case s.SyntaxKind.SpreadAssignment:case s.SyntaxKind.TypeAliasDeclaration:case s.SyntaxKind.TypeParameter:case s.SyntaxKind.VariableDeclaration:case s.SyntaxKind.VariableStatement:return!0;default:return!1}}}function ti(e,t){return null==t?void 0:r=>t(e._getNodeFromCompilerNode(r))}function tn(e,t,r,i){let n=tr.isSourceFile(e)?e.getChildSyntaxListOrThrow():e.getParentSyntaxList()||e.getParentOrThrow(),o=k(e._getWriterWithQueuedIndentation(),r);if(!/^[\s\r\n]*$/.test(o))throw new s.errors.InvalidOperationError(`Cannot insert non-whitespace into ${i}.`);eV({parent:n,insertPos:t,newText:o})}function*ts(e){for(let t of function(){let t=[];return e.forEachChild(e=>{t.push(e)}),t}())yield t,yield*ts(t)}function*to(e,t){for(let r of F.getCompilerChildren(e,t))yield r,yield*to(r,t)}function ta(e,t){return t>=s.SyntaxKind.FirstNode&&t<s.SyntaxKind.FirstJSDocNode&&("number"==typeof e?e:e.compilerNode.kind)!==s.SyntaxKind.SyntaxList}t.HGh=void 0,function(e){e.Public="public",e.Protected="protected",e.Private="private"}(t.HGh||(t.HGh={}));class tl extends tr{addChildText(e){return this.insertChildText(this.getChildCount(),e)}insertChildText(e,t){let r=this.getChildCount(),i=this._context.manipulationSettings.getNewLineKindAsString(),n=this.getParentOrThrow();e=ex(e,r);let s=this!==n.getChildSyntaxList(),o=k(s?n._getWriterWithQueuedChildIndentation():n._getWriterWithChildIndentation(),t);return 0===o.length?[]:(s?0===e?o+=" ":o=" "+o:0===e&&tr.isSourceFile(n)?o.endsWith("\n")||(o+=i):(o=i+o,!tr.isSourceFile(n)&&e===r&&o.endsWith("\n")&&(o=o.replace(/\r?\n$/,""))),eV({insertPos:ec(e,this,this.getChildren()),newText:o,parent:this}),eh(r,this.getChildren(),e,!0))}}function tc(e,t,r){if(s.errors.throwIfWhitespaceOrNotString(t,"newName"),e.getText()===t)return;let i=e._context.languageService.findRenameLocations(e,r),n=new s.KeyValueCache;for(let e of i)n.getOrCreate(e.getSourceFile(),()=>[]).push(e);for(let[e,r]of n.getEntries()){let{sourceFile:i,renameLocations:n,newName:s}={sourceFile:e,renameLocations:r,newName:t},o=new eO;ez(i,new eR(n,s),o.getForTryOrForget(o.getForRename(i._context.compilerFactory)))}}function td(e,t){let r=e7(e._getWriterWithIndentation(),t),i=e.getFirstChildByKindOrThrow(s.SyntaxKind.OpenBraceToken),n=e.getFirstChildByKindOrThrow(s.SyntaxKind.CloseBraceToken);eV({insertPos:i.getEnd(),newText:r,parent:e,replacing:{textLength:n.getStart()-i.getEnd()}})}function tu(e){return class extends e{getBody(){let e=this.compilerNode.body;if(null==e)throw new s.errors.InvalidOperationError("Bodied node should have a body.");return this._getNodeFromCompilerNode(e)}setBodyText(e){return td(this.getBody(),e),this}getBodyText(){return e4(this.getBody())}}}function th(e){return class extends e{getBodyOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getBody(),e??"Expected to find the node's body.",this)}getBody(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.body)}getBodyText(){let e=this.getBody();return null==e?void 0:e4(e)}setBodyText(e){return this.addBody(),td(this.getBodyOrThrow(),e),this}hasBody(){return null!=this.compilerNode.body}addBody(){if(this.hasBody())return this;let e=this.getLastChildByKind(s.SyntaxKind.SemicolonToken);return eV({parent:this,insertPos:null==e?this.getEnd():e.getStart(),newText:this._getWriterWithQueuedIndentation().space().block().toString(),replacing:{textLength:e?.getFullWidth()??0}}),this}removeBody(){let e=this.getBody();return null==e||eV({parent:this,insertPos:e.getPos(),newText:";",replacing:{textLength:e.getFullWidth()}}),this}}}function tp(e){return class extends e{setOrder(e){let t=this.getChildIndex(),r=this.getParentSyntaxList()||this.getParentSyntaxListOrThrow();if(s.errors.throwIfOutOfRange(e,[0,r.getChildCount()-1],"order"),t===e)return this;var i={parent:r,getSiblingFormatting:Z,oldIndex:t,newIndex:e};let{parent:n}=i;return ez(n._sourceFile,new ev(i),new eO().getForChangingChildOrder(i)),this}}}function tg(e){return class extends e{getDecorator(e){return c(this.getDecorators(),e)}getDecoratorOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getDecorator(e),t??(()=>u("decorator",e)),this)}getDecorators(){return tm(this.compilerNode).map(e=>this._getNodeFromCompilerNode(e))}addDecorator(e){return this.insertDecorator(ei(tm(this.compilerNode)),e)}addDecorators(e){return this.insertDecorators(ei(tm(this.compilerNode)),e)}insertDecorator(e,t){return this.insertDecorators(e,[t])[0]}insertDecorators(e,t){var r;if(s.ArrayUtils.isNullOrEmpty(t))return[];let i=function(e,t){let r=[];for(let i of t){let t=e._getWriter();e._context.structurePrinterFactory.forDecorator().printText(t,i),r.push(t.toString())}return r}(this,t),o=this.getDecorators();e=ex(e,o.length);let a=(r=this,!function(e,t){if(1===t.length){let e=t[0].getPreviousSibling();if(null!=e&&e.getStartLinePos()===t[0].getStartLinePos())return!0}if(t.length<=1)return e.getKind()===s.SyntaxKind.Parameter;let r=t[0].getStartLinePos();for(let e=1;e<t.length;e++)if(t[e].getStartLinePos()!==r)return!1;return!0}(r,o)?n.Newline:n.Space),l=o[e-1],c=function(e){let{structures:t,newCodes:r,parent:i,getSeparator:o,previousFormattingKind:a,nextFormattingKind:l}=e,c=e.indentationText??i.getChildIndentationText(),d=i._context.manipulationSettings.getNewLineKindAsString();return u(a)+function(){let e=r[0];for(let i=1;i<r.length;i++)e+=u(o(t[i-1],t[i])),e+=r[i];return e}()+u(l);function u(e){let t=function(e,t){switch(e){case n.Space:return" ";case n.Newline:return t.newLineKind;case n.Blankline:return t.newLineKind+t.newLineKind;case n.None:return"";default:throw new s.errors.NotImplementedError(`Not implemented formatting kind: ${e}`)}}(e,{newLineKind:d});return(e===n.Newline||e===n.Blankline)&&(t+=c),t}}({structures:t,newCodes:i,parent:this,indentationText:this.getIndentationText(),getSeparator:()=>a,previousFormattingKind:null==l?n.None:a,nextFormattingKind:null==l?a:n.None});return eV({parent:o[0]?.getParentSyntaxListOrThrow()??this.getModifiers()[0]?.getParentSyntaxListOrThrow()??this,insertPos:0===e?(o[0]??this).getStart():o[e-1].getEnd(),newText:c}),eh(o,this.getDecorators(),e,!1)}set(t){return G(e.prototype,this,t),null!=t.decorators&&(this.getDecorators().forEach(e=>e.remove()),this.addDecorators(t.decorators)),this}getStructure(){return $(e.prototype,this,{decorators:this.getDecorators().map(e=>e.getStructure())})}}}function tm(e){return s.ts.canHaveDecorators(e)?s.ts.getDecorators(e)??[]:[]}function ty(e){return class extends e{getDotDotDotTokenOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getDotDotDotToken(),e??"Expected to find a dot dot dot token (...).",this)}getDotDotDotToken(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.dotDotDotToken)}}}function tx(e){return class extends e{hasExclamationToken(){return null!=this.compilerNode.exclamationToken}getExclamationTokenNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.exclamationToken)}getExclamationTokenNodeOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getExclamationTokenNode(),e??"Expected to find an exclamation token.",this)}setHasExclamationToken(e){let t=this.getExclamationTokenNode();if(e===(null!=t))return this;if(e){tr.isQuestionTokenable(this)&&this.setHasQuestionToken(!1);let e=this.getFirstChildByKind(s.SyntaxKind.ColonToken);if(null==e)throw new s.errors.InvalidOperationError("Cannot add an exclamation token to a node that does not have a type.");eV({insertPos:e.getStart(),parent:this,newText:"!"})}else eq({children:[t]});return this}set(t){return G(e.prototype,this,t),null!=t.hasExclamationToken&&this.setHasExclamationToken(t.hasExclamationToken),this}getStructure(){return $(e.prototype,this,{hasExclamationToken:this.hasExclamationToken()})}}}function tf(e){return class extends e{hasExportKeyword(){return null!=this.getExportKeyword()}getExportKeyword(){if(tr.isVariableDeclaration(this)){let e=this.getVariableStatement();return e?.getExportKeyword()}return tr.isModifierable(this)?this.getFirstModifierByKind(s.SyntaxKind.ExportKeyword):tS()}getExportKeywordOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getExportKeyword(),e??"Expected to find an export keyword.",this)}hasDefaultKeyword(){return null!=this.getDefaultKeyword()}getDefaultKeyword(){if(tr.isVariableDeclaration(this)){let e=this.getVariableStatement();return e?.getDefaultKeyword()}return tr.isModifierable(this)?this.getFirstModifierByKind(s.SyntaxKind.DefaultKeyword):tS()}getDefaultKeywordOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getDefaultKeyword(),e??"Expected to find a default keyword.",this)}isExported(){if(this.hasExportKeyword())return!0;let e=this.getSymbol(),t=this.getSourceFile().getSymbol();return null!=e&&null!=t&&t.getExports().some(t=>t===e||t.getAliasedSymbol()===e)}isDefaultExport(){if(this.hasDefaultKeyword())return!0;let e=this.getSymbol();if(null==e)return!1;let t=this.getSourceFile().getDefaultExportSymbol();return null!=t&&(e===t||e===t.getAliasedSymbol())}isNamedExport(){let e=this.getSymbol(),t=this.getSourceFile().getSymbol();return null!=e&&null!=t&&!function(){let r=t.getExport("default");return null!=r&&(e===r||e===r.getAliasedSymbol())}()&&t.getExports().some(t=>t===e||t.getAliasedSymbol()===e)}}}function tS(){throw new s.errors.NotImplementedError("Not implemented situation where node was not a ModifierableNode.")}function tT(e){var t;return t=tf(e),class extends t{setIsDefaultExport(e){if(e===this.isDefaultExport())return this;if(e&&!tr.isSourceFile(this.getParentOrThrow()))throw new s.errors.InvalidOperationError("The parent must be a source file in order to set this node as a default export.");let t=this.getSourceFile(),r=t.getDefaultExportSymbol();if(null!=r&&t.removeDefaultExport(r),!e)return this;if(tr.hasName(this)&&(function(){return!!(tr.isEnumDeclaration(this)||tr.isModuleDeclaration(this)||tr.isTypeAliasDeclaration(this)||tr.isAmbientable(this)&&this.isAmbient())}).call(this)){let e=this.getFirstAncestorByKindOrThrow(s.SyntaxKind.SyntaxList),t=this.getName();e.insertChildText(this.getChildIndex()+1,e=>{e.newLine().write(`export default ${t};`)})}else this.addModifier("export"),this.addModifier("default");return this}setIsExported(e){return tr.isSourceFile(this.getParentOrThrow())&&this.toggleModifier("default",!1),this.toggleModifier("export",e),this}set(e){return G(t.prototype,this,e),null!=e.isExported&&this.setIsExported(e.isExported),null!=e.isDefaultExport&&this.setIsDefaultExport(e.isDefaultExport),this}getStructure(){return $(t.prototype,this,{isExported:this.hasExportKeyword(),isDefaultExport:this.hasDefaultKeyword()})}}}class tN{printTextOrWriterFunc(e,t){"string"==typeof t?e.write(t):null!=t&&t(e)}getNewWriter(e){return new o.default(e.getOptions())}getNewWriterWithQueuedChildIndentation(e){let t=new o.default(e.getOptions());return t.queueIndentationLevel(1),t}getText(e,t){let r=this.getNewWriter(e);return this.printTextOrWriterFunc(r,t),r.toString()}getTextWithQueuedChildIndentation(e,t){let r=this.getNewWriterWithQueuedChildIndentation(e);return this.printTextOrWriterFunc(r,t),r.toString()}}class tK extends tN{printText(e,t){let{initializer:r}=t;if(null==r)return;let i=this.getText(e,r);s.StringUtils.isNullOrWhitespace(i)||e.hangingIndent(()=>{e.spaceIfLastNot(),e.write(`= ${i}`)})}}class tw extends tN{printText(e,t){let r=t.scope;t.isDefaultExport?e.write("export default "):t.isExported&&e.write("export "),t.hasDeclareKeyword&&e.write("declare "),null!=r&&e.write(`${r} `),t.isStatic&&e.write("static "),t.hasOverrideKeyword&&e.write("override "),t.isAbstract&&e.write("abstract "),t.isAsync&&e.write("async "),t.isReadonly&&e.write("readonly "),t.hasAccessorKeyword&&e.write("accessor ")}}class tF extends tN{#ec;constructor(e=!1){super(),this.#ec=e}printText(e,t){let{returnType:r}=t;if(null==r&&!1===this.#ec)return;r=r??"void";let i=this.getText(e,r);s.StringUtils.isNullOrWhitespace(i)||e.hangingIndent(()=>{e.write(`: ${i}`)})}}class tC extends tN{#ed;#ec;constructor(e,t=!1){super(),this.#ec=t,this.#ed=e}printText(e,t){let{type:r}=t;if(null==r&&!1===this.#ec)return;r=r??"any";let i=this.getText(e,r);s.StringUtils.isNullOrWhitespace(i)||e.hangingIndent(()=>{e.write(`${this.#ed} ${i}`)})}}class tb extends tN{#eu;constructor(e){super(),this.#eu=e}printText(e,t){if(null!=t)for(let r=0;r<t.length;r++)e.conditionalBlankLine(r>0),this.#eu.printText(e,t[r])}}class tI extends tN{#eu;constructor(e){super(),this.#eu=e}printText(e,t){tP(this.#eu,e,t,()=>e.spaceIfLastNot())}}function tP(e,t,r,i){if(null!=r)if(r instanceof Function||"string"==typeof r)e.printText(t,r);else{let n=Array(r.length);for(let s=0;s<r.length;s++){s>0&&i();let o=r[s],a=t.getLength();e.printText(t,o);let l=er(V.getLastCharactersToPos(t,a));n[s]=-1!==l&&l+a}let s=!1;for(let e=n.length-1;e>=0;e--){let r=n[e];!1!==r&&(s?t.unsafeInsert(r,","):s=!0)}}}class tE extends tN{#eu;constructor(e){super(),this.#eu=e}printText(e,t){tP(this.#eu,e,t,()=>e.newLineIfLastNot())}}class tD extends tN{#eu;constructor(e){super(),this.#eu=e}printText(e,t){if(null!=t)for(let r=0;r<t.length;r++)e.conditionalNewLine(r>0),this.#eu.printText(e,t[r])}}class tO extends tN{#eu;constructor(e){super(),this.#eu=e}printText(e,t){if(null!=t)for(let r=0;r<t.length;r++)e.conditionalWrite(r>0," "),this.#eu.printText(e,t[r])}}class tA extends tN{factory;constructor(e){super(),this.factory=e}printTextWithoutTrivia(e,t){this.printTextInternal(e,t)}printText(e,t){this.printLeadingTrivia(e,t),e.closeComment(),this.printTextInternal(e,t),this.printTrailingTrivia(e,t)}printLeadingTrivia(e,t){let r=t?.leadingTrivia;r&&(this.#eh(e,r),e.isInComment()&&e.closeComment())}printTrailingTrivia(e,t){let r=t?.trailingTrivia;null!=r&&this.#eh(e,r)}#eh(e,t){if(t instanceof Array)for(let r=0;r<t.length;r++)this.printTextOrWriterFunc(e,t[r]),r!==t.length-1&&e.newLineIfLastNot();else this.printTextOrWriterFunc(e,t)}}class tv{#ep;#eg;constructor(e,t){this.#ep=e,this.#eg=t}printGetAndSet(e,t,r,i){for(let n of(t=[...t??[]],r=[...r??[]],t)){this.#em(e,i),this.#ep.printText(e,n);let t=r.findIndex(e=>e.name===n.name);t>=0&&(this.#em(e,i),this.#eg.printText(e,r[t]),r.splice(t,1))}for(let t of r)this.#em(e,i),this.#eg.printText(e,t)}#em(e,t){e.isAtStartOfFirstLineOfBlock()||(t?e.newLine():e.blankLine())}}class t_ extends tA{#ey;#ex=new tb(this);constructor(e,t){super(e),this.#ey=t}printTexts(e,t){this.#ex.printText(e,t)}printTextInternal(e,t){let r=t.hasDeclareKeyword||this.#ey.isAmbient;this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forDecorator().printTexts(e,t.decorators),this.#ef(e,t),e.inlineBlock(()=>{this.factory.forPropertyDeclaration().printTexts(e,t.properties),this.#eS(e,t),this.#eT(e,t,r),this.#eN(e,t,r),s.ArrayUtils.isNullOrEmpty(t.methods)||(this.#em(e,r),this.factory.forMethodDeclaration({isAmbient:r}).printTexts(e,t.methods))})}#ef(e,t){this.factory.forModifierableNode().printText(e,t),e.write("class"),s.StringUtils.isNullOrWhitespace(t.name)||e.space().write(t.name),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),e.space(),e.hangingIndent(()=>{if(null!=t.extends){let r=this.getText(e,t.extends);s.StringUtils.isNullOrWhitespace(r)||e.write(`extends ${r} `)}if(null!=t.implements){let r=t.implements instanceof Array?t.implements.map(t=>this.getText(e,t)).join(", "):this.getText(e,t.implements);s.StringUtils.isNullOrWhitespace(r)||e.write(`implements ${r} `)}})}#eT(e,t,r){if(!s.ArrayUtils.isNullOrEmpty(t.ctors))for(let i of t.ctors)this.#em(e,r),this.factory.forConstructorDeclaration({isAmbient:r}).printText(e,i)}#eS(e,t){if(!s.ArrayUtils.isNullOrEmpty(t.staticBlocks))for(let r of t.staticBlocks)this.#em(e,!1),this.factory.forClassStaticBlockDeclaration().printText(e,r)}#eN(e,t,r){if(null!=t.getAccessors||null!=t.setAccessors)new tv(this.factory.forGetAccessorDeclaration({isAmbient:r}),this.factory.forSetAccessorDeclaration({isAmbient:r})).printGetAndSet(e,t.getAccessors,t.setAccessors,r)}#em(e,t){e.isAtStartOfFirstLineOfBlock()||(t?e.newLine():e.blankLine())}}t.c5n=void 0,function(e){e[e.ImportAttribute=0]="ImportAttribute",e[e.CallSignature=1]="CallSignature",e[e.Class=2]="Class",e[e.ClassStaticBlock=3]="ClassStaticBlock",e[e.ConstructSignature=4]="ConstructSignature",e[e.Constructor=5]="Constructor",e[e.ConstructorOverload=6]="ConstructorOverload",e[e.Decorator=7]="Decorator",e[e.Enum=8]="Enum",e[e.EnumMember=9]="EnumMember",e[e.ExportAssignment=10]="ExportAssignment",e[e.ExportDeclaration=11]="ExportDeclaration",e[e.ExportSpecifier=12]="ExportSpecifier",e[e.Function=13]="Function",e[e.FunctionOverload=14]="FunctionOverload",e[e.GetAccessor=15]="GetAccessor",e[e.ImportDeclaration=16]="ImportDeclaration",e[e.ImportSpecifier=17]="ImportSpecifier",e[e.IndexSignature=18]="IndexSignature",e[e.Interface=19]="Interface",e[e.JsxAttribute=20]="JsxAttribute",e[e.JsxSpreadAttribute=21]="JsxSpreadAttribute",e[e.JsxElement=22]="JsxElement",e[e.JsxSelfClosingElement=23]="JsxSelfClosingElement",e[e.JSDoc=24]="JSDoc",e[e.JSDocTag=25]="JSDocTag",e[e.Method=26]="Method",e[e.MethodOverload=27]="MethodOverload",e[e.MethodSignature=28]="MethodSignature",e[e.Module=29]="Module",e[e.Parameter=30]="Parameter",e[e.Property=31]="Property",e[e.PropertyAssignment=32]="PropertyAssignment",e[e.PropertySignature=33]="PropertySignature",e[e.SetAccessor=34]="SetAccessor",e[e.ShorthandPropertyAssignment=35]="ShorthandPropertyAssignment",e[e.SourceFile=36]="SourceFile",e[e.SpreadAssignment=37]="SpreadAssignment",e[e.TypeAlias=38]="TypeAlias",e[e.TypeParameter=39]="TypeParameter",e[e.VariableDeclaration=40]="VariableDeclaration",e[e.VariableStatement=41]="VariableStatement"}(t.c5n||(t.c5n={}));let tL={hasName:e=>"string"==typeof e.name,isCallSignature:e=>e?.kind===t.c5n.CallSignature,isJSDocable(e){switch(e?.kind){case t.c5n.CallSignature:case t.c5n.Class:case t.c5n.ClassStaticBlock:case t.c5n.ConstructorOverload:case t.c5n.Constructor:case t.c5n.ConstructSignature:case t.c5n.Enum:case t.c5n.EnumMember:case t.c5n.ExportAssignment:case t.c5n.FunctionOverload:case t.c5n.Function:case t.c5n.GetAccessor:case t.c5n.IndexSignature:case t.c5n.Interface:case t.c5n.MethodOverload:case t.c5n.Method:case t.c5n.MethodSignature:case t.c5n.Module:case t.c5n.Property:case t.c5n.PropertySignature:case t.c5n.SetAccessor:case t.c5n.TypeAlias:case t.c5n.VariableStatement:return!0;default:return!1}},isSignatured(e){switch(e?.kind){case t.c5n.CallSignature:case t.c5n.ConstructorOverload:case t.c5n.Constructor:case t.c5n.ConstructSignature:case t.c5n.FunctionOverload:case t.c5n.Function:case t.c5n.GetAccessor:case t.c5n.MethodOverload:case t.c5n.Method:case t.c5n.MethodSignature:case t.c5n.SetAccessor:return!0;default:return!1}},isParametered(e){switch(e?.kind){case t.c5n.CallSignature:case t.c5n.ConstructorOverload:case t.c5n.Constructor:case t.c5n.ConstructSignature:case t.c5n.FunctionOverload:case t.c5n.Function:case t.c5n.GetAccessor:case t.c5n.MethodOverload:case t.c5n.Method:case t.c5n.MethodSignature:case t.c5n.SetAccessor:return!0;default:return!1}},isReturnTyped(e){switch(e?.kind){case t.c5n.CallSignature:case t.c5n.ConstructorOverload:case t.c5n.Constructor:case t.c5n.ConstructSignature:case t.c5n.FunctionOverload:case t.c5n.Function:case t.c5n.GetAccessor:case t.c5n.IndexSignature:case t.c5n.MethodOverload:case t.c5n.Method:case t.c5n.MethodSignature:case t.c5n.SetAccessor:return!0;default:return!1}},isTypeParametered(e){switch(e?.kind){case t.c5n.CallSignature:case t.c5n.Class:case t.c5n.ConstructorOverload:case t.c5n.Constructor:case t.c5n.ConstructSignature:case t.c5n.FunctionOverload:case t.c5n.Function:case t.c5n.GetAccessor:case t.c5n.Interface:case t.c5n.MethodOverload:case t.c5n.Method:case t.c5n.MethodSignature:case t.c5n.SetAccessor:case t.c5n.TypeAlias:return!0;default:return!1}},isClass:e=>e?.kind===t.c5n.Class,isClassLikeDeclarationBase:e=>e?.kind===t.c5n.Class,isNameable(e){switch(e?.kind){case t.c5n.Class:case t.c5n.Function:return!0;default:return!1}},isImplementsClauseable:e=>e?.kind===t.c5n.Class,isDecoratable(e){switch(e?.kind){case t.c5n.Class:case t.c5n.GetAccessor:case t.c5n.Method:case t.c5n.Parameter:case t.c5n.Property:case t.c5n.SetAccessor:return!0;default:return!1}},isAbstractable(e){switch(e?.kind){case t.c5n.Class:case t.c5n.GetAccessor:case t.c5n.MethodOverload:case t.c5n.Method:case t.c5n.Property:case t.c5n.SetAccessor:return!0;default:return!1}},isAmbientable(e){switch(e?.kind){case t.c5n.Class:case t.c5n.Enum:case t.c5n.FunctionOverload:case t.c5n.Function:case t.c5n.Interface:case t.c5n.Module:case t.c5n.Property:case t.c5n.TypeAlias:case t.c5n.VariableStatement:return!0;default:return!1}},isExportable(e){switch(e?.kind){case t.c5n.Class:case t.c5n.Enum:case t.c5n.FunctionOverload:case t.c5n.Function:case t.c5n.Interface:case t.c5n.Module:case t.c5n.TypeAlias:case t.c5n.VariableStatement:return!0;default:return!1}},isClassStaticBlock:e=>e?.kind===t.c5n.ClassStaticBlock,isStatemented(e){switch(e?.kind){case t.c5n.ClassStaticBlock:case t.c5n.Constructor:case t.c5n.Function:case t.c5n.GetAccessor:case t.c5n.Method:case t.c5n.Module:case t.c5n.SetAccessor:case t.c5n.SourceFile:return!0;default:return!1}},isConstructorDeclarationOverload:e=>e?.kind===t.c5n.ConstructorOverload,isScoped(e){switch(e?.kind){case t.c5n.ConstructorOverload:case t.c5n.Constructor:case t.c5n.GetAccessor:case t.c5n.MethodOverload:case t.c5n.Method:case t.c5n.Property:case t.c5n.SetAccessor:return!0;default:return!1}},isConstructor:e=>e?.kind===t.c5n.Constructor,isFunctionLike(e){switch(e?.kind){case t.c5n.Constructor:case t.c5n.Function:case t.c5n.GetAccessor:case t.c5n.Method:case t.c5n.SetAccessor:return!0;default:return!1}},isConstructSignature:e=>e?.kind===t.c5n.ConstructSignature,isDecorator:e=>e?.kind===t.c5n.Decorator,isEnum:e=>e?.kind===t.c5n.Enum,isNamed(e){switch(e?.kind){case t.c5n.Enum:case t.c5n.Interface:case t.c5n.ShorthandPropertyAssignment:case t.c5n.TypeAlias:case t.c5n.TypeParameter:return!0;default:return!1}},isEnumMember:e=>e?.kind===t.c5n.EnumMember,isPropertyNamed(e){switch(e?.kind){case t.c5n.EnumMember:case t.c5n.GetAccessor:case t.c5n.Method:case t.c5n.MethodSignature:case t.c5n.PropertyAssignment:case t.c5n.Property:case t.c5n.PropertySignature:case t.c5n.SetAccessor:return!0;default:return!1}},isInitializerExpressionable(e){switch(e?.kind){case t.c5n.EnumMember:case t.c5n.Parameter:case t.c5n.Property:case t.c5n.PropertySignature:case t.c5n.VariableDeclaration:return!0;default:return!1}},isExportAssignment:e=>e?.kind===t.c5n.ExportAssignment,isExportDeclaration:e=>e?.kind===t.c5n.ExportDeclaration,isExportSpecifier:e=>e?.kind===t.c5n.ExportSpecifier,isFunctionDeclarationOverload:e=>e?.kind===t.c5n.FunctionOverload,isAsyncable(e){switch(e?.kind){case t.c5n.FunctionOverload:case t.c5n.Function:case t.c5n.MethodOverload:case t.c5n.Method:return!0;default:return!1}},isGeneratorable(e){switch(e?.kind){case t.c5n.FunctionOverload:case t.c5n.Function:case t.c5n.MethodOverload:case t.c5n.Method:return!0;default:return!1}},isFunction:e=>e?.kind===t.c5n.Function,isGetAccessor:e=>e?.kind===t.c5n.GetAccessor,isStaticable(e){switch(e?.kind){case t.c5n.GetAccessor:case t.c5n.MethodOverload:case t.c5n.Method:case t.c5n.Property:case t.c5n.SetAccessor:return!0;default:return!1}},isImportAttribute:e=>e?.kind===t.c5n.ImportAttribute,isImportAttributeNamed:e=>e?.kind===t.c5n.ImportAttribute,isImportDeclaration:e=>e?.kind===t.c5n.ImportDeclaration,isImportSpecifier:e=>e?.kind===t.c5n.ImportSpecifier,isIndexSignature:e=>e?.kind===t.c5n.IndexSignature,isReadonlyable(e){switch(e?.kind){case t.c5n.IndexSignature:case t.c5n.Parameter:case t.c5n.Property:case t.c5n.PropertySignature:return!0;default:return!1}},isInterface:e=>e?.kind===t.c5n.Interface,isExtendsClauseable:e=>e?.kind===t.c5n.Interface,isTypeElementMembered:e=>e?.kind===t.c5n.Interface,isJSDoc:e=>e?.kind===t.c5n.JSDoc,isJSDocTag:e=>e?.kind===t.c5n.JSDocTag,isJsxAttribute:e=>e?.kind===t.c5n.JsxAttribute,isJsxElement:e=>e?.kind===t.c5n.JsxElement,isJsxSelfClosingElement:e=>e?.kind===t.c5n.JsxSelfClosingElement,isJsxTagNamed:e=>e?.kind===t.c5n.JsxSelfClosingElement,isJsxAttributed:e=>e?.kind===t.c5n.JsxSelfClosingElement,isJsxSpreadAttribute:e=>e?.kind===t.c5n.JsxSpreadAttribute,isMethodDeclarationOverload:e=>e?.kind===t.c5n.MethodOverload,isQuestionTokenable(e){switch(e?.kind){case t.c5n.MethodOverload:case t.c5n.Method:case t.c5n.MethodSignature:case t.c5n.Parameter:case t.c5n.Property:case t.c5n.PropertySignature:return!0;default:return!1}},isOverrideable(e){switch(e?.kind){case t.c5n.MethodOverload:case t.c5n.Method:case t.c5n.Parameter:case t.c5n.Property:return!0;default:return!1}},isMethod:e=>e?.kind===t.c5n.Method,isMethodSignature:e=>e?.kind===t.c5n.MethodSignature,isModule:e=>e?.kind===t.c5n.Module,isModuleNamed:e=>e?.kind===t.c5n.Module,isParameter:e=>e?.kind===t.c5n.Parameter,isBindingNamed(e){switch(e?.kind){case t.c5n.Parameter:case t.c5n.VariableDeclaration:return!0;default:return!1}},isTyped(e){switch(e?.kind){case t.c5n.Parameter:case t.c5n.Property:case t.c5n.PropertySignature:case t.c5n.TypeAlias:case t.c5n.VariableDeclaration:return!0;default:return!1}},isScopeable:e=>e?.kind===t.c5n.Parameter,isPropertyAssignment:e=>e?.kind===t.c5n.PropertyAssignment,isProperty:e=>e?.kind===t.c5n.Property,isExclamationTokenable(e){switch(e?.kind){case t.c5n.Property:case t.c5n.VariableDeclaration:return!0;default:return!1}},isPropertySignature:e=>e?.kind===t.c5n.PropertySignature,isSetAccessor:e=>e?.kind===t.c5n.SetAccessor,isShorthandPropertyAssignment:e=>e?.kind===t.c5n.ShorthandPropertyAssignment,isSourceFile:e=>e?.kind===t.c5n.SourceFile,isSpreadAssignment:e=>e?.kind===t.c5n.SpreadAssignment,isExpressioned:e=>e?.kind===t.c5n.SpreadAssignment,isTypeAlias:e=>e?.kind===t.c5n.TypeAlias,isTypeParameter:e=>e?.kind===t.c5n.TypeParameter,isVariableDeclaration:e=>e?.kind===t.c5n.VariableDeclaration,isVariableStatement:e=>e?.kind===t.c5n.VariableStatement};function tk(e){return e.iterateLastCharCodes(e=>e===l.CLOSE_BRACE||!!s.StringUtils.isWhitespaceCharCode(e)&&void 0)||!1}class tM extends tN{#ey;#eK;constructor(e,t){super(),this.#eK=e,this.#ey=t}printTexts(e,t){if(null!=t)if("string"==typeof t||t instanceof Function)this.printText(e,t);else for(let r of t)tk(e)?e.blankLineIfLastNot():e.isAtStartOfFirstLineOfBlock()||e.newLineIfLastNot(),this.printText(e,r)}printText(e,r){if("string"==typeof r||r instanceof Function||null==r)return void this.printTextOrWriterFunc(e,r);switch(r.kind){case t.c5n.Method:this.#ey.isAmbient||i(),this.#eK.forMethodDeclaration(this.#ey).printText(e,r);break;case t.c5n.Property:this.#eK.forPropertyDeclaration().printText(e,r);break;case t.c5n.GetAccessor:this.#ey.isAmbient||i(),this.#eK.forGetAccessorDeclaration(this.#ey).printText(e,r);break;case t.c5n.SetAccessor:this.#ey.isAmbient||i(),this.#eK.forSetAccessorDeclaration(this.#ey).printText(e,r);break;case t.c5n.Constructor:this.#ey.isAmbient||i(),this.#eK.forConstructorDeclaration(this.#ey).printText(e,r);break;case t.c5n.ClassStaticBlock:i(),this.#eK.forClassStaticBlockDeclaration().printText(e,r);break;default:s.errors.throwNotImplementedForNeverValueError(r)}function i(){e.isAtStartOfFirstLineOfBlock()||e.blankLineIfLastNot()}}}class tW extends tA{constructor(e){super(e)}printTexts(e,t){if(null!=t)for(let r=0;r<t.length;r++)r>0&&e.blankLine(),this.printText(e,t[r])}printTextInternal(e,t){e.write("static"),e.space().inlineBlock(()=>{this.factory.forStatementedNode({isAmbient:!1}).printText(e,t)})}}class tB extends tA{#ey;constructor(e,t){super(e),this.#ey=t}printTexts(e,t){if(null!=t)for(let r=0;r<t.length;r++)r>0&&(this.#ey.isAmbient?e.newLine():e.blankLine()),this.printText(e,t[r])}printTextInternal(e,t){this.#ew(e,function(){let e=s.ObjectUtils.clone(t.overloads);if(null!=e&&0!==e.length){for(let r of e)_(r,"scope",t.scope);return e}}()),this.#ef(e,t),this.#ey.isAmbient?e.write(";"):e.space().inlineBlock(()=>{this.factory.forStatementedNode(this.#ey).printText(e,t)})}#ew(e,t){if(null!=t&&0!==t.length)for(let r of t)this.printOverload(e,r),e.newLine()}printOverload(e,t){this.printLeadingTrivia(e,t),this.#ef(e,t),e.write(";"),this.printTrailingTrivia(e,t)}#ef(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forModifierableNode().printText(e,t),e.write("constructor"),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,t.parameters)}}class tR extends tA{#ey;#ex;constructor(e,t){super(e),this.#ey=t,this.#ex=this.#ey.isAmbient?new tD(this):new tb(this)}printTexts(e,t){null!=t&&this.#ex.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forDecorator().printTexts(e,t.decorators),this.factory.forModifierableNode().printText(e,t),e.write(`get ${t.name}`),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,t.parameters),this.factory.forReturnTypedNode().printText(e,t),this.#ey.isAmbient||t.isAbstract?e.write(";"):e.spaceIfLastNot().inlineBlock(()=>{this.factory.forStatementedNode(this.#ey).printText(e,t)})}}class tj extends tA{#ey;constructor(e,t){super(e),this.#ey=t}printTexts(e,t){if(null!=t)for(let r=0;r<t.length;r++)r>0&&(this.#ey.isAmbient?e.newLine():e.blankLine()),this.printText(e,t[r])}printTextInternal(e,t){this.#ew(e,t.name,function(){let e=s.ObjectUtils.clone(t.overloads);if(null!=e&&0!==e.length){for(let r of e)_(r,"scope",t.scope),_(r,"isStatic",t.isStatic),_(r,"isAbstract",t.isAbstract),_(r,"hasQuestionToken",t.hasQuestionToken);return e}}()),this.#ef(e,t.name,t),this.#ey.isAmbient||t.isAbstract?e.write(";"):e.spaceIfLastNot().inlineBlock(()=>{this.factory.forStatementedNode(this.#ey).printText(e,t)})}#ew(e,t,r){if(null!=r&&0!==r.length)for(let i of r)this.printOverload(e,t,i),e.newLine()}printOverload(e,t,r){this.printLeadingTrivia(e,r),this.#ef(e,t,r),e.write(";"),this.printTrailingTrivia(e,r)}#ef(e,t,r){this.factory.forJSDoc().printDocs(e,r.docs),null!=r.decorators&&this.factory.forDecorator().printTexts(e,r.decorators),this.factory.forModifierableNode().printText(e,r),e.conditionalWrite(r.isGenerator,"*"),e.write(t),e.conditionalWrite(r.hasQuestionToken,"?"),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,r.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,r.parameters),this.factory.forReturnTypedNode().printText(e,r)}}class tJ extends tA{#ex=new tD(this);printTexts(e,t){this.#ex.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forDecorator().printTexts(e,t.decorators),this.factory.forModifierableNode().printText(e,t),e.write(t.name),e.conditionalWrite(t.hasQuestionToken,"?"),e.conditionalWrite(t.hasExclamationToken&&!t.hasQuestionToken,"!"),this.factory.forTypedNode(":").printText(e,t),this.factory.forInitializerExpressionableNode().printText(e,t),e.write(";")}}class tU extends tA{#ey;#ex;constructor(e,t){super(e),this.#ey=t,this.#ex=this.#ey.isAmbient?new tD(this):new tb(this)}printTexts(e,t){null!=t&&this.#ex.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forDecorator().printTexts(e,t.decorators),this.factory.forModifierableNode().printText(e,t),e.write(`set ${t.name}`),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,t.parameters),this.factory.forReturnTypedNode().printText(e,t),this.#ey.isAmbient||t.isAbstract?e.write(";"):e.spaceIfLastNot().inlineBlock(()=>{this.factory.forStatementedNode(this.#ey).printText(e,t)})}}class tz extends tN{printText(e,t){"string"==typeof t?e.write(t):t(e)}}class tV extends tA{printTexts(e,t){this.#eF(e,t,()=>e.newLine())}printTextsInline(e,t){this.#eF(e,t,()=>e.space())}printTextInternal(e,t){e.write(`@${t.name}`),this.#eC(e,t),this.#eb(e,t)}#eC(e,t){if(null!=t.typeArguments&&0!==t.typeArguments.length){e.write("<");for(let r=0;r<t.typeArguments.length;r++)e.conditionalWrite(r>0,", "),e.write(this.getTextWithQueuedChildIndentation(e,t.typeArguments[r]));e.write(">")}}#eb(e,t){if(null==t.arguments)return;e.write("(");let r=t.arguments instanceof Array?t.arguments:[t.arguments];for(let t=0;t<r.length;t++)e.conditionalWrite(t>0,", "),e.write(this.getTextWithQueuedChildIndentation(e,r[t]));e.write(")")}#eF(e,t,r){if(null!=t&&0!==t.length)for(let i of t)this.printText(e,i),r()}}class t$ extends tA{printDocs(e,t){if(null!=t)for(let r of t)this.printText(e,r),e.newLine()}printTextInternal(e,t){let r=(function(r){if("string"==typeof t)return t;let i=r.getNewWriter(e);return"function"==typeof t?t(i):(t.description&&M(i,t.description),t.tags&&t.tags.length>0&&(i.getLength()>0&&i.newLine(),r.factory.forJSDocTag({printStarsOnNewLine:!1}).printTexts(i,t.tags))),i.toString()})(this).split(/\r?\n/),i=0===r[0].length,n=r.length<=1,s=+!!i;if(e.write("/**"),n?e.space():e.newLine(),n)e.write(r[s]);else for(let t=s;t<r.length;t++)e.write(" *"),r[t].length>0&&e.write(` ${r[t]}`),e.newLine();e.spaceIfLastNot(),e.write("*/")}}class tG extends tA{#ey;constructor(e,t){super(e),this.#ey=t}printTexts(e,t){if(null!=t)for(let r=0;r<t.length;r++)r>0&&(e.newLine(),e.conditionalWrite(this.#ey.printStarsOnNewLine," * ")),this.printText(e,t[r])}printTextInternal(e,t){let r=(function(r){if("string"==typeof t)return t;let i=r.getNewWriter(e);if("function"==typeof t)t(i);else{t.text&&M(i,t.text);let e=i.toString();i.unsafeInsert(0,`@${t.tagName}`+(e.length>0&&!s.StringUtils.startsWithNewLine(e)?" ":""))}return i.toString()})(this).split(/\r?\n/);for(let t=0;t<r.length;t++)t>0&&(e.newLine(),this.#ey.printStarsOnNewLine&&e.write(" *")),r[t].length>0&&(this.#ey.printStarsOnNewLine&&t>0&&e.space(),e.write(r[t]))}}class tQ extends tA{#ex=new tb(this);printTexts(e,t){this.#ex.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forModifierableNode().printText(e,t),e.conditionalWrite(t.isConst,"const "),e.write(`enum ${t.name} `).inlineBlock(()=>{this.factory.forEnumMember().printTexts(e,t.members)})}}class tH extends tA{#ex=new tE(this);printTexts(e,t){this.#ex.printText(e,t)}printTextInternal(e,t){if(t instanceof Function)return void t(e);if("string"==typeof t)return void e.write(t);if(this.factory.forJSDoc().printDocs(e,t.docs),J(t.name)||s.StringUtils.isQuoted(t.name)?e.write(t.name):e.quote(t.name),"string"==typeof t.value){let{value:r}=t;e.hangingIndent(()=>e.write(" = ").quote(r))}else"number"==typeof t.value?e.write(` = ${t.value}`):this.factory.forInitializerExpressionableNode().printText(e,t)}}class tq extends tN{#eK;#ex=new tE(this);#ey={isAmbient:!1};constructor(e){super(),this.#eK=e}printTexts(e,t){this.#ex.printText(e,t)}printText(e,r){if("string"==typeof r||r instanceof Function||null==r)return void this.printTextOrWriterFunc(e,r);switch(r.kind){case t.c5n.PropertyAssignment:this.#eK.forPropertyAssignment().printText(e,r);break;case t.c5n.ShorthandPropertyAssignment:this.#eK.forShorthandPropertyAssignment().printText(e,r);break;case t.c5n.SpreadAssignment:this.#eK.forSpreadAssignment().printText(e,r);break;case t.c5n.Method:this.#eK.forMethodDeclaration(this.#ey).printText(e,r);break;case t.c5n.GetAccessor:this.#eK.forGetAccessorDeclaration(this.#ey).printText(e,r);break;case t.c5n.SetAccessor:this.#eK.forSetAccessorDeclaration(this.#ey).printText(e,r);break;default:s.errors.throwNotImplementedForNeverValueError(r)}}}class tY extends tA{printTextInternal(e,t){e.hangingIndent(()=>{e.write(`${t.name}: `),M(e,t.initializer)})}}class tX extends tA{printTextInternal(e,t){e.write(`${t.name}`)}}class tZ extends tA{printTextInternal(e,t){e.hangingIndent(()=>{e.write("..."),M(e,t.expression)})}}class t0 extends tA{#ey;constructor(e,t){super(e),this.#ey=t}printTexts(e,t){if(null!=t)for(let r=0;r<t.length;r++){let i=t[r];if(r>0){let n=t[r-1];this.#ey.isAmbient||n.hasDeclareKeyword&&i.hasDeclareKeyword?e.newLine():e.blankLine()}this.printText(e,i)}}printTextInternal(e,t){this.#ew(e,t.name,function(){let e=s.ObjectUtils.clone(t.overloads);if(null!=e&&0!==e.length){for(let r of e)_(r,"hasDeclareKeyword",t.hasDeclareKeyword),_(r,"isExported",t.isExported),_(r,"isDefaultExport",t.isDefaultExport);return e}}()),this.#ef(e,t.name,t),this.#ey.isAmbient||t.hasDeclareKeyword?e.write(";"):e.space().inlineBlock(()=>{this.factory.forStatementedNode({isAmbient:!1}).printText(e,t)})}#ew(e,t,r){if(null!=r&&0!==r.length)for(let i of r)this.printOverload(e,t,i),e.newLine()}printOverload(e,t,r){this.printLeadingTrivia(e,r),this.#ef(e,t,r),e.write(";"),this.printTrailingTrivia(e,r)}#ef(e,t,r){this.factory.forJSDoc().printDocs(e,r.docs),this.factory.forModifierableNode().printText(e,r),e.write("function"),e.conditionalWrite(r.isGenerator,"*"),s.StringUtils.isNullOrWhitespace(t)||e.write(` ${t}`),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,r.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,r.parameters),this.factory.forReturnTypedNode().printText(e,r)}}class t1 extends tA{#ex=new tI(this);printTextsWithParenthesis(e,t){e.write("("),null!=t&&this.factory.forParameterDeclaration().printTexts(e,t),e.write(")")}printTexts(e,t){null!=t&&0!==t.length&&e.hangingIndent(()=>{this.#ex.printText(e,t)})}printTextInternal(e,t){if(null==t.name)throw new s.errors.NotImplementedError("Not implemented scenario where parameter declaration structure doesn't have a name. Please open an issue if you need this.");this.factory.forDecorator().printTextsInline(e,t.decorators),this.factory.forModifierableNode().printText(e,t),e.conditionalWrite(t.isRestParameter,"..."),e.write(t.name),e.conditionalWrite(t.hasQuestionToken,"?"),this.factory.forTypedNode(":",t.hasQuestionToken).printText(e,t),this.factory.forInitializerExpressionableNode().printText(e,t)}}class t5 extends tA{#ex=new tD(this);printTexts(e,t){this.#ex.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,t.parameters),this.factory.forReturnTypedNode(!0).printText(e,t),e.write(";")}}class t2 extends tA{#ex=new tD(this);printTexts(e,t){this.#ex.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),e.write("new"),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,t.parameters),this.factory.forReturnTypedNode().printText(e,t),e.write(";")}}class t3 extends tA{#ex=new tD(this);printTexts(e,t){this.#ex.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forModifierableNode().printText(e,t),e.write(`[${t.keyName||"key"}: ${t.keyType||"string"}]`),this.factory.forReturnTypedNode().printText(e,t),e.write(";")}}class t8 extends tA{#ex=new tb(this);printTexts(e,t){this.#ex.printText(e,t)}printTextInternal(e,t){if(this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forModifierableNode().printText(e,t),e.write(`interface ${t.name}`),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),e.space(),null!=t.extends){let r=t.extends instanceof Array?t.extends.map(t=>this.getText(e,t)).join(", "):this.getText(e,t.extends);s.StringUtils.isNullOrWhitespace(r)||e.hangingIndent(()=>e.write(`extends ${r} `))}e.inlineBlock(()=>{this.factory.forTypeElementMemberedNode().printText(e,t)})}}class t9 extends tA{#ex=new tD(this);printTexts(e,t){this.#ex.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),e.write(t.name),e.conditionalWrite(t.hasQuestionToken,"?"),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,t.parameters),this.factory.forReturnTypedNode().printText(e,t),e.write(";")}}class t6 extends tA{#ex=new tD(this);printTexts(e,t){this.#ex.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forModifierableNode().printText(e,t),e.write(t.name),e.conditionalWrite(t.hasQuestionToken,"?"),this.factory.forTypedNode(":").printText(e,t),this.factory.forInitializerExpressionableNode().printText(e,t),e.write(";")}}class t7 extends tN{#eK;constructor(e){super(),this.#eK=e}printText(e,t){this.#eK.forCallSignatureDeclaration().printTexts(e,t.callSignatures),this.#em(e,t.constructSignatures),this.#eK.forConstructSignatureDeclaration().printTexts(e,t.constructSignatures),this.#em(e,t.indexSignatures),this.#eK.forIndexSignatureDeclaration().printTexts(e,t.indexSignatures),this.#eN(e,t),this.#em(e,t.properties),this.#eK.forPropertySignature().printTexts(e,t.properties),this.#em(e,t.methods),this.#eK.forMethodSignature().printTexts(e,t.methods)}#eN(e,t){if(null!=t.getAccessors||null!=t.setAccessors)new tv(this.#eK.forGetAccessorDeclaration({isAmbient:!0}),this.#eK.forSetAccessorDeclaration({isAmbient:!0})).printGetAndSet(e,t.getAccessors,t.setAccessors,!0)}#em(e,t){s.ArrayUtils.isNullOrEmpty(t)||e.isAtStartOfFirstLineOfBlock()||e.newLine()}}class t4 extends tN{#eK;constructor(e){super(),this.#eK=e}printTexts(e,t){if(null!=t)if("string"==typeof t||t instanceof Function)this.printText(e,t);else for(let r of t)tk(e)?e.blankLineIfLastNot():e.isAtStartOfFirstLineOfBlock()||e.newLineIfLastNot(),this.printText(e,r)}printText(e,r){if("string"==typeof r||r instanceof Function||null==r)return void this.printTextOrWriterFunc(e,r);switch(r.kind){case t.c5n.PropertySignature:this.#eK.forPropertySignature().printText(e,r);break;case t.c5n.MethodSignature:this.#eK.forMethodSignature().printText(e,r);break;case t.c5n.CallSignature:this.#eK.forCallSignatureDeclaration().printText(e,r);break;case t.c5n.IndexSignature:this.#eK.forIndexSignatureDeclaration().printText(e,r);break;case t.c5n.ConstructSignature:this.#eK.forConstructSignatureDeclaration().printText(e,r);break;default:s.errors.throwNotImplementedForNeverValueError(r)}}}class re extends tA{printTextInternal(e,r){if(null==r.kind||r.kind===t.c5n.JsxAttribute)this.factory.forJsxAttribute().printTextWithoutTrivia(e,r);else if(r.kind===t.c5n.JsxSpreadAttribute)this.factory.forJsxSpreadAttribute().printTextWithoutTrivia(e,r);else throw s.errors.throwNotImplementedForNeverValueError(r)}}class rt extends tA{printTextInternal(e,t){"object"==typeof t.name?this.factory.forJsxNamespacedName().printText(e,t.name):e.write(t.name),null!=t.initializer&&e.write("=").write(t.initializer)}}class rr extends tA{printTextInternal(e,r){var i;null==(i=r).kind||i.kind===t.c5n.JsxElement?this.factory.forJsxElement().printText(e,r):r.kind===t.c5n.JsxSelfClosingElement?this.factory.forJsxSelfClosingElement().printText(e,r):s.errors.throwNotImplementedForNeverValueError(r)}}class ri extends tA{printTextInternal(e,t){e.hangingIndent(()=>{e.write(`<${t.name}`),t.attributes&&this.#eI(e,t.attributes),e.write(">")}),this.#eP(e,t.children),e.write(`</${t.name}>`)}#eI(e,t){let r=this.factory.forJsxAttributeDecider();for(let i of t)e.space(),r.printText(e,i)}#eP(e,t){null!=t&&(e.newLine(),e.indent(()=>{for(let r of t)this.factory.forJsxChildDecider().printText(e,r),e.newLine()}))}}class rn extends tA{printTextInternal(e,t){e.write(t.namespace).write(":").write(t.name)}}class rs extends tA{printTextInternal(e,t){e.hangingIndent(()=>{e.write(`<${t.name}`),t.attributes&&this.#eI(e,t.attributes),e.write(" />")})}#eI(e,t){let r=this.factory.forJsxAttributeDecider();for(let i of t)e.space(),r.printText(e,i)}}class ro extends tA{printTextInternal(e,t){e.hangingIndent(()=>{e.write("{"),e.write("..."),e.write(t.expression),e.write("}")})}}class ra extends tA{#ex=new tD(this);printTexts(e,t){this.#ex.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),e.write("export"),!1!==t.isExportEquals?e.write(" = "):e.write(" default "),e.write(this.getTextWithQueuedChildIndentation(e,t.expression)).write(";")}}class rl extends tA{#ex=new tD(this);printTexts(e,t){this.#ex.printText(e,t)}printTextInternal(e,t){let r=null!=t.moduleSpecifier&&t.moduleSpecifier.length>0;if(null!=t.namedExports&&t.namedExports.length>0&&null!=t.namespaceExport)throw new s.errors.InvalidOperationError("An export declaration cannot have both a namespace export and a named export.");e.write("export"),t.isTypeOnly&&e.write(" type"),null!=t.namedExports&&t.namedExports.length>0?(e.space(),this.factory.forNamedImportExportSpecifier().printTextsWithBraces(e,t.namedExports)):null!=t.namespaceExport?(e.write(" *"),s.StringUtils.isNullOrWhitespace(t.namespaceExport)||e.write(` as ${t.namespaceExport}`)):r?e.write(" *"):e.write(" {").conditionalWrite(this.factory.getFormatCodeSettings().insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces," ").write("}"),r&&(e.write(" from "),e.quote(t.moduleSpecifier)),t.attributes&&(e.space(),this.factory.forImportAttribute().printAttributes(e,t.attributes)),e.write(";")}}class rc extends tA{#ex=new tE(this);printTexts(e,t){this.#ex.printText(e,t)}printAttributes(e,t){t&&(e.write("with "),e.inlineBlock(()=>{this.printTexts(e,t)}))}printTextInternal(e,t){e.write(t.name),e.write(": "),e.quote(t.value)}}class rd extends tA{#ex=new tD(this);printTexts(e,t){this.#ex.printText(e,t)}printTextInternal(e,t){let r=null!=t.namedImports&&t.namedImports.length>0;if(r&&null!=t.namespaceImport)throw new s.errors.InvalidOperationError("An import declaration cannot have both a namespace import and a named import.");e.write("import"),t.isTypeOnly&&e.write(" type"),null!=t.defaultImport&&(e.write(` ${t.defaultImport}`),e.conditionalWrite(r||null!=t.namespaceImport,",")),null!=t.namespaceImport&&e.write(` * as ${t.namespaceImport}`),null!=t.namedImports&&t.namedImports.length>0&&(e.space(),this.factory.forNamedImportExportSpecifier().printTextsWithBraces(e,t.namedImports)),e.conditionalWrite(null!=t.defaultImport||r||null!=t.namespaceImport," from"),e.write(" "),e.quote(t.moduleSpecifier),t.attributes&&(e.space(),this.factory.forImportAttribute().printAttributes(e,t.attributes)),e.write(";")}}class ru extends tA{#ey;#eE=new tb(this);constructor(e,t){super(e),this.#ey=t}printTexts(e,t){this.#eE.printText(e,t)}printTextInternal(e,r){r=this.#eD(r),this.factory.forJSDoc().printDocs(e,r.docs),this.factory.forModifierableNode().printText(e,r),null==r.declarationKind||r.declarationKind!==t.hc3.Global?e.write(`${r.declarationKind||"namespace"} ${r.name}`):e.write("global"),r.hasDeclareKeyword&&s.StringUtils.isQuoted(r.name.trim())&&r.hasOwnProperty(s.nameof(r,"statements"))&&null==r.statements?e.write(";"):(e.write(" "),e.inlineBlock(()=>{this.factory.forStatementedNode({isAmbient:r.hasDeclareKeyword||this.#ey.isAmbient}).printText(e,r)}))}#eD(e){if(s.StringUtils.isQuoted(e.name.trim())){if(e.declarationKind===t.hc3.Namespace)throw new s.errors.InvalidOperationError(`Cannot print a namespace with quotes for namespace with name ${e.name}. Use ModuleDeclarationKind.Module instead.`);_(e=s.ObjectUtils.clone(e),"hasDeclareKeyword",!0),_(e,"declarationKind",t.hc3.Module)}return e}}class rh extends tA{#ex=new tI(this);printTextsWithBraces(e,t){let r=this.factory.getFormatCodeSettings();e.write("{");let i=this.getNewWriter(e);this.printTexts(i,t);let n=i.toString();r.insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces&&!s.StringUtils.startsWithNewLine(n)&&e.space(),e.write(n),r.insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces&&!s.StringUtils.endsWithNewLine(n)&&e.space(),e.write("}")}printTexts(e,t){t instanceof Function?this.printText(e,t):this.#ex.printText(e,t)}printTextInternal(e,t){let r=this.getNewWriterWithQueuedChildIndentation(e);"string"==typeof t?r.write(t):t instanceof Function?t(r):(t.isTypeOnly&&e.write("type "),r.write(t.name),s.StringUtils.isNullOrWhitespace(t.alias)||(r.isLastNewLine()||r.space(),r.write(`as ${t.alias}`))),e.write(r.toString())}}class rp extends tA{#ey;constructor(e,t){super(e),this.#ey=t}printTextInternal(e,t){this.factory.forStatementedNode(this.#ey).printText(e,t),e.conditionalNewLine(!e.isAtStartOfFirstLineOfBlock()&&!e.isLastNewLine())}}class rg extends tN{#ey;#eK;constructor(e,t){super(),this.#eK=e,this.#ey=t}printText(e,t){this.#eK.forStatement(this.#ey).printTexts(e,t.statements)}}class rm extends tN{#ey;#eK;constructor(e,t){super(),this.#eK=e,this.#ey=t}printTexts(e,t){if(null!=t)if("string"==typeof t||t instanceof Function)this.printText(e,t);else for(let r of t)tk(e)?e.blankLineIfLastNot():e.isAtStartOfFirstLineOfBlock()||e.newLineIfLastNot(),this.printText(e,r)}printText(e,r){if("string"==typeof r||r instanceof Function||null==r)return void this.printTextOrWriterFunc(e,r);switch(r.kind){case t.c5n.Function:this.#ey.isAmbient||i(),this.#eK.forFunctionDeclaration(this.#ey).printText(e,r);break;case t.c5n.Class:i(),this.#eK.forClassDeclaration(this.#ey).printText(e,r);break;case t.c5n.Interface:i(),this.#eK.forInterfaceDeclaration().printText(e,r);break;case t.c5n.TypeAlias:this.#eK.forTypeAliasDeclaration().printText(e,r);break;case t.c5n.VariableStatement:this.#eK.forVariableStatement().printText(e,r);break;case t.c5n.ImportDeclaration:this.#eK.forImportDeclaration().printText(e,r);break;case t.c5n.Module:i(),this.#eK.forModuleDeclaration(this.#ey).printText(e,r);break;case t.c5n.Enum:i(),this.#eK.forEnumDeclaration().printText(e,r);break;case t.c5n.ExportDeclaration:this.#eK.forExportDeclaration().printText(e,r);break;case t.c5n.ExportAssignment:this.#eK.forExportAssignment().printText(e,r);break;default:s.errors.throwNotImplementedForNeverValueError(r)}function i(){e.isAtStartOfFirstLineOfBlock()||e.blankLineIfLastNot()}}}t.$rv=void 0,function(e){e.Var="var",e.Let="let",e.Const="const",e.AwaitUsing="await using",e.Using="using"}(t.$rv||(t.$rv={}));class ry extends tA{#ex=new tD(this);printTexts(e,t){this.#ex.printText(e,t)}printTextInternal(e,r){this.factory.forJSDoc().printDocs(e,r.docs),e.hangingIndent(()=>{if(this.factory.forModifierableNode().printText(e,r),e.write(`${r.declarationKind||t.$rv.Let} `),0===r.declarations.length)throw Error("You must provide at least one declaration when inserting a variable statement.");this.factory.forVariableDeclaration().printTexts(e,r.declarations),e.write(";")})}}class rx extends tA{#ex=new tD(this);printTexts(e,t){this.#ex.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forModifierableNode().printText(e,t),e.write(`type ${t.name}`),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forTypedNode(" =").printText(e,t),e.write(";")}}class rf extends tA{#ex=new tI(this);printTextsWithBrackets(e,t){null!=t&&0!==t.length&&(e.write("<"),this.printTexts(e,t),e.write(">"))}printTexts(e,t){this.#ex.printText(e,t)}printTextInternal(e,r){if("string"==typeof r)return void e.write(r);e.hangingIndent(()=>{if(r.isConst&&e.write("const "),null!=r.variance&&((r.variance&t.hVr.In)!=0&&e.write("in "),(r.variance&t.hVr.Out)!=0&&e.write("out ")),e.write(r.name),null!=r.constraint){let t=this.getText(e,r.constraint);s.StringUtils.isNullOrWhitespace(t)||e.write(` extends ${t}`)}if(null!=r.default){let t=this.getText(e,r.default);s.StringUtils.isNullOrWhitespace(t)||e.write(` = ${t}`)}})}}class rS extends tA{#ex=new tI(this);printTexts(e,t){this.#ex.printText(e,t)}printTextInternal(e,t){e.write(t.name),e.conditionalWrite(t.hasExclamationToken,"!"),this.factory.forTypedNode(":").printText(e,t),this.factory.forInitializerExpressionableNode().printText(e,t)}}function rT(e){return class extends e{isGenerator(){return null!=this.compilerNode.asteriskToken}getAsteriskToken(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.asteriskToken)}getAsteriskTokenOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getAsteriskToken(),e??"Expected to find an asterisk token.",this)}setIsGenerator(e){let t=this.getAsteriskToken();return null!=t===e||(null==t?eV({insertPos:function(e){if(e.getKind()===s.SyntaxKind.FunctionDeclaration)return e.getFirstChildByKindOrThrow(s.SyntaxKind.FunctionKeyword).getEnd();if(null==e.getName)throw new s.errors.NotImplementedError("Expected a name node for a non-function declaration.");return e.getNameNode().getStart()}(this),parent:this,newText:"*"}):eY({children:[t],getSiblingFormatting:()=>n.Space})),this}set(t){return G(e.prototype,this,t),null!=t.isGenerator&&this.setIsGenerator(t.isGenerator),this}getStructure(){return $(e.prototype,this,{isGenerator:this.isGenerator()})}}}function rN(e){return class extends e{getHeritageClauses(){let e=this.compilerNode.heritageClauses;return e?.map(e=>this._getNodeFromCompilerNode(e))??[]}getHeritageClauseByKindOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getHeritageClauseByKind(e),t??(()=>`Expected to have heritage clause of kind ${s.getSyntaxKindName(e)}.`),this)}getHeritageClauseByKind(e){return this.getHeritageClauses().find(t=>t.compilerNode.token===e)}}}function rK(e){return class extends e{hasInitializer(){return null!=this.compilerNode.initializer}getInitializerIfKindOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getInitializerIfKind(e),t??`Expected to find an initializer of kind '${s.getSyntaxKindName(e)}'.`,this)}getInitializerIfKind(e){let t=this.getInitializer();if(null==t||t.getKind()===e)return t}getInitializerOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getInitializer(),e??"Expected to find an initializer.",this)}getInitializer(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.initializer)}}}function rw(e){var t;return t=rK(e),class extends t{removeInitializer(){let e=this.getInitializer();return null==e||eq({children:[e.getPreviousSiblingIfKindOrThrow(s.SyntaxKind.EqualsToken),e],removePrecedingSpaces:!0}),this}setInitializer(e){let t=k(this._getWriterWithQueuedChildIndentation(),e);s.errors.throwIfWhitespaceOrNotString(t,"textOrWriterFunction"),this.hasInitializer()&&this.removeInitializer();let r=this.getLastChildIfKind(s.SyntaxKind.SemicolonToken);return eV({insertPos:null!=r?r.getPos():this.getEnd(),parent:this,newText:` = ${t}`}),this}set(e){return G(t.prototype,this,e),null!=e.initializer?this.setInitializer(e.initializer):e.hasOwnProperty(s.nameof(e,"initializer"))&&this.removeInitializer(),this}getStructure(){let e=this.getInitializer();return $(t.prototype,this,{initializer:e?e.getText():void 0})}}}function rF(e){return class extends e{getJsDocs(){let e=this.compilerNode.jsDoc;return e?.map(e=>this._getNodeFromCompilerNode(e))??[]}addJsDoc(e){return this.addJsDocs([e])[0]}addJsDocs(e){return this.insertJsDocs(ei(this.compilerNode.jsDoc),e)}insertJsDoc(e,t){return this.insertJsDocs(e,[t])[0]}insertJsDocs(e,t){if(s.ArrayUtils.isNullOrEmpty(t))return[];let r=this._getWriterWithQueuedIndentation();this._context.structurePrinterFactory.forJSDoc().printDocs(r,t),r.write("");let i=r.toString(),n=this.getJsDocs();return eV({insertPos:(e=ex(e,n.length))===n.length?this.getStart():n[e].getStart(),parent:this,newText:i}),eh(n,this.getJsDocs(),e,!1)}set(t){return G(e.prototype,this,t),null!=t.docs&&(this.getJsDocs().forEach(e=>e.remove()),this.addJsDocs(t.docs)),this}getStructure(){return $(e.prototype,this,{docs:this.getJsDocs().map(e=>e.getStructure())})}}}function rC(e){return class extends e{getLiteralText(){return this.compilerNode.text}isTerminated(){return!this.compilerNode.isUnterminated}hasExtendedUnicodeEscape(){return this.compilerNode.hasExtendedUnicodeEscape||!1}}}function rb(e){return class extends e{getModifiers(){return this.getCompilerModifiers().map(e=>this._getNodeFromCompilerNode(e))}getFirstModifierByKindOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getFirstModifierByKind(e),t??(()=>`Expected a modifier of syntax kind: ${s.getSyntaxKindName(e)}`),this)}getFirstModifierByKind(e){for(let t of this.getCompilerModifiers())if(t.kind===e)return this._getNodeFromCompilerNode(t)}hasModifier(e){return"string"==typeof e?this.getModifiers().some(t=>t.getText()===e):this.getCompilerModifiers().some(t=>t.kind===e)}toggleModifier(e,t){return null==t&&(t=!this.hasModifier(e)),t?this.addModifier(e):this.removeModifier(e),this}addModifier(e){let t,r,i=this.getModifiers(),n=this.getModifiers().filter(e=>e.getKind()!==s.SyntaxKind.Decorator),o=n.find(t=>t.getText()===e);if(null!=o)return o;let a=function(t){let r=function(){if(n.length>0)return n[0].getStart();if(t.getKind()===s.SyntaxKind.ArrowFunction)return t.getStart();for(let e of t._getChildrenIterator())if(!(e.getKind()===s.SyntaxKind.SyntaxList||s.ts.isJSDocCommentContainingNode(e.compilerNode)))return e.getStart();return t.getStart()}();for(let t of function(e){switch(e){case"export":case"public":case"protected":case"private":return[];case"default":case"const":return["export"];case"declare":return["export","default"];case"static":return["public","protected","private"];case"override":return["public","private","protected","static"];case"abstract":return["export","default","declare","public","private","protected","static","override"];case"async":case"readonly":return["export","default","declare","public","private","protected","static","override","abstract"];case"out":return["const","in"];case"in":return["const"];case"accessor":return["public","private","protected","declare","override","static","abstract","readonly"];default:s.errors.throwNotImplementedForNeverValueError(e)}}(e))for(let e=0;e<n.length;e++){let i=n[e];if(i.getText()===t){r<i.getEnd()&&(r=i.getEnd());break}}return r}(this);return 0===n.length||a===n[0].getStart()?(r=e+" ",t=a):(r=" "+e,t=a+1),eV({parent:0===i.length?this:i[0].getParentSyntaxListOrThrow(),insertPos:a,newText:r}),this.getModifiers().find(e=>e.getStart()===t)}removeModifier(e){let t=this.getModifiers(),r=t.find(t=>t.getText()===e);return null!=r&&(eq({children:[1===t.length?r.getParentSyntaxListOrThrow():r],removeFollowingSpaces:!0}),!0)}getCompilerModifiers(){return this.compilerNode.modifiers??[]}}}function rI(e){return class extends e{addImportDeclaration(e){return this.addImportDeclarations([e])[0]}addImportDeclarations(e){let t=this._getCompilerStatementsWithComments();return this.insertImportDeclarations(function(){let e=0,r=!0;for(let i=0;i<t.length;i++){let n=t[i];r&&n.kind===s.SyntaxKind.MultiLineCommentTrivia?e=i+1:(r=!1,n.kind===s.SyntaxKind.ImportDeclaration&&(e=i+1))}return e}(),e)}insertImportDeclaration(e,t){return this.insertImportDeclarations(e,[t])[0]}insertImportDeclarations(e,t){return this._insertChildren({expectedKind:s.SyntaxKind.ImportDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forImportDeclaration().printTexts(e,t)},{previousNewLine:e=>tr.isImportDeclaration(e)||b(e.compilerNode),nextNewLine:e=>tr.isImportDeclaration(e)})}})}getImportDeclaration(e){return this.getImportDeclarations().find("string"==typeof e?t=>t.getModuleSpecifierValue()===e:e)}getImportDeclarationOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getImportDeclaration(e),t??"Expected to find an import with the provided condition.",this)}getImportDeclarations(){return this.getStatements().filter(tr.isImportDeclaration)}addExportDeclaration(e){return this.addExportDeclarations([e])[0]}addExportDeclarations(e){return this.insertExportDeclarations(this.getChildSyntaxListOrThrow().getChildCount(),e)}insertExportDeclaration(e,t){return this.insertExportDeclarations(e,[t])[0]}insertExportDeclarations(e,t){return this._insertChildren({expectedKind:s.SyntaxKind.ExportDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forExportDeclaration().printTexts(e,t)},{previousNewLine:e=>tr.isExportDeclaration(e)||b(e.compilerNode),nextNewLine:e=>tr.isExportDeclaration(e)})}})}getExportDeclaration(e){return this.getExportDeclarations().find("string"==typeof e?t=>t.getModuleSpecifierValue()===e:e)}getExportDeclarationOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getExportDeclaration(e),t??"Expected to find an export declaration with the provided condition.",this)}getExportDeclarations(){return this.getStatements().filter(tr.isExportDeclaration)}addExportAssignment(e){return this.addExportAssignments([e])[0]}addExportAssignments(e){return this.insertExportAssignments(this.getChildSyntaxListOrThrow().getChildCount(),e)}insertExportAssignment(e,t){return this.insertExportAssignments(e,[t])[0]}insertExportAssignments(e,t){return this._insertChildren({expectedKind:s.SyntaxKind.ExportAssignment,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forExportAssignment().printTexts(e,t)},{previousNewLine:e=>tr.isExportAssignment(e)||b(e.compilerNode),nextNewLine:e=>tr.isExportAssignment(e)})}})}getExportAssignment(e){return this.getExportAssignments().find(e)}getExportAssignmentOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getExportAssignment(e),t??"Expected to find an export assignment with the provided condition.",this)}getExportAssignments(){return this.getStatements().filter(tr.isExportAssignment)}getDefaultExportSymbol(){let e=this.getSymbol();if(null!=e)return e.getExport("default")}getDefaultExportSymbolOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getDefaultExportSymbol(),e??"Expected to find a default export symbol")}getExportSymbols(){let e=this.getSymbol();return null==e?[]:this._context.typeChecker.getExportsOfModule(e)}getExportedDeclarations(){let e=new Map;for(let t of this.getExportSymbols())for(let r of t.getDeclarations()){let i=Array.from(function* e(t){if(tr.isExportSpecifier(t))for(let r of t.getLocalTargetDeclarations())yield*e(r);else if(tr.isExportAssignment(t)){let e=t.getExpression();if(null==e||e.getKind()!==s.SyntaxKind.Identifier)return void(yield e);yield*r(e.getSymbol())}else if(tr.isImportSpecifier(t)){let e=t.getNameNode().getSymbol();if(null==e)return;yield*r(e.getAliasedSymbol()||e)}else if(tr.isImportClause(t)){let e=t.getDefaultImport();if(null==e)return;let i=e.getSymbol();if(null==i)return;yield*r(i.getAliasedSymbol()||i)}else if(tr.isNamespaceImport(t)||tr.isNamespaceExport(t)){let e=t.getNameNode().getSymbol();if(null==e)return;yield*r(e.getAliasedSymbol()||e)}else yield t;function*r(t){if(null!=t)for(let r of t.getDeclarations())yield*e(r)}}(r)),n=t.getName(),o=e.get(n);null!=o?o.push(...i):e.set(t.getName(),i)}return e}removeDefaultExport(e){if(null==(e=e||this.getDefaultExportSymbol()))return this;let t=e.getDeclarations()[0];return t.compilerNode.kind===s.SyntaxKind.ExportAssignment?eY({children:[t],getSiblingFormatting:()=>n.Newline}):tr.isModifierable(t)&&(t.toggleModifier("default",!1),t.toggleModifier("export",!1)),this}}}function rP(e){return class extends e{getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.name)}getName(){return this.getNameNode().getText()}set(t){return G(e.prototype,this,t),null!=t.name&&this.getNameNode().replaceWithText(t.name),this}getStructure(){return $(e.prototype,this,{name:this.getName()})}}}function rE(e){return class extends e{findReferences(){return this._context.languageService.findReferences(rD(this))}findReferencesAsNodes(){return this._context.languageService.findReferencesAsNodes(rD(this))}}}function rD(e){if(tr.isIdentifier(e)||tr.isStringLiteral(e))return e;let t=e.getNodeProperty("name");return null!=t?t:tr.isExportable(e)&&e.getDefaultKeyword()||e}function rO(e){return class extends e{rename(e,t){return tc(function(e){if(tr.isIdentifier(e)||tr.isPrivateIdentifier(e)||tr.isStringLiteral(e))return e;if(null!=e.getNameNode){let t=e.getNameNode();if(s.errors.throwIfNullOrUndefined(t,"Expected to find a name node when renaming."),tr.isArrayBindingPattern(t)||tr.isObjectBindingPattern(t))throw new s.errors.NotImplementedError(`Not implemented renameable scenario for ${t.getKindName()}.`);return t}throw new s.errors.NotImplementedError(`Not implemented renameable scenario for ${e.getKindName()}`)}(this),e,t),this}}}function rA(e){return rP(rE(rO(e)))}function rv(e){var t;return t=rE(rO(e)),class extends t{getNameNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.name)}getNameNodeOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getNameNode(),e??"Expected to have a name node.",this)}getName(){return this.getNameNode()?.getText()??void 0}getNameOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getName(),e??"Expected to have a name.",this)}rename(e){return e===this.getName()||(s.StringUtils.isNullOrWhitespace(e)?this.removeName():null==this.getNameNode()?r_(this,e):t.prototype.rename.call(this,e)),this}removeName(){let e=this.getNameNode();return null==e||eq({children:[e],removePrecedingSpaces:!0}),this}set(e){if(G(t.prototype,this,e),null!=e.name){s.errors.throwIfWhitespaceOrNotString(e.name,"structure.name");let t=this.getNameNode();null==t?r_(this,e.name):t.replaceWithText(e.name)}else e.hasOwnProperty(s.nameof(e,"name"))&&this.removeName();return this}getStructure(){return $(t.prototype,this,{name:this.getName()})}}}function r_(e,t){tr.isClassDeclaration(e)||tr.isClassExpression(e)?eV({insertPos:e.getFirstChildByKindOrThrow(s.SyntaxKind.ClassKeyword).getEnd(),newText:" "+t,parent:e}):eV({insertPos:e.getFirstChildByKindOrThrow(s.SyntaxKind.OpenParenToken).getStart(),newText:" "+t,parent:e})}function rL(e){return rP(rO(rE(e)))}function rk(e){return rP(rE(rO(e)))}function rM(e){return class extends e{hasOverrideKeyword(){return this.hasModifier(s.SyntaxKind.OverrideKeyword)}getOverrideKeyword(){return this.getFirstModifierByKind(s.SyntaxKind.OverrideKeyword)}getOverrideKeywordOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getOverrideKeyword(),e??"Expected to find an override keyword.",this)}setHasOverrideKeyword(e){return this.toggleModifier("override",e),this}set(t){return G(e.prototype,this,t),null!=t.hasOverrideKeyword&&this.setHasOverrideKeyword(t.hasOverrideKeyword),this}getStructure(){return $(e.prototype,this,{hasOverrideKeyword:this.hasOverrideKeyword()})}}}function rW(e){return class extends e{hasQuestionDotToken(){return null!=this.compilerNode.questionDotToken}getQuestionDotTokenNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.questionDotToken)}getQuestionDotTokenNodeOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getQuestionDotTokenNode(),e??"Expected to find a question dot token.",this)}setHasQuestionDotToken(e){let t=this.getQuestionDotTokenNode();return e===(null!=t)||(e?tr.isPropertyAccessExpression(this)?this.getFirstChildByKindOrThrow(s.SyntaxKind.DotToken).replaceWithText("?."):eV({insertPos:(function(){return tr.isCallExpression(this)?this.getFirstChildByKindOrThrow(s.SyntaxKind.OpenParenToken).getStart():tr.isElementAccessExpression(this)?this.getFirstChildByKindOrThrow(s.SyntaxKind.OpenBracketToken).getStart():void s.errors.throwNotImplementedForSyntaxKindError(this.compilerNode.kind)}).call(this),parent:this,newText:"?."}):tr.isPropertyAccessExpression(this)?t.replaceWithText("."):eq({children:[t]})),this}set(t){return G(e.prototype,this,t),null!=t.hasQuestionDotToken&&this.setHasQuestionDotToken(t.hasQuestionDotToken),this}getStructure(){return $(e.prototype,this,{hasQuestionDotToken:this.hasQuestionDotToken()})}}}function rB(e){return class extends e{hasQuestionToken(){return null!=this.compilerNode.questionToken}getQuestionTokenNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.questionToken)}getQuestionTokenNodeOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getQuestionTokenNode(),e??"Expected to find a question token.",this)}setHasQuestionToken(e){let t=this.getQuestionTokenNode();return e===(null!=t)||(e?(tr.isExclamationTokenable(this)&&this.setHasExclamationToken(!1),eV({insertPos:(function(){if(tr.hasName(this))return this.getNameNode().getEnd();let e=this.getFirstChildByKind(s.SyntaxKind.ColonToken);if(null!=e)return e.getStart();let t=this.getLastChildByKind(s.SyntaxKind.SemicolonToken);return null!=t?t.getStart():this.getEnd()}).call(this),parent:this,newText:"?"})):eq({children:[t]})),this}set(t){return G(e.prototype,this,t),null!=t.hasQuestionToken&&this.setHasQuestionToken(t.hasQuestionToken),this}getStructure(){return $(e.prototype,this,{hasQuestionToken:this.hasQuestionToken()})}}}function rR(e){return class extends e{isReadonly(){return null!=this.getReadonlyKeyword()}getReadonlyKeyword(){return this.getFirstModifierByKind(s.SyntaxKind.ReadonlyKeyword)}getReadonlyKeywordOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getReadonlyKeyword(),e??"Expected to find a readonly keyword.",this)}setIsReadonly(e){return this.toggleModifier("readonly",e),this}set(t){return G(e.prototype,this,t),null!=t.isReadonly&&this.setIsReadonly(t.isReadonly),this}getStructure(){return $(e.prototype,this,{isReadonly:this.isReadonly()})}}}function rj(e){return class extends e{getReturnType(){return this.getSignature().getReturnType()}getReturnTypeNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.type)}getReturnTypeNodeOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getReturnTypeNode(),e??"Expected to find a return type node.",this)}setReturnType(e){var t;let r=k(this._getWriterWithQueuedChildIndentation(),e);if(s.StringUtils.isNullOrWhitespace(r))return this.removeReturnType();let i=this.getReturnTypeNode();return null!=i?i.getText()!==r&&i.replaceWithText(r):eV({parent:this,insertPos:(t=this,t.getKind()===s.SyntaxKind.IndexSignature?t.getFirstChildByKindOrThrow(s.SyntaxKind.CloseBracketToken):t.getFirstChildByKindOrThrow(s.SyntaxKind.CloseParenToken)).getEnd(),newText:`: ${r}`}),this}removeReturnType(){let e=this.getReturnTypeNode();return null==e||eq({children:[e.getPreviousSiblingIfKindOrThrow(s.SyntaxKind.ColonToken),e],removePrecedingSpaces:!0}),this}getSignature(){let e=this._context.typeChecker.getSignatureFromNode(this);if(null==e)throw new s.errors.NotImplementedError("Expected the node to have a signature.");return e}set(t){return G(e.prototype,this,t),null!=t.returnType?this.setReturnType(t.returnType):t.hasOwnProperty(s.nameof(t,"returnType"))&&this.removeReturnType(),this}getStructure(){let t=this.getReturnTypeNode();return $(e.prototype,this,{returnType:t?t.getText({trimLeadingIndentation:!0}):void 0})}}}function rJ(e){let r=e.getCombinedModifierFlags();return(r&s.ts.ModifierFlags.Private)!=0?t.HGh.Private:(r&s.ts.ModifierFlags.Protected)!=0?t.HGh.Protected:(r&s.ts.ModifierFlags.Public)!=0?t.HGh.Public:void 0}function rU(e,r){e.toggleModifier("public",r===t.HGh.Public),e.toggleModifier("protected",r===t.HGh.Protected),e.toggleModifier("private",r===t.HGh.Private)}function rz(e){return class extends e{getScope(){return rJ(this)||t.HGh.Public}setScope(e){return rU(this,e),this}hasScopeKeyword(){return null!=rJ(this)}set(t){return G(e.prototype,this,t),t.hasOwnProperty(s.nameof(t,"scope"))&&this.setScope(t.scope),this}getStructure(){return $(e.prototype,this,{scope:this.hasScopeKeyword()?this.getScope():void 0})}}}function rV(e){var t;return rj((t=e,class extends t{getParameter(e){return c(this.getParameters(),e)}getParameterOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getParameter(e),()=>u("parameter",e))}getParameters(){return this.compilerNode.parameters.map(e=>this._getNodeFromCompilerNode(e))}addParameter(e){return this.addParameters([e])[0]}addParameters(e){return this.insertParameters(ei(this.compilerNode.parameters),e)}insertParameter(e,t){return this.insertParameters(e,[t])[0]}insertParameters(e,t){if(s.ArrayUtils.isNullOrEmpty(t))return[];let r=this.getParameters(),i=this.getFirstChildByKindOrThrow(s.SyntaxKind.OpenParenToken).getNextSiblingIfKindOrThrow(s.SyntaxKind.SyntaxList);e=ex(e,r.length);let n=this._getWriterWithQueuedChildIndentation();return this._context.structurePrinterFactory.forParameterDeclaration().printTexts(n,t),e$({parent:i,currentNodes:r,insertIndex:e,newText:n.toString(),useTrailingCommas:!1}),eh(r,this.getParameters(),e,!1)}set(e){return G(t.prototype,this,e),null!=e.parameters&&(this.getParameters().forEach(e=>e.remove()),this.addParameters(e.parameters)),this}getStructure(){return $(t.prototype,this,{parameters:this.getParameters().map(e=>e.getStructure())})}}))}function r$(e){return class extends e{isStatic(){return this.hasModifier(s.SyntaxKind.StaticKeyword)}getStaticKeyword(){return this.getFirstModifierByKind(s.SyntaxKind.StaticKeyword)}getStaticKeywordOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getStaticKeyword(),e??"Expected to find a static keyword.",this)}setIsStatic(e){return this.toggleModifier("static",e),this}set(t){return G(e.prototype,this,t),null!=t.isStatic&&this.setIsStatic(t.isStatic),this}getStructure(){return $(e.prototype,this,{isStatic:this.isStatic()})}}}function rG(e){return class extends e{insertText(e,t){return this.replaceText([e,e],t),this}removeText(e,t){return null==e?this.replaceText(rQ(this),""):this.replaceText([e,t],""),this}replaceText(e,t){let r=this.getChildSyntaxListOrThrow(),i=rQ(this),n=e[0],o=e[1];return function(){if(a(n),a(o),n>o)throw new s.errors.ArgumentError("range","Cannot specify a start position greater than the end position.")}(),eV({insertPos:n,newText:k(this._getWriter(),t),parent:r.getParentOrThrow(),replacing:{textLength:o-n,nodes:[r]}}),this;function a(e){if(!(e>=i[0])||!(e<=i[1]))throw new s.errors.InvalidOperationError(`Cannot insert or replace text outside the bounds of the node. Expected a position between [${i[0]}, ${i[1]}], but received ${e}.`)}}}}function rQ(e){let t=tr.isSourceFile(e)?e:e.getChildSyntaxListOrThrow(),r=tr.isSourceFile(t)?void 0:t.getPreviousSiblingIfKind(s.SyntaxKind.OpenBraceToken),i=null==r?void 0:t.getNextSiblingIfKind(s.SyntaxKind.CloseBraceToken);return null!=r&&null!=i?[r.getEnd(),i.getStart()]:[t.getPos(),t.getEnd()]}function rH(e){return class extends e{getTypeArguments(){return null==this.compilerNode.typeArguments?[]:this.compilerNode.typeArguments.map(e=>this._getNodeFromCompilerNode(e))}addTypeArgument(e){return this.addTypeArguments([e])[0]}addTypeArguments(e){return this.insertTypeArguments(this.getTypeArguments().length,e)}insertTypeArgument(e,t){return this.insertTypeArguments(e,[t])[0]}insertTypeArguments(e,t){if(s.ArrayUtils.isNullOrEmpty(t))return[];let r=this.getTypeArguments();return e=ex(e,r.length),0===r.length?eV({insertPos:this.getFirstChildByKindOrThrow(s.SyntaxKind.Identifier).getEnd(),parent:this,newText:`<${t.join(", ")}>`}):e$({parent:this.getFirstChildByKindOrThrow(s.SyntaxKind.LessThanToken).getNextSiblingIfKindOrThrow(s.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:t.join(", "),useTrailingCommas:!1}),eh(r,this.getTypeArguments(),e,!1)}removeTypeArgument(e){let t=this.getTypeArguments();if(0===t.length)throw new s.errors.InvalidOperationError("Cannot remove a type argument when none exist.");let r="number"==typeof e?t[ex(e,t.length-1)]:e;if(1===t.length){let e=t[0].getParentSyntaxListOrThrow();eq({children:[e.getPreviousSiblingIfKindOrThrow(s.SyntaxKind.LessThanToken),e,e.getNextSiblingIfKindOrThrow(s.SyntaxKind.GreaterThanToken)]})}else e0(r);return this}}}function rq(e){return class extends e{getTypeNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.type)}getTypeNodeOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getTypeNode(),e??"Expected to find a type node.",this)}setType(e){let t,r,i=k(this._getWriterWithQueuedChildIndentation(),e);if(s.StringUtils.isNullOrWhitespace(i))return this.removeType();let n=this.getTypeNode();if(null!=n&&n.getText()===i)return this;let o=rY(this);return null==this.getFirstChildByKind(o)?(t=function(e){let t=e.getFirstChildByKind(s.SyntaxKind.Identifier)??e.getFirstChildByKind(s.SyntaxKind.ArrayBindingPattern)??e.getFirstChildIfKindOrThrow(s.SyntaxKind.ObjectBindingPattern,"A first child of the kind Identifier, ArrayBindingPattern, or ObjectBindingPattern was expected."),r=t.getNextSibling();return(!function(e){if(null==e)return!1;let t=e.getKind();return t===s.SyntaxKind.QuestionToken||t===s.SyntaxKind.ExclamationToken}(r)?t:r).getEnd()}(this),r=(o===s.SyntaxKind.EqualsToken?" = ":": ")+i):(t=n.getStart(),r=i),eV({parent:this,insertPos:t,newText:r,replacing:{textLength:null==n?0:n.getWidth()}}),this}set(t){return G(e.prototype,this,t),null!=t.type?this.setType(t.type):t.hasOwnProperty(s.nameof(t,"type"))&&this.removeType(),this}removeType(){if(this.getKind()===s.SyntaxKind.TypeAliasDeclaration)throw new s.errors.NotSupportedError(`Cannot remove the type of a type alias. Use ${s.nameof("setType")} instead.`);let e=this.getTypeNode();return null==e||eq({children:[e.getPreviousSiblingIfKindOrThrow(rY(this)),e],removePrecedingSpaces:!0}),this}getStructure(){let t=this.getTypeNode();return $(e.prototype,this,{type:t?t.getText({trimLeadingIndentation:!0}):void 0})}}}function rY(e){return e.getKind()===s.SyntaxKind.TypeAliasDeclaration?s.SyntaxKind.EqualsToken:s.SyntaxKind.ColonToken}function rX(e){return class extends e{addMember(e){return this.addMembers([e])[0]}addMembers(e){return this.insertMembers(ei(this.getMembersWithComments()),e)}insertMember(e,t){return this.insertMembers(e,[t])[0]}insertMembers(e,t){return eH({getIndexedChildren:()=>this.getMembersWithComments(),index:e,parent:this,write:e=>{e.newLineIfLastNot();let r=this._getWriter();this._context.structurePrinterFactory.forTypeElementMember().printTexts(r,t),e.write(r.toString()),e.newLineIfLastNot()}})}addConstructSignature(e){return this.addConstructSignatures([e])[0]}addConstructSignatures(e){return this.insertConstructSignatures(ei(this.getMembersWithComments()),e)}insertConstructSignature(e,t){return this.insertConstructSignatures(e,[t])[0]}insertConstructSignatures(e,t){return rZ({thisNode:this,index:e,structures:t,expectedKind:s.SyntaxKind.ConstructSignature,createStructurePrinter:()=>this._context.structurePrinterFactory.forConstructSignatureDeclaration()})}getConstructSignature(e){return this.getConstructSignatures().find(e)}getConstructSignatureOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getConstructSignature(e),t??"Expected to find a construct signature with the provided condition.",this)}getConstructSignatures(){return this.compilerNode.members.filter(e=>e.kind===s.SyntaxKind.ConstructSignature).map(e=>this._getNodeFromCompilerNode(e))}addCallSignature(e){return this.addCallSignatures([e])[0]}addCallSignatures(e){return this.insertCallSignatures(ei(this.getMembersWithComments()),e)}insertCallSignature(e,t){return this.insertCallSignatures(e,[t])[0]}insertCallSignatures(e,t){return rZ({thisNode:this,index:e,structures:t,expectedKind:s.SyntaxKind.CallSignature,createStructurePrinter:()=>this._context.structurePrinterFactory.forCallSignatureDeclaration()})}getCallSignature(e){return this.getCallSignatures().find(e)}getCallSignatureOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getCallSignature(e),t??"Expected to find a call signature with the provided condition.",this)}getCallSignatures(){return this.compilerNode.members.filter(e=>e.kind===s.SyntaxKind.CallSignature).map(e=>this._getNodeFromCompilerNode(e))}addIndexSignature(e){return this.addIndexSignatures([e])[0]}addIndexSignatures(e){return this.insertIndexSignatures(ei(this.getMembersWithComments()),e)}insertIndexSignature(e,t){return this.insertIndexSignatures(e,[t])[0]}insertIndexSignatures(e,t){return rZ({thisNode:this,index:e,structures:t,expectedKind:s.SyntaxKind.IndexSignature,createStructurePrinter:()=>this._context.structurePrinterFactory.forIndexSignatureDeclaration()})}getIndexSignature(e){return this.getIndexSignatures().find(e)}getIndexSignatureOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getIndexSignature(e),t??"Expected to find a index signature with the provided condition.",this)}getIndexSignatures(){return this.compilerNode.members.filter(e=>e.kind===s.SyntaxKind.IndexSignature).map(e=>this._getNodeFromCompilerNode(e))}addMethod(e){return this.addMethods([e])[0]}addMethods(e){return this.insertMethods(ei(this.getMembersWithComments()),e)}insertMethod(e,t){return this.insertMethods(e,[t])[0]}insertMethods(e,t){return rZ({thisNode:this,index:e,structures:t,expectedKind:s.SyntaxKind.MethodSignature,createStructurePrinter:()=>this._context.structurePrinterFactory.forMethodSignature()})}getMethod(e){return c(this.getMethods(),e)}getMethodOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getMethod(e),()=>u("interface method signature",e))}getMethods(){return this.compilerNode.members.filter(e=>e.kind===s.SyntaxKind.MethodSignature).map(e=>this._getNodeFromCompilerNode(e))}addProperty(e){return this.addProperties([e])[0]}addProperties(e){return this.insertProperties(ei(this.getMembersWithComments()),e)}insertProperty(e,t){return this.insertProperties(e,[t])[0]}insertProperties(e,t){return rZ({thisNode:this,index:e,structures:t,expectedKind:s.SyntaxKind.PropertySignature,createStructurePrinter:()=>this._context.structurePrinterFactory.forPropertySignature()})}getProperty(e){return c(this.getProperties(),e)}getPropertyOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getProperty(e),()=>u("interface property signature",e))}getProperties(){return this.compilerNode.members.filter(e=>e.kind===s.SyntaxKind.PropertySignature).map(e=>this._getNodeFromCompilerNode(e))}addGetAccessor(e){return this.addGetAccessors([e])[0]}addGetAccessors(e){let t=[];for(let r of e){let e=this.getSetAccessor(r.name),i=null==e?ei(this.getMembersWithComments()):e.getChildIndex();t.push(this.insertGetAccessor(i,r))}return t}insertGetAccessor(e,t){return this.insertGetAccessors(e,[t])[0]}insertGetAccessors(e,t){return rZ({thisNode:this,index:e,structures:t,expectedKind:s.SyntaxKind.GetAccessor,createStructurePrinter:()=>this._context.structurePrinterFactory.forGetAccessorDeclaration({isAmbient:!0})})}getGetAccessor(e){return c(this.getGetAccessors(),e)}getGetAccessorOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getGetAccessor(e),()=>u("interface get accessor",e))}getGetAccessors(){return this.compilerNode.members.filter(e=>e.kind===s.SyntaxKind.GetAccessor).map(e=>this._getNodeFromCompilerNode(e))}addSetAccessor(e){return this.addSetAccessors([e])[0]}addSetAccessors(e){let t=[];for(let r of e){let e=this.getGetAccessor(r.name),i=null==e?ei(this.getMembersWithComments()):e.getChildIndex()+1;t.push(this.insertSetAccessor(i,r))}return t}insertSetAccessor(e,t){return this.insertSetAccessors(e,[t])[0]}insertSetAccessors(e,t){return rZ({thisNode:this,index:e,structures:t,expectedKind:s.SyntaxKind.SetAccessor,createStructurePrinter:()=>this._context.structurePrinterFactory.forSetAccessorDeclaration({isAmbient:!0})})}getSetAccessor(e){return c(this.getSetAccessors(),e)}getSetAccessorOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getSetAccessor(e),()=>u("interface set accessor",e))}getSetAccessors(){return this.compilerNode.members.filter(e=>e.kind===s.SyntaxKind.SetAccessor).map(e=>this._getNodeFromCompilerNode(e))}getMembers(){return this.compilerNode.members.map(e=>this._getNodeFromCompilerNode(e))}getMembersWithComments(){let e=this.compilerNode;return F.getContainerArray(e,this._sourceFile.compilerNode).map(e=>this._getNodeFromCompilerNode(e))}set(t){return G(e.prototype,this,t),null!=t.callSignatures&&(this.getCallSignatures().forEach(e=>e.remove()),this.addCallSignatures(t.callSignatures)),null!=t.constructSignatures&&(this.getConstructSignatures().forEach(e=>e.remove()),this.addConstructSignatures(t.constructSignatures)),null!=t.indexSignatures&&(this.getIndexSignatures().forEach(e=>e.remove()),this.addIndexSignatures(t.indexSignatures)),null!=t.properties&&(this.getProperties().forEach(e=>e.remove()),this.addProperties(t.properties)),null!=t.getAccessors&&(this.getGetAccessors().forEach(e=>e.remove()),this.addGetAccessors(t.getAccessors)),null!=t.setAccessors&&(this.getSetAccessors().forEach(e=>e.remove()),this.addSetAccessors(t.setAccessors)),null!=t.methods&&(this.getMethods().forEach(e=>e.remove()),this.addMethods(t.methods)),this}getStructure(){return $(e.prototype,this,{callSignatures:this.getCallSignatures().map(e=>e.getStructure()),constructSignatures:this.getConstructSignatures().map(e=>e.getStructure()),getAccessors:this.getGetAccessors().map(e=>e.getStructure()),indexSignatures:this.getIndexSignatures().map(e=>e.getStructure()),methods:this.getMethods().map(e=>e.getStructure()),properties:this.getProperties().map(e=>e.getStructure()),setAccessors:this.getSetAccessors().map(e=>e.getStructure())})}}}function rZ(e){return eQ({getIndexedChildren:()=>e.thisNode.getMembersWithComments(),parent:e.thisNode,index:e.index,structures:e.structures,expectedKind:e.expectedKind,write:(t,r)=>{t.newLineIfLastNot(),e.createStructurePrinter().printTexts(t,e.structures),t.newLineIfLastNot()}})}function r0(e){return class extends e{getTypeParameter(e){return c(this.getTypeParameters(),e)}getTypeParameterOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getTypeParameter(e),()=>u("type parameter",e))}getTypeParameters(){let e=this.compilerNode.typeParameters;return null==e?[]:e.map(e=>this._getNodeFromCompilerNode(e))}addTypeParameter(e){return this.addTypeParameters([e])[0]}addTypeParameters(e){return this.insertTypeParameters(ei(this.compilerNode.typeParameters),e)}insertTypeParameter(e,t){return this.insertTypeParameters(e,[t])[0]}insertTypeParameters(e,t){if(s.ArrayUtils.isNullOrEmpty(t))return[];let r=this.getTypeParameters(),i=this._getWriterWithQueuedChildIndentation(),n=this._context.structurePrinterFactory.forTypeParameterDeclaration();return e=ex(e,r.length),n.printTexts(i,t),0===r.length?eV({insertPos:function(e){if(null!=e.getNameNode)return e.getNameNode().getEnd();if(tr.isCallSignatureDeclaration(e)||tr.isFunctionTypeNode(e))return e.getFirstChildByKindOrThrow(s.SyntaxKind.OpenParenToken).getStart();throw new s.errors.NotImplementedError(`Not implemented scenario inserting type parameters for node with kind ${e.getKindName()}.`)}(this),parent:this,newText:`<${i.toString()}>`}):e$({parent:this.getFirstChildByKindOrThrow(s.SyntaxKind.LessThanToken).getNextSiblingIfKindOrThrow(s.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:i.toString(),useTrailingCommas:!1}),eh(r,this.getTypeParameters(),e,!1)}set(t){return G(e.prototype,this,t),null!=t.typeParameters&&(this.getTypeParameters().forEach(e=>e.remove()),this.addTypeParameters(t.typeParameters)),this}getStructure(){return $(e.prototype,this,{typeParameters:this.getTypeParameters().map(e=>e.getStructure())})}}}function r1(e){return class extends e{unwrap(){ez(this._sourceFile,new eJ(this),new eO().getForUnwrappingNode(this))}}}class r5 extends tr{getElements(){return this.compilerNode.elements.map(e=>this._getNodeFromCompilerNode(e))}}let r2=ty(rw(rA(tr)));class r3 extends r2{getPropertyNameNodeOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getPropertyNameNode(),e??"Expected to find a property name node.",this)}getPropertyNameNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.propertyName)}}class r8 extends tr{getElements(){return this.compilerNode.elements.map(e=>this._getNodeFromCompilerNode(e))}}function r9(e){return class extends e{isAbstract(){return null!=this.getAbstractKeyword()}getAbstractKeyword(){return this.getFirstModifierByKind(s.SyntaxKind.AbstractKeyword)}getAbstractKeywordOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getAbstractKeyword(),e??"Expected to find an abstract keyword.",this)}setIsAbstract(e){return this.toggleModifier("abstract",e),this}set(t){return G(e.prototype,this,t),null!=t.isAbstract&&this.setIsAbstract(t.isAbstract),this}getStructure(){return $(e.prototype,this,{isAbstract:this.isAbstract()})}}}class r6 extends tr{getContextualType(){return this._context.typeChecker.getContextualType(this)}}let r7=r6;class r4 extends r7{getLeft(){return this._getNodeFromCompilerNode(this.compilerNode.left)}getOperatorToken(){return this._getNodeFromCompilerNode(this.compilerNode.operatorToken)}getRight(){return this._getNodeFromCompilerNode(this.compilerNode.right)}}class ie extends r6{}class it extends ie{}class ir extends it{}class ii extends ir{}class is extends ii{}class io extends is{getElements(){return this.compilerNode.elements.map(e=>this._getNodeFromCompilerNode(e))}addElement(e,t){return this.addElements([e],t)[0]}addElements(e,t){return this.insertElements(this.compilerNode.elements.length,e,t)}insertElement(e,t,r){return this.insertElements(e,[t],r)[0]}insertElements(e,t,r={}){var i,n;let o=this.getElements();e=ex(e,o.length);let a=(i=this,null!=r.useNewLines?r.useNewLines:o.length>1?function(){let e=o[0].getStartLineNumber();for(let t=1;t<o.length;t++){let r=o[t].getStartLineNumber();if(e===r)return!1;e=r}return!0}():i.getStartLineNumber()!==i.getEndLineNumber()),l=a?this._getWriterWithChildIndentation():this._getWriterWithQueuedChildIndentation(),c=new tz;return(a?new tE(c):new tI(c)).printText(l,t),n=this,e$({parent:n.getFirstChildByKindOrThrow(s.SyntaxKind.SyntaxList),currentNodes:o,insertIndex:e,newText:l.toString(),useNewLines:a,useTrailingCommas:a&&n._context.manipulationSettings.getUseTrailingCommas()}),eh(o,n.getElements(),e,!1)}removeElement(e){let t=this.getElements();if(0===t.length)throw new s.errors.InvalidOperationError("Cannot remove an element when none exist.");e0("number"==typeof e?t[ex(e,t.length-1)]:e)}}function ia(e){return class extends e{getExpression(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.expression)}getExpressionOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getExpression(),e??"Expected to find an expression.",this)}getExpressionIfKind(e){let t=this.getExpression();return t?.getKind()===e?t:void 0}getExpressionIfKindOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getExpressionIfKind(e),t??`An expression with the kind kind ${s.getSyntaxKindName(e)} was expected.`,this)}}}function il(e){return class extends e{getExpression(){return this._getNodeFromCompilerNode(this.compilerNode.expression)}getExpressionIfKind(e){let{expression:t}=this.compilerNode;return t.kind===e?this._getNodeFromCompilerNode(t):void 0}getExpressionIfKindOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getExpressionIfKind(e),t??`An expression of the kind ${s.getSyntaxKindName(e)} was expected.`,this)}setExpression(e){return this.getExpression().replaceWithText(e,this._getWriterWithQueuedChildIndentation()),this}set(t){return G(e.prototype,this,t),null!=t.expression&&this.setExpression(t.expression),this}}}let ic=rq(il(r6));class id extends ic{}let iu=il(ie);class ih extends iu{}let ip=rH(e9(rW(il(ir))));class ig extends ip{getReturnType(){return this._context.typeChecker.getTypeAtLocation(this)}}let im=r6;class iy extends im{getElements(){return this.compilerNode.elements.map(e=>this._getNodeFromCompilerNode(e))}}let ix=r6;class iS extends ix{getCondition(){return this._getNodeFromCompilerNode(this.compilerNode.condition)}getQuestionToken(){return this._getNodeFromCompilerNode(this.compilerNode.questionToken)}getWhenTrue(){return this._getNodeFromCompilerNode(this.compilerNode.whenTrue)}getColonToken(){return this._getNodeFromCompilerNode(this.compilerNode.colonToken)}getWhenFalse(){return this._getNodeFromCompilerNode(this.compilerNode.whenFalse)}}let iT=il(ie);class iN extends iT{}let iK=rW(il(ii));class iw extends iK{getArgumentExpression(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.argumentExpression)}getArgumentExpressionOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getArgumentExpression(),e??"Expected to find an argument expression.",this)}}let iF=is;class iC extends iF{}let ib=rC(is);class iI extends ib{}let iP=rL(is);class iE extends iP{getKeywordToken(){return this.compilerNode.keywordToken}}let iD=rH(e9(il(is)));class iO extends iD{}let iA=il(ir);class iv extends iA{}class i_ extends tr{remove(){e0(this)}}class iL extends i_{}let ik=is;class iM extends ik{getPropertyOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getProperty(e),()=>u("property",e))}getProperty(e){let t;return t="string"==typeof e?t=>null!=t[s.nameof("getName")]&&t.getName()===e:e,this.getProperties().find(t)}getProperties(){return this.compilerNode.properties.map(e=>this._getNodeFromCompilerNode(e))}getPropertiesWithComments(){return F.getContainerArray(this.compilerNode,this.getSourceFile().compilerNode).map(e=>this._getNodeFromCompilerNode(e))}#eO(){return F.getContainerArray(this.compilerNode,this.getSourceFile().compilerNode).length}addProperty(e){return this.insertProperties(this.#eO(),[e])[0]}addProperties(e){return this.insertProperties(this.#eO(),e)}insertProperty(e,t){return this.insertProperties(e,[t])[0]}insertProperties(e,t){let r=this.getPropertiesWithComments();e=ex(e,r.length);let i=this._getWriterWithChildIndentation();return this._context.structurePrinterFactory.forObjectLiteralExpressionProperty().printTexts(i,t),e$({parent:this.getChildSyntaxListOrThrow(),currentNodes:r,insertIndex:e,newText:i.toString(),useNewLines:!0,useTrailingCommas:this._context.manipulationSettings.getUseTrailingCommas()}),eh(r,this.getPropertiesWithComments(),e,!0)}addPropertyAssignment(e){return this.addPropertyAssignments([e])[0]}addPropertyAssignments(e){return this.insertPropertyAssignments(this.#eO(),e)}insertPropertyAssignment(e,t){return this.insertPropertyAssignments(e,[t])[0]}insertPropertyAssignments(e,t){return this.#eA(e,t,()=>this._context.structurePrinterFactory.forPropertyAssignment())}addShorthandPropertyAssignment(e){return this.addShorthandPropertyAssignments([e])[0]}addShorthandPropertyAssignments(e){return this.insertShorthandPropertyAssignments(this.#eO(),e)}insertShorthandPropertyAssignment(e,t){return this.insertShorthandPropertyAssignments(e,[t])[0]}insertShorthandPropertyAssignments(e,t){return this.#eA(e,t,()=>this._context.structurePrinterFactory.forShorthandPropertyAssignment())}addSpreadAssignment(e){return this.addSpreadAssignments([e])[0]}addSpreadAssignments(e){return this.insertSpreadAssignments(this.#eO(),e)}insertSpreadAssignment(e,t){return this.insertSpreadAssignments(e,[t])[0]}insertSpreadAssignments(e,t){return this.#eA(e,t,()=>this._context.structurePrinterFactory.forSpreadAssignment())}addMethod(e){return this.addMethods([e])[0]}addMethods(e){return this.insertMethods(this.#eO(),e)}insertMethod(e,t){return this.insertMethods(e,[t])[0]}insertMethods(e,t){return this.#eA(e,t,()=>this._context.structurePrinterFactory.forMethodDeclaration({isAmbient:!1}))}addGetAccessor(e){return this.addGetAccessors([e])[0]}addGetAccessors(e){return this.insertGetAccessors(this.#eO(),e)}insertGetAccessor(e,t){return this.insertGetAccessors(e,[t])[0]}insertGetAccessors(e,t){return this.#eA(e,t,()=>this._context.structurePrinterFactory.forGetAccessorDeclaration({isAmbient:!1}))}addSetAccessor(e){return this.addSetAccessors([e])[0]}addSetAccessors(e){return this.insertSetAccessors(this.#eO(),e)}insertSetAccessor(e,t){return this.insertSetAccessors(e,[t])[0]}insertSetAccessors(e,t){return this.#eA(e,t,()=>this._context.structurePrinterFactory.forSetAccessorDeclaration({isAmbient:!1}))}#eA(e,t,r){e=ex(e,this.#eO());let i=this._getWriterWithChildIndentation(),n=new tE(r()),o=this.getPropertiesWithComments();return n.printText(i,t),e$({parent:this.getFirstChildByKindOrThrow(s.SyntaxKind.SyntaxList),currentNodes:o,insertIndex:e,newText:i.toString(),useNewLines:!0,useTrailingCommas:this._context.manipulationSettings.getUseTrailingCommas()}),eh(o,this.getPropertiesWithComments(),e,!1)}}let iW=rK(rB(rk(i_)));class iB extends iW{removeInitializer(){let e=this.getInitializerOrThrow(),t=e.getPreviousSiblingIfKindOrThrow(s.SyntaxKind.ColonToken),r=this.getChildIndex(),i=this._sourceFile.getFullText(),n=this.getStart(),o=i.substring(n,t.getPos())+i.substring(e.getEnd(),this.getEnd()),a=this.getParentSyntaxList()||this.getParentOrThrow();return eV({insertPos:n,newText:o,parent:a,replacing:{textLength:this.getWidth()}}),a.getChildAtIndexIfKindOrThrow(r,s.SyntaxKind.ShorthandPropertyAssignment)}setInitializer(e){let t=this.getInitializerOrThrow();return eV({insertPos:t.getStart(),newText:k(this._getWriterWithQueuedChildIndentation(),e),parent:this,replacing:{textLength:t.getWidth()}}),this}set(e){if(G(iW.prototype,this,e),null!=e.initializer)this.setInitializer(e.initializer);else if(e.hasOwnProperty(s.nameof(e,"initializer")))return this.removeInitializer();return this}getStructure(){let e=this.getInitializerOrThrow(),r=$(iW.prototype,this,{kind:t.c5n.PropertyAssignment,initializer:e.getText()});return delete r.hasQuestionToken,r}}let iR=rK(rB(rL(i_)));class ij extends iR{hasObjectAssignmentInitializer(){return null!=this.compilerNode.objectAssignmentInitializer}getObjectAssignmentInitializerOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getObjectAssignmentInitializer(),e??"Expected to find an object assignment initializer.",this)}getObjectAssignmentInitializer(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.objectAssignmentInitializer)}getEqualsTokenOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getEqualsToken(),e??"Expected to find an equals token.",this)}getEqualsToken(){let e=this.compilerNode.equalsToken;if(null!=e)return this._getNodeFromCompilerNode(e)}removeObjectAssignmentInitializer(){return this.hasObjectAssignmentInitializer()&&eq({children:[this.getEqualsTokenOrThrow(),this.getObjectAssignmentInitializerOrThrow()],removePrecedingSpaces:!0}),this}setInitializer(e){let t=this.getParentSyntaxList()||this.getParentOrThrow(),r=this.getChildIndex();return eV({insertPos:this.getStart(),newText:this.getText()+`: ${e}`,parent:t,replacing:{textLength:this.getWidth()}}),t.getChildAtIndexIfKindOrThrow(r,s.SyntaxKind.PropertyAssignment)}set(e){return G(iR.prototype,this,e),this}getStructure(){let e=$(iR.prototype,this,{kind:t.c5n.ShorthandPropertyAssignment});return delete e.hasQuestionToken,e}getValueSymbol(){return this._context.typeChecker.getShorthandAssignmentValueSymbol(this)}getValueSymbolOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getValueSymbol(),e??"Expected to find a value symbol.",this)}}let iJ=il(i_);class iU extends iJ{set(e){return G(iJ.prototype,this,e),this}getStructure(){return $(iJ.prototype,this,{kind:t.c5n.SpreadAssignment,expression:this.getExpression().getText()})}}let iz=r6;class iV extends iz{}let i$=il(r6);class iG extends i${}let iQ=il(r6);class iH extends iQ{}let iq=ie;class iY extends iq{getOperatorToken(){return this.compilerNode.operator}getOperand(){return this._getNodeFromCompilerNode(this.compilerNode.operand)}}let iX=ie;class iZ extends iX{getOperatorToken(){return this.compilerNode.operator}getOperand(){return this._getNodeFromCompilerNode(this.compilerNode.operand)}}let i0=rL(rW(il(ii)));class i1 extends i0{}let i5=rq(il(r6));class i2 extends i5{}let i3=il(r6);class i8 extends i3{}il(iw);let i9=is;class i6 extends i9{}il(i1);let i7=is;class i4 extends i7{}let ne=rq(il(ie));class nt extends ne{}let nr=il(ie);class ni extends nr{}let nn=il(ie);class ns extends nn{}let no=ia(rT(r6));class na extends no{}let nl=tp(tr);class nc extends nl{remove(){e1([this])}}function nd(e){return class extends e{getStatements(){let e=this._getCompilerStatementsContainer();return(e?.statements??[]).map(e=>this._getNodeFromCompilerNode(e))}getStatementsWithComments(){return this._getCompilerStatementsWithComments().map(e=>this._getNodeFromCompilerNode(e))}getStatement(e){return this.getStatements().find(e)}getStatementOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getStatement(e),t??"Expected to find a statement matching the provided condition.",this)}getStatementByKind(e){let t=this._getCompilerStatementsWithComments().find(t=>t.kind===e);return this._getNodeFromCompilerNodeIfExists(t)}getStatementByKindOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getStatementByKind(e),t??`Expected to find a statement with syntax kind ${s.getSyntaxKindName(e)}.`,this)}addStatements(e){return this.insertStatements(this._getCompilerStatementsWithComments().length,e)}insertStatements(e,t){return nu(this),(function(){let e=this.getChildSyntaxListOrThrow();if(tr.isCaseClause(this)||tr.isDefaultClause(this)){let t=e.getFirstChildIfKind(s.SyntaxKind.Block);if(null!=t)return t.getChildSyntaxListOrThrow()}return e}).call(this).insertChildText(e,e=>{this._context.structurePrinterFactory.forStatement({isAmbient:E(this)}).printTexts(e,t)})}removeStatement(e){return e=ex(e,this._getCompilerStatementsWithComments().length-1),this.removeStatements([e,e])}removeStatements(e){let t=this.getStatementsWithComments();return s.errors.throwIfRangeOutOfRange(e,[0,t.length],"indexRange"),e1(t.slice(e[0],e[1]+1)),this}addClass(e){return this.addClasses([e])[0]}addClasses(e){return this.insertClasses(this._getCompilerStatementsWithComments().length,e)}insertClass(e,t){return this.insertClasses(e,[t])[0]}insertClasses(e,t){return this._insertChildren({expectedKind:s.SyntaxKind.ClassDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forClassDeclaration({isAmbient:E(this)}).printTexts(e,t)})}})}getClasses(){return this.getStatements().filter(tr.isClassDeclaration)}getClass(e){return c(this.getClasses(),e)}getClassOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getClass(e),()=>u("class",e))}addEnum(e){return this.addEnums([e])[0]}addEnums(e){return this.insertEnums(this._getCompilerStatementsWithComments().length,e)}insertEnum(e,t){return this.insertEnums(e,[t])[0]}insertEnums(e,t){return this._insertChildren({expectedKind:s.SyntaxKind.EnumDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forEnumDeclaration().printTexts(e,t)})}})}getEnums(){return this.getStatements().filter(tr.isEnumDeclaration)}getEnum(e){return c(this.getEnums(),e)}getEnumOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getEnum(e),()=>u("enum",e))}addFunction(e){return this.addFunctions([e])[0]}addFunctions(e){return this.insertFunctions(this._getCompilerStatementsWithComments().length,e)}insertFunction(e,t){return this.insertFunctions(e,[t])[0]}insertFunctions(e,t){return this._insertChildren({expectedKind:s.SyntaxKind.FunctionDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forFunctionDeclaration({isAmbient:E(this)}).printTexts(e,t)},{previousNewLine:e=>!0===t[0].hasDeclareKeyword&&tr.isFunctionDeclaration(e)&&null==e.getBody(),nextNewLine:e=>!0===t[t.length-1].hasDeclareKeyword&&tr.isFunctionDeclaration(e)&&null==e.getBody()})}})}getFunctions(){return this.getStatements().filter(tr.isFunctionDeclaration).filter(e=>e.isAmbient()||e.isImplementation())}getFunction(e){return c(this.getFunctions(),e)}getFunctionOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getFunction(e),()=>u("function",e))}addInterface(e){return this.addInterfaces([e])[0]}addInterfaces(e){return this.insertInterfaces(this._getCompilerStatementsWithComments().length,e)}insertInterface(e,t){return this.insertInterfaces(e,[t])[0]}insertInterfaces(e,t){return this._insertChildren({expectedKind:s.SyntaxKind.InterfaceDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forInterfaceDeclaration().printTexts(e,t)})}})}getInterfaces(){return this.getStatements().filter(tr.isInterfaceDeclaration)}getInterface(e){return c(this.getInterfaces(),e)}getInterfaceOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getInterface(e),()=>u("interface",e))}addModule(e){return this.addModules([e])[0]}addModules(e){return this.insertModules(this._getCompilerStatementsWithComments().length,e)}insertModule(e,t){return this.insertModules(e,[t])[0]}insertModules(e,t){return this._insertChildren({expectedKind:s.SyntaxKind.ModuleDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forModuleDeclaration({isAmbient:E(this)}).printTexts(e,t)})}})}getModules(){return this.getStatements().filter(tr.isModuleDeclaration)}getModule(e){return c(this.getModules(),e)}getModuleOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getModule(e),()=>u("module",e))}addTypeAlias(e){return this.addTypeAliases([e])[0]}addTypeAliases(e){return this.insertTypeAliases(this._getCompilerStatementsWithComments().length,e)}insertTypeAlias(e,t){return this.insertTypeAliases(e,[t])[0]}insertTypeAliases(e,t){return this._insertChildren({expectedKind:s.SyntaxKind.TypeAliasDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forTypeAliasDeclaration().printTexts(e,t)},{previousNewLine:e=>tr.isTypeAliasDeclaration(e),nextNewLine:e=>tr.isTypeAliasDeclaration(e)})}})}getTypeAliases(){return this.getStatements().filter(tr.isTypeAliasDeclaration)}getTypeAlias(e){return c(this.getTypeAliases(),e)}getTypeAliasOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getTypeAlias(e),()=>u("type alias",e))}getVariableStatements(){return this.getStatements().filter(tr.isVariableStatement)}getVariableStatement(e){return this.getVariableStatements().find("string"==typeof e?t=>t.getDeclarations().some(t=>d(t,e)):e)}getVariableStatementOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getVariableStatement(e),t??"Expected to find a variable statement that matched the provided condition.",this)}addVariableStatement(e){return this.addVariableStatements([e])[0]}addVariableStatements(e){return this.insertVariableStatements(this._getCompilerStatementsWithComments().length,e)}insertVariableStatement(e,t){return this.insertVariableStatements(e,[t])[0]}insertVariableStatements(e,t){return this._insertChildren({expectedKind:s.SyntaxKind.VariableStatement,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forVariableStatement().printTexts(e,t)},{previousNewLine:e=>tr.isVariableStatement(e),nextNewLine:e=>tr.isVariableStatement(e)})}})}getVariableDeclarations(){let e=[];for(let t of this.getVariableStatements())e.push(...t.getDeclarations());return e}getVariableDeclaration(e){return c(this.getVariableDeclarations(),e)}getVariableDeclarationOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getVariableDeclaration(e),()=>u("variable declaration",e))}getStructure(){let t={};return tr.isBodyable(this)&&!this.hasBody()?t.statements=void 0:t.statements=this.getStatements().map(e=>tr._hasStructure(e)?e.getStructure():e.getText({trimLeadingIndentation:!0})),$(e.prototype,this,t)}set(t){if(tr.isBodyable(this)&&null==t.statements&&t.hasOwnProperty(s.nameof(t,"statements")))this.removeBody();else if(null!=t.statements){let e=this._getCompilerStatementsWithComments().length;e>0&&this.removeStatements([0,e-1])}return G(e.prototype,this,t),null!=t.statements&&this.addStatements(t.statements),this}_getCompilerStatementsWithComments(){let e=this._getCompilerStatementsContainer();return null==e?[]:F.getContainerArray(e,this._sourceFile.compilerNode)}_getCompilerStatementsContainer(){if(tr.isSourceFile(this)||tr.isCaseClause(this)||tr.isDefaultClause(this))return this.compilerNode;if(tr.isModuleDeclaration(this)){let e=this._getInnerBody();if(null==e)return;return e.compilerNode}if(tr.isBodyable(this)||tr.isBodied(this))return this.getBody()?.compilerNode;if(tr.isBlock(this)||tr.isModuleBlock(this))return this.compilerNode;throw new s.errors.NotImplementedError(`Could not find the statements for node kind: ${this.getKindName()}, text: ${this.getText()}`)}_insertChildren(e){return nu(this),eQ({expectedKind:e.expectedKind,getIndexedChildren:()=>this.getStatementsWithComments(),index:e.index,parent:this,structures:e.structures,write:(t,r)=>e.write(t,r)})}_standardWrite(e,t,r,i={}){null==t.previousMember||null!=i.previousNewLine&&i.previousNewLine(t.previousMember)||tr.isCommentNode(t.previousMember)?t.isStartOfFile||e.newLineIfLastNot():e.blankLine(),r(),null==t.nextMember||null!=i.nextNewLine&&i.nextNewLine(t.nextMember)?e.newLineIfLastNot():e.blankLine()}}}function nu(e){tr.isBodyable(e)&&!e.hasBody()&&e.addBody()}let nh=rG(nd(nc));class np extends nh{}class ng extends nc{getLabel(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.label)}getLabelOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getLabel(),e??"Expected to find a label.",this)}}let nm=rG(tr);class ny extends nm{getClauses(){return(this.compilerNode.clauses||[]).map(e=>this._getNodeFromCompilerNode(e))}removeClause(e){return e=ex(e,this.getClauses().length-1),this.removeClauses([e,e])}removeClauses(e){let t=this.getClauses();return s.errors.throwIfRangeOutOfRange(e,[0,t.length],"indexRange"),e5(t.slice(e[0],e[1]+1)),this}}let nx=rF(il(rG(nd(tr))));class nf extends nx{remove(){e5([this])}}let nS=tr;class nT extends nS{getBlock(){return this._getNodeFromCompilerNode(this.compilerNode.block)}getVariableDeclaration(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.variableDeclaration)}getVariableDeclarationOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getVariableDeclaration(),e??"Expected to find a variable declaration.",this)}}class nN extends nc{}class nK extends nc{getLabel(){return null==this.compilerNode.label?void 0:this._getNodeFromCompilerNode(this.compilerNode.label)}getLabelOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getLabel(),e??"Expected to find a label.",this)}}let nw=nc;class nF extends nw{}let nC=rG(nd(tr));class nb extends nC{remove(){e5([this])}}class nI extends nc{getStatement(){return this._getNodeFromCompilerNode(this.compilerNode.statement)}}let nP=il(nI);class nE extends nP{}let nD=nc;class nO extends nD{}let nA=il(rF(nc));class nv extends nA{}let n_=il(nI);class nL extends n_{getInitializer(){return this._getNodeFromCompilerNode(this.compilerNode.initializer)}}let nk=il(function(e){return class extends e{isAwaited(){return null!=this.compilerNode.awaitModifier}getAwaitKeyword(){let e=this.compilerNode.awaitModifier;return this._getNodeFromCompilerNodeIfExists(e)}getAwaitKeywordOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getAwaitKeyword(),e??"Expected to find an await token.")}setIsAwaited(e){let t=this.getAwaitKeyword();return null!=t===e||(null==t?eV({insertPos:function(e){if(e.getKind()===s.SyntaxKind.ForOfStatement)return e.getFirstChildByKindOrThrow(s.SyntaxKind.ForKeyword).getEnd();throw new s.errors.NotImplementedError("Expected a for of statement node.")}(this),parent:this,newText:" await"}):eq({children:[t],removePrecedingSpaces:!0})),this}set(t){return G(e.prototype,this,t),null!=t.isAwaited&&this.setIsAwaited(t.isAwaited),this}}}(nI));class nM extends nk{getInitializer(){return this._getNodeFromCompilerNode(this.compilerNode.initializer)}}let nW=nI;class nB extends nW{getInitializer(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.initializer)}getInitializerOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getInitializer(),e??"Expected to find an initializer.",this)}getCondition(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.condition)}getConditionOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getCondition(),e??"Expected to find a condition.",this)}getIncrementor(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.incrementor)}getIncrementorOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getIncrementor(),e??"Expected to find an incrementor.",this)}}let nR=il(nc);class nj extends nR{getThenStatement(){return this._getNodeFromCompilerNode(this.compilerNode.thenStatement)}getElseStatement(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.elseStatement)}remove(){let e=[];tr.isIfStatement(this.getParentOrThrow())&&e.push(this.getPreviousSiblingIfKindOrThrow(s.SyntaxKind.ElseKeyword)),e.push(this),e1(e)}}let nJ=rF(nc);class nU extends nJ{getLabel(){return this._getNodeFromCompilerNode(this.compilerNode.label)}getStatement(){return this._getNodeFromCompilerNode(this.compilerNode.statement)}}let nz=nc;class nV extends nz{}let n$=ia(nc);class nG extends n${}let nQ=il(nc);class nH extends nQ{getCaseBlock(){return this._getNodeFromCompilerNode(this.compilerNode.caseBlock)}getClauses(){return this.getCaseBlock().getClauses()}removeClause(e){return this.getCaseBlock().removeClause(e)}removeClauses(e){return this.getCaseBlock().removeClauses(e)}}let nq=il(nc);class nY extends nq{}let nX=nc;class nZ extends nX{getTryBlock(){return this._getNodeFromCompilerNode(this.compilerNode.tryBlock)}getCatchClause(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.catchClause)}getCatchClauseOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getCatchClause(),e??"Expected to find a catch clause.",this)}getFinallyBlock(){if(null!=this.compilerNode.finallyBlock&&0!==this.compilerNode.finallyBlock.getFullWidth())return this._getNodeFromCompilerNode(this.compilerNode.finallyBlock)}getFinallyBlockOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getFinallyBlock(),e??"Expected to find a finally block.",this)}}let n0=il(rF(nc));class n1 extends n0{isExportEquals(){return this.compilerNode.isExportEquals||!1}setIsExportEquals(e){return this.isExportEquals()===e||(e?this.getFirstChildByKindOrThrow(s.SyntaxKind.DefaultKeyword).replaceWithText("="):this.getFirstChildByKindOrThrow(s.SyntaxKind.EqualsToken).replaceWithText("default")),this}set(e){return G(n0.prototype,this,e),null!=e.expression&&this.setExpression(e.expression),null!=e.isExportEquals&&this.setIsExportEquals(e.isExportEquals),this}getStructure(){return $(nc.prototype,this,{kind:t.c5n.ExportAssignment,expression:this.getExpression().getText(),isExportEquals:this.isExportEquals()})}}let n5=nc;class n2 extends n5{isTypeOnly(){return this.compilerNode.isTypeOnly}setIsTypeOnly(e){return this.isTypeOnly()===e||(e?eV({parent:this,insertPos:(this.getNodeProperty("exportClause")??this.getFirstChildByKindOrThrow(s.SyntaxKind.AsteriskToken)).getStart(),newText:"type "}):eq({children:[this.getFirstChildByKindOrThrow(s.ts.SyntaxKind.TypeKeyword)],removeFollowingSpaces:!0})),this}getNamespaceExport(){let e=this.getNodeProperty("exportClause");return null!=e&&tr.isNamespaceExport(e)?e:void 0}getNamespaceExportOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getNamespaceExport(),e??"Expected to find a namespace export.",this)}setNamespaceExport(e){let t=this.getNodeProperty("exportClause"),r=s.StringUtils.isNullOrWhitespace(e)?"*":`* as ${e}`;return null==t?eV({insertPos:this.getFirstChildByKindOrThrow(s.SyntaxKind.AsteriskToken).getStart(),parent:this,newText:r,replacing:{textLength:1}}):tr.isNamespaceExport(t)?t.getNameNode().replaceWithText(e):eV({insertPos:t.getStart(),parent:this,newText:r,replacing:{textLength:t.getWidth()}}),this}setModuleSpecifier(e){let t="string"==typeof e?e:this._sourceFile.getRelativePathAsModuleSpecifierTo(e);if(s.StringUtils.isNullOrEmpty(t))return this.removeModuleSpecifier(),this;let r=this.getModuleSpecifier();if(null==r){let e=this.getLastChildIfKind(s.SyntaxKind.SemicolonToken),r=this._context.manipulationSettings.getQuoteKind();eV({insertPos:null!=e?e.getPos():this.getEnd(),parent:this,newText:` from ${r}${t}${r}`})}else r.setLiteralValue(t);return this}getModuleSpecifier(){let e=this._getNodeFromCompilerNodeIfExists(this.compilerNode.moduleSpecifier);if(null!=e){if(!tr.isStringLiteral(e))throw new s.errors.InvalidOperationError("Expected the module specifier to be a string literal.");return e}}getModuleSpecifierValue(){let e=this.getModuleSpecifier();return e?.getLiteralValue()}getModuleSpecifierSourceFileOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getModuleSpecifierSourceFile(),e??"A module specifier source file was expected.",this)}getModuleSpecifierSourceFile(){let e=this.getLastChildByKind(s.SyntaxKind.StringLiteral);if(null==e)return;let t=e.getSymbol();if(null==t)return;let r=t.getDeclarations()[0];return null!=r&&tr.isSourceFile(r)?r:void 0}isModuleSpecifierRelative(){let e=this.getModuleSpecifierValue();return null!=e&&O.isModuleSpecifierRelative(e)}removeModuleSpecifier(){let e=this.getModuleSpecifier();if(null==e)return this;if(!this.hasNamedExports())throw new s.errors.InvalidOperationError("Cannot remove the module specifier from an export declaration that has no named exports.");return eq({children:[this.getFirstChildByKindOrThrow(s.SyntaxKind.FromKeyword),e],removePrecedingNewLines:!0,removePrecedingSpaces:!0}),this}hasModuleSpecifier(){return null!=this.getLastChildByKind(s.SyntaxKind.StringLiteral)}isNamespaceExport(){return!this.hasNamedExports()}hasNamedExports(){return this.compilerNode.exportClause?.kind===s.SyntaxKind.NamedExports}addNamedExport(e){return this.addNamedExports([e])[0]}addNamedExports(e){return this.insertNamedExports(this.getNamedExports().length,e)}insertNamedExport(e,t){return this.insertNamedExports(e,[t])[0]}insertNamedExports(e,t){if(!(t instanceof Function)&&s.ArrayUtils.isNullOrEmpty(t))return[];let r=this.getNamedExports(),i=this._getWriterWithIndentation(),n=this._context.structurePrinterFactory.forNamedImportExportSpecifier();e=ex(e,r.length);let o=this.getNodeProperty("exportClause");return null==o?(n.printTextsWithBraces(i,t),eV({insertPos:this.getFirstChildByKindOrThrow(s.SyntaxKind.AsteriskToken).getStart(),parent:this,newText:i.toString(),replacing:{textLength:1}})):o.getKind()===s.SyntaxKind.NamespaceExport?(n.printTextsWithBraces(i,t),eV({insertPos:o.getStart(),parent:this,newText:i.toString(),replacing:{textLength:o.getWidth()}})):(n.printTexts(i,t),e$({parent:this.getFirstChildByKindOrThrow(s.SyntaxKind.NamedExports).getFirstChildByKindOrThrow(s.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:i.toString(),surroundWithSpaces:this._context.getFormatCodeSettings().insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces,useTrailingCommas:!1})),eh(r,this.getNamedExports(),e,!1)}getNamedExports(){let e=this.compilerNode.exportClause;return null==e||s.ts.isNamespaceExport(e)?[]:e.elements.map(e=>this._getNodeFromCompilerNode(e))}toNamespaceExport(){if(!this.hasModuleSpecifier())throw new s.errors.InvalidOperationError("Cannot change to a namespace export when no module specifier exists.");let e=this.getNodeProperty("exportClause");return null==e||eV({parent:this,newText:"*",insertPos:e.getStart(),replacing:{textLength:e.getWidth()}}),this}setAttributes(e){let t=this.getAttributes();if(t)e?t.setElements(e):t.remove();else if(e){let t=this._context.structurePrinterFactory.forImportAttribute(),r=this._context.createWriter();r.space(),t.printAttributes(r,e),eV({parent:this,newText:r.toString(),insertPos:";"===this.getSourceFile().getFullText()[this.getEnd()-1]?this.getEnd()-1:this.getEnd()})}return this}getAttributes(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.attributes)}set(e){return G(n5.prototype,this,e),null!=e.namedExports?(function(e){let t,r=e.getNodeProperty("exportClause");if(null!=r){if(0===e.getNamedExports().length)return;t=r}else t=e.getFirstChildByKindOrThrow(s.SyntaxKind.AsteriskToken);eV({parent:e,newText:"{ }",insertPos:t.getStart(),replacing:{textLength:t.getWidth()}})}(this),this.addNamedExports(e.namedExports)):e.hasOwnProperty(s.nameof(e,"namedExports"))&&null==e.moduleSpecifier&&this.toNamespaceExport(),null!=e.moduleSpecifier?this.setModuleSpecifier(e.moduleSpecifier):e.hasOwnProperty(s.nameof(e,"moduleSpecifier"))&&this.removeModuleSpecifier(),null==e.namedExports&&e.hasOwnProperty(s.nameof(e,"namedExports"))&&this.toNamespaceExport(),null!=e.namespaceExport&&this.setNamespaceExport(e.namespaceExport),null!=e.isTypeOnly&&this.setIsTypeOnly(e.isTypeOnly),e.hasOwnProperty(s.nameof(e,"attributes"))&&this.setAttributes(e.attributes),this}getStructure(){let e=this.getModuleSpecifier(),r=this.getAttributes();return $(n5.prototype,this,{kind:t.c5n.ExportDeclaration,isTypeOnly:this.isTypeOnly(),moduleSpecifier:e?.getLiteralText(),namedExports:this.getNamedExports().map(e=>e.getStructure()),namespaceExport:this.getNamespaceExport()?.getName(),attributes:r?r.getElements().map(e=>e.getStructure()):void 0})}}let n3=tr;class n8 extends n3{setName(e){let t=this.getNameNode();return this.getName()===e||(J(e)?t.replaceWithText(e):t.replaceWithText(`"${e.replaceAll('"','\\"')}"`)),this}getName(){let e=this.getNameNode();return e.getKind()===s.ts.SyntaxKind.StringLiteral?e.getLiteralText():e.getText()}getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.propertyName||this.compilerNode.name)}renameAlias(e){if(s.StringUtils.isNullOrWhitespace(e))return this.removeAliasWithRename(),this;let t=this.getAliasNode();return null==t&&(this.setAlias(this.getName()),t=this.getAliasNode()),t.getKind()===s.SyntaxKind.Identifier&&t.rename(e),this}setAlias(e){if(s.StringUtils.isNullOrWhitespace(e))return this.removeAlias(),this;let t=this.getAliasNode();return null==t?eV({insertPos:this.getNameNode().getEnd(),parent:this,newText:` as ${e}`}):J(e)?t.replaceWithText(e):t.replaceWithText(`"${e.replaceAll('"','\\"')}"`),this}removeAlias(){let e=this.getAliasNode();return null==e||eq({children:[this.getFirstChildByKindOrThrow(s.SyntaxKind.AsKeyword),e],removePrecedingSpaces:!0,removePrecedingNewLines:!0}),this}removeAliasWithRename(){let e=this.getAliasNode();return null==e||(e.getKind()===s.SyntaxKind.Identifier&&e.rename(this.getName()),this.removeAlias()),this}getAliasNode(){if(null!=this.compilerNode.propertyName)return this._getNodeFromCompilerNode(this.compilerNode.name)}isTypeOnly(){return this.compilerNode.isTypeOnly}setIsTypeOnly(e){return this.isTypeOnly()===e||(e?eV({insertPos:this.getStart(),parent:this,newText:"type "}):eq({children:[this.getFirstChildByKindOrThrow(s.ts.SyntaxKind.TypeKeyword)],removeFollowingSpaces:!0})),this}getExportDeclaration(){return this.getFirstAncestorByKindOrThrow(s.SyntaxKind.ExportDeclaration)}getLocalTargetSymbolOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getLocalTargetSymbol(),e??"The export specifier's local target symbol was expected.",this)}getLocalTargetSymbol(){return this._context.typeChecker.getExportSpecifierLocalTargetSymbol(this)}getLocalTargetDeclarations(){return this.getLocalTargetSymbol()?.getDeclarations()??[]}remove(){let e=this.getExportDeclaration();e.getNamedExports().length>1||null==e.getNamespaceExport()?e0(this):e.toNamespaceExport()}set(e){return G(n3.prototype,this,e),null!=e.isTypeOnly&&this.setIsTypeOnly(e.isTypeOnly),null!=e.name&&this.setName(e.name),null!=e.alias?this.setAlias(e.alias):e.hasOwnProperty(s.nameof(e,"alias"))&&this.removeAlias(),this}getStructure(){let e=this.getAliasNode();return $(tr.prototype,this,{kind:t.c5n.ExportSpecifier,alias:e?e.getText():void 0,name:this.getNameNode().getText(),isTypeOnly:this.isTypeOnly()})}}let n9=ia(tr);class n6 extends n9{getReferencedSourceFileOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getReferencedSourceFile(),e??"Expected to find the referenced source file.",this)}isRelative(){let e=this.getExpression();return null!=e&&!!tr.isStringLiteral(e)&&O.isModuleSpecifierRelative(e.getLiteralText())}getReferencedSourceFile(){let e=this.getExpression();if(null==e)return;let t=e.getSymbol();if(null!=t)return O.getReferencedSourceFileFromSymbol(t)}}let n7=rP(rE(rO(tr)));class n4 extends n7{getValue(){return this._getNodeFromCompilerNode(this.compilerNode.value)}set(e){return G(n7.prototype,this,e),e.value&&this.getValue().replaceWithText(e.value),this}getStructure(){return $(n7.prototype,this,{kind:t.c5n.ImportAttribute,value:this.getValue().getText()})}}let se=tr;class st extends se{setElements(e){return this.replaceWithText(t=>{this._context.structurePrinterFactory.forImportAttribute().printAttributes(t,e)}),this}getElements(){return this.compilerNode.elements.map(e=>this._getNodeFromCompilerNode(e))}remove(){eq({children:[this],removePrecedingNewLines:!0,removePrecedingSpaces:!0})}}let sr=tr;class si extends sr{isTypeOnly(){return this.compilerNode.isTypeOnly}setIsTypeOnly(e){return this.isTypeOnly()===e||(e?eV({parent:this,insertPos:this.getStart(),newText:"type "}):eq({children:[this.getFirstChildByKindOrThrow(s.ts.SyntaxKind.TypeKeyword)],removeFollowingSpaces:!0})),this}getDefaultImportOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getDefaultImport(),e??"Expected to find a default import.",this)}getDefaultImport(){return this.getNodeProperty("name")}getNamedBindingsOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getNamedBindings(),e??"Expected to find an import declaration's named bindings.",this)}getNamedBindings(){return this.getNodeProperty("namedBindings")}getNamespaceImportOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getNamespaceImport(),e??"Expected to find a namespace import.",this)}getNamespaceImport(){let e=this.getNamedBindings();if(null!=e&&tr.isNamespaceImport(e))return e.getNameNode()}getNamedImports(){let e=this.getNamedBindings();return null!=e&&tr.isNamedImports(e)?e.getElements():[]}}let sn=nc;class ss extends sn{isTypeOnly(){return this.getImportClause()?.isTypeOnly()??!1}setIsTypeOnly(e){let t=this.getImportClause();if(null==t)if(!e)return this;else throw new s.errors.InvalidOperationError("Cannot set an import as type only when there is no import clause.");return t.setIsTypeOnly(e),this}setModuleSpecifier(e){let t="string"==typeof e?e:this._sourceFile.getRelativePathAsModuleSpecifierTo(e);return this.getModuleSpecifier().setLiteralValue(t),this}getModuleSpecifier(){let e=this._getNodeFromCompilerNode(this.compilerNode.moduleSpecifier);if(!tr.isStringLiteral(e))throw new s.errors.InvalidOperationError("Expected the module specifier to be a string literal.");return e}getModuleSpecifierValue(){return this.getModuleSpecifier().getLiteralValue()}getModuleSpecifierSourceFileOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getModuleSpecifierSourceFile(),e??"A module specifier source file was expected.",this)}getModuleSpecifierSourceFile(){let e=this.getModuleSpecifier().getSymbol();if(null!=e)return O.getReferencedSourceFileFromSymbol(e)}isModuleSpecifierRelative(){return O.isModuleSpecifierRelative(this.getModuleSpecifierValue())}setDefaultImport(e){if(s.StringUtils.isNullOrWhitespace(e))return this.removeDefaultImport();let t=this.getDefaultImport();if(null!=t)return t.replaceWithText(e),this;let r=this.getFirstChildByKindOrThrow(s.SyntaxKind.ImportKeyword),i=this.getImportClause();return null==i?eV({insertPos:r.getEnd(),parent:this,newText:` ${e} from`}):eV({insertPos:r.getEnd(),parent:i,newText:` ${e},`}),this}renameDefaultImport(e){if(s.StringUtils.isNullOrWhitespace(e))return this.removeDefaultImport();let t=this.getDefaultImport();return null!=t?t.rename(e):this.setDefaultImport(e),this}getDefaultImportOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getDefaultImport(),e??"Expected to find a default import.",this)}getDefaultImport(){return this.getImportClause()?.getDefaultImport()??void 0}setNamespaceImport(e){if(s.StringUtils.isNullOrWhitespace(e))return this.removeNamespaceImport();let t=this.getNamespaceImport();if(null!=t)return t.rename(e),this;if(this.getNamedImports().length>0)throw new s.errors.InvalidOperationError("Cannot add a namespace import to an import declaration that has named imports.");let r=this.getDefaultImport();return null!=r?eV({insertPos:r.getEnd(),parent:this.getImportClause(),newText:`, * as ${e}`}):eV({insertPos:this.getFirstChildByKindOrThrow(s.SyntaxKind.ImportKeyword).getEnd(),parent:this,newText:` * as ${e} from`}),this}removeNamespaceImport(){let e=this.getNamespaceImport();return null==e||eq({children:(function(){let t=this.getDefaultImport();return null==t?[this.getImportClauseOrThrow(),this.getLastChildByKindOrThrow(s.SyntaxKind.FromKeyword)]:[t.getNextSiblingIfKindOrThrow(s.SyntaxKind.CommaToken),e]}).call(this),removePrecedingSpaces:!0,removePrecedingNewLines:!0}),this}removeDefaultImport(){let e=this.getImportClause();if(null==e)return this;let t=e.getDefaultImport();return null==t||(null==e.getNamedBindings()?e.isTypeOnly()?eV({parent:e,newText:"{}",insertPos:t.getStart(),replacing:{textLength:t.getWidth()}}):eq({children:[e,e.getNextSiblingIfKindOrThrow(s.SyntaxKind.FromKeyword)],removePrecedingSpaces:!0,removePrecedingNewLines:!0}):eq({children:[t,t.getNextSiblingIfKindOrThrow(s.SyntaxKind.CommaToken)],removePrecedingSpaces:!0,removePrecedingNewLines:!0})),this}getNamespaceImportOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getNamespaceImport(),e??"Expected to find a namespace import.",this)}getNamespaceImport(){return this.getImportClause()?.getNamespaceImport()??void 0}addNamedImport(e){return this.addNamedImports([e])[0]}addNamedImports(e){return this.insertNamedImports(this.getNamedImports().length,e)}insertNamedImport(e,t){return this.insertNamedImports(e,[t])[0]}insertNamedImports(e,t){if(!(t instanceof Function)&&s.ArrayUtils.isNullOrEmpty(t))return[];let r=this.getNamedImports(),i=this._getWriterWithQueuedIndentation(),n=this._context.structurePrinterFactory.forNamedImportExportSpecifier(),o=this.getImportClause();if(e=ex(e,r.length),0===r.length)if(n.printTextsWithBraces(i,t),null==o)eV({insertPos:this.getFirstChildByKindOrThrow(s.SyntaxKind.ImportKeyword).getEnd(),parent:this,newText:` ${i.toString()} from`});else if(null!=this.getNamespaceImport())throw so();else if(null!=o.getNamedBindings()){let e=o.getNamedBindingsOrThrow();eV({insertPos:e.getStart(),replacing:{textLength:e.getWidth()},parent:o,newText:i.toString()})}else eV({insertPos:this.getDefaultImport().getEnd(),parent:o,newText:`, ${i.toString()}`});else{if(null==o)throw new s.errors.NotImplementedError("Expected to have an import clause.");n.printTexts(i,t),e$({parent:o.getFirstChildByKindOrThrow(s.SyntaxKind.NamedImports).getFirstChildByKindOrThrow(s.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:i.toString(),surroundWithSpaces:this._context.getFormatCodeSettings().insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces,useTrailingCommas:!1})}return eh(r,this.getNamedImports(),e,!1)}getNamedImports(){return this.getImportClause()?.getNamedImports()??[]}removeNamedImports(){let e=this.getImportClause();if(null==e)return this;let t=e.getNamedBindings();if(null==t||t.getKind()!==s.SyntaxKind.NamedImports)return this;let r=this.getDefaultImport();if(null!=r)return eq({children:[r.getNextSiblingIfKindOrThrow(s.SyntaxKind.CommaToken),t]}),this;let i=e.getNextSiblingIfKindOrThrow(s.SyntaxKind.FromKeyword);return eq({children:[e,i],removePrecedingSpaces:!0}),this}getImportClauseOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getImportClause(),e??"Expected to find an import clause.",this)}getImportClause(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.importClause)}setAttributes(e){let t=this.getAttributes();if(t)e?t.setElements(e):t.remove();else if(e){let t=this._context.structurePrinterFactory.forImportAttribute(),r=this._context.createWriter();r.space(),t.printAttributes(r,e),eV({parent:this,newText:r.toString(),insertPos:";"===this.getSourceFile().getFullText()[this.getEnd()-1]?this.getEnd()-1:this.getEnd()})}return this}getAttributes(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.attributes)}set(e){return G(sn.prototype,this,e),null!=e.defaultImport?this.setDefaultImport(e.defaultImport):e.hasOwnProperty(s.nameof(e,"defaultImport"))&&this.removeDefaultImport(),e.hasOwnProperty(s.nameof(e,"namedImports"))&&this.removeNamedImports(),null!=e.namespaceImport?this.setNamespaceImport(e.namespaceImport):e.hasOwnProperty(s.nameof(e,"namespaceImport"))&&this.removeNamespaceImport(),null!=e.namedImports&&(function(e){let t=e.getNodeProperty("importClause"),r=e._getWriterWithQueuedChildIndentation();e._context.structurePrinterFactory.forNamedImportExportSpecifier().printTextsWithBraces(r,[]);let i=r.toString();if(null!=e.getNamespaceImport())throw so();if(null==t)return eV({insertPos:e.getFirstChildByKindOrThrow(s.SyntaxKind.ImportKeyword).getEnd(),parent:e,newText:` ${i} from`});let n=t.getNamedBindings();if(null!=n)return eV({parent:t,newText:i,insertPos:n.getStart(),replacing:{textLength:n.getWidth()}});let o=t.getDefaultImport();null!=o&&eV({insertPos:o.getEnd(),parent:t,newText:`, ${i}`})}(this),this.addNamedImports(e.namedImports)),null!=e.moduleSpecifier&&this.setModuleSpecifier(e.moduleSpecifier),null!=e.isTypeOnly&&this.setIsTypeOnly(e.isTypeOnly),e.hasOwnProperty(s.nameof(e,"attributes"))&&this.setAttributes(e.attributes),this}getStructure(){let e=this.getNamespaceImport(),r=this.getDefaultImport(),i=this.getAttributes();return $(sn.prototype,this,{kind:t.c5n.ImportDeclaration,isTypeOnly:this.isTypeOnly(),defaultImport:r?r.getText():void 0,moduleSpecifier:this.getModuleSpecifier().getLiteralText(),namedImports:this.getNamedImports().map(e=>e.getStructure()),namespaceImport:e?e.getText():void 0,attributes:i?i.getElements().map(e=>e.getStructure()):void 0})}}function so(){return new s.errors.InvalidOperationError("Cannot add a named import to an import declaration that has a namespace import.")}let sa=tT(rb(rF(rL(nc))));class sl extends sa{isTypeOnly(){return this.compilerNode.isTypeOnly??!1}setIsTypeOnly(e){return this.isTypeOnly()===e||(e?eV({parent:this,insertPos:this.getNameNode().getStart(),newText:"type "}):eq({children:[this.getFirstChildByKindOrThrow(s.ts.SyntaxKind.TypeKeyword)],removeFollowingSpaces:!0})),this}getModuleReference(){return this._getNodeFromCompilerNode(this.compilerNode.moduleReference)}isExternalModuleReferenceRelative(){let e=this.getModuleReference();return!!tr.isExternalModuleReference(e)&&e.isRelative()}setExternalModuleReference(e){let t="string"==typeof e?e:this._sourceFile.getRelativePathAsModuleSpecifierTo(e),r=this.getModuleReference();return tr.isExternalModuleReference(r)&&null!=r.getExpression()?r.getExpressionOrThrow().replaceWithText(e=>e.quote(t)):r.replaceWithText(e=>e.write("require(").quote(t).write(")")),this}getExternalModuleReferenceSourceFileOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getExternalModuleReferenceSourceFile(),e??"Expected to find an external module reference's referenced source file.",this)}getExternalModuleReferenceSourceFile(){let e=this.getModuleReference();if(tr.isExternalModuleReference(e))return e.getReferencedSourceFile()}}let sc=tr;class sd extends sc{setName(e){let t=this.getNameNode();return this.getName()===e||(J(e)?t.replaceWithText(e):t.replaceWithText(`"${e.replaceAll('"','\\"')}"`)),this}getName(){let e=this.getNameNode();return e.getKind()===s.ts.SyntaxKind.StringLiteral?e.getLiteralText():e.getText()}getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.propertyName??this.compilerNode.name)}renameAlias(e){if(s.StringUtils.isNullOrWhitespace(e))return this.removeAliasWithRename(),this;let t=this.getAliasNode();return null==t&&(this.setAlias(this.getName()),t=this.getAliasNode()),t.rename(e),this}setAlias(e){if(s.StringUtils.isNullOrWhitespace(e))return this.removeAlias(),this;let t=this.getAliasNode();return null==t?eV({insertPos:this.getNameNode().getEnd(),parent:this,newText:` as ${e}`}):t.replaceWithText(e),this}removeAlias(){let e=this.getAliasNode();return null==e||eq({children:[this.getFirstChildByKindOrThrow(s.SyntaxKind.AsKeyword),e],removePrecedingSpaces:!0,removePrecedingNewLines:!0}),this}removeAliasWithRename(){let e=this.getAliasNode();return null==e||(e.rename(this.getName()),this.removeAlias()),this}getAliasNode(){if(null!=this.compilerNode.propertyName)return this._getNodeFromCompilerNode(this.compilerNode.name)}isTypeOnly(){return this.compilerNode.isTypeOnly}setIsTypeOnly(e){return this.isTypeOnly()===e||(e?eV({insertPos:this.getStart(),parent:this,newText:"type "}):eq({children:[this.getFirstChildByKindOrThrow(s.ts.SyntaxKind.TypeKeyword)],removeFollowingSpaces:!0})),this}getImportDeclaration(){return this.getFirstAncestorByKindOrThrow(s.SyntaxKind.ImportDeclaration)}remove(){let e=this.getImportDeclaration();e.getNamedImports().length>1||null==e.getNamespaceImport()&&null==e.getDefaultImport()?e0(this):e.removeNamedImports()}set(e){return G(sc.prototype,this,e),null!=e.isTypeOnly&&this.setIsTypeOnly(e.isTypeOnly),null!=e.name&&this.setName(e.name),null!=e.alias?this.setAlias(e.alias):e.hasOwnProperty(s.nameof(e,"alias"))&&this.removeAlias(),this}getStructure(){let e=this.getAliasNode();return $(sc.prototype,this,{kind:t.c5n.ImportSpecifier,name:this.getName(),alias:e?e.getText():void 0,isTypeOnly:this.isTypeOnly()})}}let su=nd(nc);class sh extends su{}function sp(e){return class extends e{getParentModuleOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getParentModule(),e??"Expected to find the parent module declaration.",this)}getParentModule(){let e=this.getParentOrThrow();if(tr.isModuleBlock(e)){for(;e.getParentOrThrow().getKind()===s.SyntaxKind.ModuleDeclaration;)e=e.getParentOrThrow();return e}}}}t.hc3=void 0,function(e){e.Namespace="namespace",e.Module="module",e.Global="global"}(t.hc3||(t.hc3={}));let sg=rI(r1(rG(th(sp(nd(rF(Q(tT(rb(rP(rE(rO(nc)))))))))))));class sm extends sg{getName(){let e=this.getNameNodes();return e instanceof Array?e.map(e=>e.getText()).join("."):e.getText()}setName(e){let r="Please open an issue if you really need this and I'll up the priority.";if(e.indexOf(".")>=0)throw new s.errors.NotImplementedError(`Not implemented to set a namespace name to a name containing a period. ${r}`);let i=this.getNameNodes();if(i instanceof Array){var n;if(i.length>1)throw new s.errors.NotImplementedError(`Not implemented to set a namespace name that uses dot notation. ${r}`);"global"!==e&&sy(this),s.StringUtils.isQuoted(e)&&(n=this,n.hasNamespaceKeyword()&&n.setDeclarationKind(t.hc3.Module),n.hasDeclareKeyword()||n.setHasDeclareKeyword(!0)),i[0].replaceWithText(e)}else i.replaceWithText(e);return this}rename(e,t){if(e.indexOf(".")>=0)throw new s.errors.NotSupportedError("Cannot rename a namespace name to a name containing a period.");let r=this.getNameNodes();if(r instanceof Array){if(r.length>1)throw new s.errors.NotSupportedError(`Cannot rename a namespace name that uses dot notation. Rename the individual nodes via .${s.nameof(this,"getNameNodes")}()`);"global"!==e&&sy(this),r[0].rename(e,t)}else tc(r,s.StringUtils.stripQuotes(e),t);return this}getNameNodes(){let e=this.getNameNode();if(tr.isStringLiteral(e))return e;{let e=[],t=this;do e.push(this._getNodeFromCompilerNode(t.compilerNode.name)),t=t.getFirstChildByKind(s.SyntaxKind.ModuleDeclaration);while(null!=t);return e}}hasNamespaceKeyword(){return this.getDeclarationKind()===t.hc3.Namespace}hasModuleKeyword(){return this.getDeclarationKind()===t.hc3.Module}setDeclarationKind(e){if(this.getDeclarationKind()===e)return this;if(e===t.hc3.Global){let e=this.getDeclarationKindKeyword();this.getNameNode().replaceWithText("global"),null!=e&&eq({children:[e],removeFollowingNewLines:!0,removeFollowingSpaces:!0})}else{let t=this.getDeclarationKindKeyword();null!=t?t.replaceWithText(e):eV({parent:this,insertPos:this.getNameNode().getStart(),newText:e+" "})}return this}getDeclarationKind(){let e=this.getFlags();return(e&s.ts.NodeFlags.GlobalAugmentation)!=0?t.hc3.Global:(e&s.ts.NodeFlags.Namespace)!=0?t.hc3.Namespace:t.hc3.Module}getDeclarationKindKeyword(){return this.getFirstChild(e=>e.getKind()===s.SyntaxKind.NamespaceKeyword||e.getKind()===s.SyntaxKind.ModuleKeyword)}set(e){return null!=e.name&&"global"!==e.name&&sy(this),G(sg.prototype,this,e),null!=e.declarationKind&&this.setDeclarationKind(e.declarationKind),this}getStructure(){return $(sg.prototype,this,{kind:t.c5n.Module,declarationKind:this.getDeclarationKind()})}_getInnerBody(){let e=this.getBody();for(;null!=e&&tr.isBodyable(e)&&null==e.compilerNode.statements;)e=e.getBody();return e}}function sy(e){e.getDeclarationKind()===t.hc3.Global&&e.setDeclarationKind(t.hc3.Namespace)}let sx=tr;class sf extends sx{getElements(){return this.compilerNode.elements.map(e=>this._getNodeFromCompilerNode(e))}}let sS=tr;class sT extends sS{getElements(){return this.compilerNode.elements.map(e=>this._getNodeFromCompilerNode(e))}}let sN=rO(tr);class sK extends sN{setName(e){let t=this.getNameNode();return this.getName()===e||(J(e)?t.replaceWithText(e):t.replaceWithText(`"${e.replaceAll('"','\\"')}"`)),this}getName(){let e=this.getNameNode();return e.getKind()===s.ts.SyntaxKind.StringLiteral?e.getLiteralText():e.getText()}getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.name)}}let sw=rO(tr);class sF extends sw{setName(e){let t=this.getNameNode();return t.getText()===e||t.replaceWithText(e),this}getName(){return this.getNameNode().getText()}getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.name)}}class sC extends te{constructor(e,t){super(e,t)}getFileName(){return this.compilerObject.fileName}}function sb(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}t.AzY=void 0,function(e){e[e.NoChange=0]="NoChange",e[e.Updated=1]="Updated",e[e.Deleted=2]="Deleted"}(t.AzY||(t.AzY={})),"function"==typeof SuppressedError&&SuppressedError;let sI=rI(rG(nd(tr)));class sP extends sI{#ev=!1;#e_=new s.EventContainer;#eL=new s.EventContainer;_referenceContainer=new z(this);#ek;#eM;#eW;_hasBom;constructor(e,t){super(e,t,void 0),this.__sourceFile=this;let r=()=>{this.isFromExternalLibrary(),this.#eL.unsubscribe(r)};this.#eL.subscribe(r)}_replaceCompilerNodeFromFactory(e){super._replaceCompilerNodeFromFactory(e),this._context.resetProgram(),this.#ev=!1,this.#e_.fire(this)}_clearInternals(){function e(e){e?.forEach(e=>e._forget())}super._clearInternals(),e(this.#ek),e(this.#eW),e(this.#eM),this.#ek=void 0,this.#eW=void 0,this.#eM=void 0}getFilePath(){return this.compilerNode.fileName}getBaseName(){return s.FileUtils.getBaseName(this.getFilePath())}getBaseNameWithoutExtension(){let e=this.getBaseName(),t=this.getExtension();return e.substring(0,e.length-t.length)}getExtension(){return s.FileUtils.getExtension(this.getFilePath())}getDirectory(){return this._context.compilerFactory.getDirectoryFromCache(this.getDirectoryPath())}getDirectoryPath(){return this._context.fileSystemWrapper.getStandardizedAbsolutePath(s.FileUtils.getDirPath(this.compilerNode.fileName))}getFullText(){return this.compilerNode.text}getLineAndColumnAtPos(e){let t=this.getFullText();return{line:s.StringUtils.getLineNumberAtPos(t,e),column:s.StringUtils.getLengthFromLineStartAtPos(t,e)+1}}getLengthFromLineStartAtPos(e){return s.StringUtils.getLengthFromLineStartAtPos(this.getFullText(),e)}copyToDirectory(e,t){let r="string"==typeof e?e:e.getPath();return this.copy(s.FileUtils.pathJoin(r,this.getBaseName()),t)}copy(e,t={}){this._throwIfIsInMemoryLibFile();let r=this._copyInternal(e,t);return!1===r?this:(r.getDirectoryPath()!==this.getDirectoryPath()&&r._updateReferencesForCopyInternal(this._getReferencesForCopyInternal()),r)}_copyInternal(e,t={}){let{overwrite:r=!1}=t,{compilerFactory:i,fileSystemWrapper:n}=this._context,o=n.getStandardizedAbsolutePath(e,this.getDirectoryPath());return o!==this.getFilePath()&&function(e){try{return i.createSourceFileFromText(o,e.getFullText(),{overwrite:r,markInProject:function(){if(e._isInProject())return!0;let t=i.getSourceFileFromCacheFromFilePath(o);return null!=t&&t._isInProject()}()})}catch(e){if(e instanceof s.errors.InvalidOperationError)throw new s.errors.InvalidOperationError("Did you mean to provide the overwrite option? "+e.message);throw e}}(this)}_getReferencesForCopyInternal(){return Array.from(this._referenceContainer.getLiteralsReferencingOtherSourceFilesEntries())}_updateReferencesForCopyInternal(e){for(let t of e)t[0]=this.getChildSyntaxListOrThrow().getDescendantAtStartWithWidth(t[0].getStart(),t[0].getWidth());sE(e)}async copyImmediately(e,t){let r=this.copy(e,t);return await r.save(),r}copyImmediatelySync(e,t){let r=this.copy(e,t);return r.saveSync(),r}moveToDirectory(e,t){let r="string"==typeof e?e:e.getPath();return this.move(s.FileUtils.pathJoin(r,this.getBaseName()),t)}move(e,t={}){this._throwIfIsInMemoryLibFile();let r=this.getDirectoryPath(),i=this._getReferencesForMoveInternal(),n=this.getFilePath();return this._moveInternal(e,t)&&(this._context.fileSystemWrapper.queueFileDelete(n),this._updateReferencesForMoveInternal(i,r),this._context.lazyReferenceCoordinator.clearDirtySourceFiles(),this._context.lazyReferenceCoordinator.addDirtySourceFile(this)),this}_moveInternal(e,t={}){let{overwrite:r=!1}=t,i=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getDirectoryPath());if(i===this.getFilePath())return!1;let n=!1;if(r){let e=this._context.compilerFactory.getSourceFileFromCacheFromFilePath(i);null!=e&&(n=e._isInProject(),e.forget())}else this._context.compilerFactory.throwIfFileExists(i,"Did you mean to provide the overwrite option?");return e8({newFilePath:i,sourceFile:this}),n&&this._markAsInProject(),this._isInProject()&&this.getDirectory()._markAsInProject(),!0}_getReferencesForMoveInternal(){return{literalReferences:Array.from(this._referenceContainer.getLiteralsReferencingOtherSourceFilesEntries()),referencingLiterals:Array.from(this._referenceContainer.getReferencingLiteralsInOtherSourceFiles())}}_updateReferencesForMoveInternal(e,t){let{literalReferences:r,referencingLiterals:i}=e;t!==this.getDirectoryPath()&&sE(r),sE(i.map(e=>[e,this]))}async moveImmediately(e,t){let r=this.getFilePath(),i=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getDirectoryPath());return this.move(e,t),r!==i?(await this._context.fileSystemWrapper.moveFileImmediately(r,i,this.getFullText()),this.#ev=!0):await this.save(),this}moveImmediatelySync(e,t){let r=this.getFilePath(),i=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getDirectoryPath());return this.move(e,t),r!==i?(this._context.fileSystemWrapper.moveFileImmediatelySync(r,i,this.getFullText()),this.#ev=!0):this.saveSync(),this}delete(){this._throwIfIsInMemoryLibFile();let e=this.getFilePath();this.forget(),this._context.fileSystemWrapper.queueFileDelete(e)}async deleteImmediately(){this._throwIfIsInMemoryLibFile();let e=this.getFilePath();this.forget(),await this._context.fileSystemWrapper.deleteFileImmediately(e)}deleteImmediatelySync(){this._throwIfIsInMemoryLibFile();let e=this.getFilePath();this.forget(),this._context.fileSystemWrapper.deleteFileImmediatelySync(e)}async save(){this._isLibFileInMemory()||(await this._context.fileSystemWrapper.writeFile(this.getFilePath(),this.#eB()),this.#ev=!0)}saveSync(){this._isLibFileInMemory()||(this._context.fileSystemWrapper.writeFileSync(this.getFilePath(),this.#eB()),this.#ev=!0)}#eB(){let e=this.getFullText();return this._hasBom?"\uFEFF"+e:e}getPathReferenceDirectives(){return null==this.#ek&&(this.#ek=(this.compilerNode.referencedFiles||[]).map(e=>new sC(e,this))),this.#ek}getTypeReferenceDirectives(){return null==this.#eW&&(this.#eW=(this.compilerNode.typeReferenceDirectives||[]).map(e=>new sC(e,this))),this.#eW}getLibReferenceDirectives(){return null==this.#eM&&(this.#eM=(this.compilerNode.libReferenceDirectives||[]).map(e=>new sC(e,this))),this.#eM}getReferencingSourceFiles(){return Array.from(this._referenceContainer.getDependentSourceFiles())}getReferencingNodesInOtherSourceFiles(){let e=this.getReferencingLiteralsInOtherSourceFiles();return Array.from(function*(){for(let t of e)yield sD(t)}())}getReferencingLiteralsInOtherSourceFiles(){return Array.from(this._referenceContainer.getReferencingLiteralsInOtherSourceFiles())}getReferencedSourceFiles(){let e=this._referenceContainer.getLiteralsReferencingOtherSourceFilesEntries();return Array.from(new Set(function*(){for(let[,t]of e)yield t}()).values())}getNodesReferencingOtherSourceFiles(){let e=this._referenceContainer.getLiteralsReferencingOtherSourceFilesEntries();return Array.from(function*(){for(let[t]of e)yield sD(t)}())}getLiteralsReferencingOtherSourceFiles(){let e=this._referenceContainer.getLiteralsReferencingOtherSourceFilesEntries();return Array.from(function*(){for(let[t]of e)yield t}())}getImportStringLiterals(){return this._ensureBound(),(this.compilerNode.imports||[]).filter(e=>-1!==e.pos).map(e=>this._getNodeFromCompilerNode(e))}getLanguageVersion(){return this.compilerNode.languageVersion}getLanguageVariant(){return this.compilerNode.languageVariant}getScriptKind(){return this.compilerNode.scriptKind}isDeclarationFile(){return this.compilerNode.isDeclarationFile}isFromExternalLibrary(){return!!this._context.program._isCompilerProgramCreated()&&this._context.program.compilerObject.isSourceFileFromExternalLibrary(this.compilerNode)}isInNodeModules(){return this.getFilePath().indexOf("/node_modules/")>=0}isSaved(){return this.#ev&&!this._isLibFileInMemory()}_setIsSaved(e){this.#ev=e}getPreEmitDiagnostics(){return this._context.getPreEmitDiagnostics(this)}unindent(e,t=1){return this.indent(e,-1*t)}indent(e,t=1){if(0===t)return this;let r=this.getFullText(),i="number"==typeof e?[e,e]:e;s.errors.throwIfRangeOutOfRange(i,[0,r.length],"positionRange");let n=es(r,i[0],e=>e===l.NEWLINE),o=en(r,i[1],e=>e===l.CARRIAGE_RETURN||e===l.NEWLINE),a=s.StringUtils.indent(r.substring(n,o),t,{indentText:this._context.manipulationSettings.getIndentationText(),indentSizeInSpaces:this._context.manipulationSettings._getIndentSizeInSpaces(),isInStringAtPos:e=>this.isInStringAtPos(e+n)});return e3({sourceFile:this,newText:r.substring(0,n)+a+r.substring(o)}),this}emit(e){return this._context.program.emit({targetSourceFile:this,...e})}emitSync(e){return this._context.program.emitSync({targetSourceFile:this,...e})}getEmitOutput(e={}){return this._context.languageService.getEmitOutput(this,e.emitOnlyDtsFiles||!1)}formatText(e={}){e3({sourceFile:this,newText:this._context.languageService.getFormattedDocumentText(this.getFilePath(),e)})}async refreshFromFileSystem(){let e=await this._context.fileSystemWrapper.readFileOrNotExists(this.getFilePath(),this._context.getEncoding());return this.#eR(e)}refreshFromFileSystemSync(){let e=this._context.fileSystemWrapper.readFileOrNotExistsSync(this.getFilePath(),this._context.getEncoding());return this.#eR(e)}getRelativePathTo(e){return this.getDirectory().getRelativePathTo(e)}getRelativePathAsModuleSpecifierTo(e){return this.getDirectory().getRelativePathAsModuleSpecifierTo(e)}onModified(e,t=!0){return t?this.#e_.subscribe(e):this.#e_.unsubscribe(e),this}_doActionPreNextModification(e){let t=()=>{e(),this.#eL.unsubscribe(t)};return this.#eL.subscribe(t),this}_firePreModified(){this.#eL.fire(this)}organizeImports(e={},t={}){return this._context.languageService.organizeImports(this,e,t).forEach(e=>e.applyChanges()),this}fixUnusedIdentifiers(e={},t={}){return this._context.languageService.getCombinedCodeFix(this,"unusedIdentifier_delete",e,t).applyChanges(),this._context.languageService.getCombinedCodeFix(this,"unusedIdentifier_deleteImports",e,t).applyChanges(),this}fixMissingImports(e={},t={}){let r=this._context.languageService.getCombinedCodeFix(this,"fixMissingImport",e,t),i=this;for(let e of r.getChanges()){let t=e.getTextChanges();(function(e){e.sort((e,t)=>e.getSpan().getStart()-t.getSpan().getStart());for(let t=0;t<e.length-1;t++){let{compilerObject:r}=e[t];r.newText=r.newText.replace(/(\r?)\n\r?\n$/,"$1\n")}})(t),function(e){let t=s.ArrayUtils.groupBy(e,e=>e.getSpan().getStart()),r=0;for(let e of t){let t=e[0].getSpan().getStart()+r,n=e.map(e=>e.getNewText()).join(""),{insertPos:s,newText:o,sourceFile:a}={sourceFile:i,insertPos:t,newText:n};ez(a,new ek({insertPos:s,newText:o}),new eO().getForRange({sourceFile:a,start:s,end:s+o.length})),r+=n.length}}(t)}return this}applyTextChanges(e){return 0===e.length||(this.forgetDescendants(),e2({sourceFile:this._sourceFile,start:0,replacingLength:this.getFullWidth(),newText:ee(this,e)})),this}set(e){return G(sI.prototype,this,e),this}getStructure(){return $(sI.prototype,this,{kind:t.c5n.SourceFile})}#eR(e){return!1===e?(this.forget(),t.AzY.Deleted):e===this.getFullText()?t.AzY.NoChange:(this.replaceText([0,this.getEnd()],e),this._setIsSaved(!0),t.AzY.Updated)}_isLibFileInMemory(){return this.compilerNode.fileName.startsWith(s.libFolderInMemoryPath)}_throwIfIsInMemoryLibFile(){if(this._isLibFileInMemory())throw new s.errors.InvalidOperationError("This operation is not permitted on an in memory lib folder file.")}_isInProject(){return this._context.inProjectCoordinator.isSourceFileInProject(this)}_markAsInProject(){this._context.inProjectCoordinator.markSourceFileAsInProject(this)}}function sE(e){for(let[t,r]of e)O.isModuleSpecifierRelative(t.getLiteralText())&&t.setLiteralValue(t._sourceFile.getRelativePathAsModuleSpecifierTo(r))}function sD(e){let t=e.getParentOrThrow(),r=t.getParent();return null!=r&&tr.isImportEqualsDeclaration(r)?r:t}sb([s.Memoize],sP.prototype,"isFromExternalLibrary",null);let sO=sp(rF(Q(tT(rb(nc)))));class sA extends sO{getDeclarationList(){return this._getNodeFromCompilerNode(this.compilerNode.declarationList)}getDeclarations(){return this.getDeclarationList().getDeclarations()}getDeclarationKind(){return this.getDeclarationList().getDeclarationKind()}getDeclarationKindKeywords(){return this.getDeclarationList().getDeclarationKindKeywords()}setDeclarationKind(e){return this.getDeclarationList().setDeclarationKind(e)}addDeclaration(e){return this.getDeclarationList().addDeclaration(e)}addDeclarations(e){return this.getDeclarationList().addDeclarations(e)}insertDeclaration(e,t){return this.getDeclarationList().insertDeclaration(e,t)}insertDeclarations(e,t){return this.getDeclarationList().insertDeclarations(e,t)}set(e){if(G(sO.prototype,this,e),null!=e.declarationKind&&this.setDeclarationKind(e.declarationKind),null!=e.declarations){let t=this.getDeclarations();this.addDeclarations(e.declarations),t.forEach(e=>e.remove())}return this}getStructure(){return $(sO.prototype,this,{kind:t.c5n.VariableStatement,declarationKind:this.getDeclarationKind(),declarations:this.getDeclarations().map(e=>e.getStructure())})}}let sv=il(nI);class s_ extends sv{}let sL=il(nc);class sk extends sL{getStatement(){return this._getNodeFromCompilerNode(this.compilerNode.statement)}}function sM(e){return rF(r0(rV(nd(rb(e)))))}let sW=rG(tu(e6(sM(r6))));class sB extends sW{getEqualsGreaterThan(){return this._getNodeFromCompilerNode(this.compilerNode.equalsGreaterThanToken)}}function sR(e){return class extends e{getOverloads(){return sj(this).filter(e=>e.isOverload())}getImplementation(){return this.isImplementation()?this:sj(this).find(e=>e.isImplementation())}getImplementationOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getImplementation(),e??"Expected to find a corresponding implementation for the overload.",this)}isOverload(){return!this.isImplementation()}isImplementation(){return null!=this.getBody()}}}function sj(e){let t=e.getParentOrThrow(),r=sJ(e),i=sU(e),n=e.getKind();return t.forEachChildAsArray().filter(e=>sJ(e)===r&&e.getKind()===n&&sU(e)===i)}function sJ(e){if(e.getName instanceof Function)return e.getName()}function sU(e){return e.isStatic instanceof Function&&e.isStatic()}function sz(e){if(0===e.structures.length)return[];let t=e.node.getParentSyntaxListOrThrow(),r=e.node.getImplementation()||e.node,i=e.node.getOverloads(),n=i.length,s=i.length>0?i[0].getChildIndex():r.getChildIndex(),o=ex(e.index,n),a=e.getThisStructure(r),l=e.structures.map(e=>Object.assign(Object.assign({},a),e)),c=r._getWriterWithQueuedIndentation();for(let t of l)c.getLength()>0&&c.newLine(),e.printStructure(c,t);return c.newLine(),c.write(""),eV({parent:t,insertPos:(i[o]||r).getNonWhitespaceStart(),newText:c.toString()}),ep(t.getChildren(),s+o,l.length,e.expectedSyntaxKind)}let sV=r1(rG(sR(th(e6(rT(Q(tT(sM(sp(rv(nc))))))))))),s$=r1(rG(e6(rT(rV(Q(sp(rF(r0(tT(rb(nc)))))))))));class sG extends sV{addOverload(e){return this.addOverloads([e])[0]}addOverloads(e){return this.insertOverloads(this.getOverloads().length,e)}insertOverload(e,t){return this.insertOverloads(e,[t])[0]}insertOverloads(e,t){let r=this.getName(),i=this._context.structurePrinterFactory.forFunctionDeclaration({isAmbient:this.isAmbient()});return sz({node:this,index:e,structures:t,printStructure:(e,t)=>{i.printOverload(e,r,t)},getThisStructure:em,expectedSyntaxKind:s.SyntaxKind.FunctionDeclaration})}remove(){this.isOverload()?eq({children:[this],removeFollowingSpaces:!0,removeFollowingNewLines:!0}):e1([...this.getOverloads(),this])}set(e){return G(sV.prototype,this,e),null!=e.overloads&&(this.getOverloads().forEach(e=>e.remove()),this.addOverloads(e.overloads)),this}getStructure(){var e;let r=this.isOverload(),i=this.getImplementation();return $(r&&i?s$.prototype:sV.prototype,this,(e=this,i&&r?{kind:t.c5n.FunctionOverload}:i?{kind:t.c5n.Function,overloads:e.getOverloads().map(e=>e.getStructure())}:{kind:t.c5n.Function}))}}let sQ=rF(rG(tu(e6(rT(nd(r0(rV(rb(rv(is))))))))));class sH extends sQ{}let sq=rM(rB(tg(function(e){return class extends e{getScope(){let e=rJ(this);return null!=e?e:tr.isParameterDeclaration(this)&&this.isReadonly()?t.HGh.Public:void 0}setScope(e){return rU(this,e),this}getScopeKeyword(){return this.getModifiers().find(e=>{let t=e.getText();return"public"===t||"protected"===t||"private"===t})}hasScopeKeyword(){return null!=this.getScopeKeyword()}set(t){return G(e.prototype,this,t),t.hasOwnProperty(s.nameof(t,"scope"))&&this.setScope(t.scope),this}getStructure(){return $(e.prototype,this,{scope:this.getScope()})}}}(rR(rb(ty(rq(rw(rA(tr))))))))));class sY extends sq{isRestParameter(){return null!=this.compilerNode.dotDotDotToken}isParameterProperty(){return null!=this.getScope()||this.isReadonly()||this.hasOverrideKeyword()}setIsRestParameter(e){return this.isRestParameter()===e||(e?(sX(this),eV({insertPos:this.getNameNode().getStart(),parent:this,newText:"..."})):eq({children:[this.getDotDotDotTokenOrThrow()]})),this}isOptional(){return null!=this.compilerNode.questionToken||this.isRestParameter()||this.hasInitializer()}remove(){e0(this)}set(e){return G(sq.prototype,this,e),null!=e.isRestParameter&&this.setIsRestParameter(e.isRestParameter),this}getStructure(){return $(sq.prototype,this,{kind:t.c5n.Parameter,isRestParameter:this.isRestParameter()})}setHasQuestionToken(e){return e&&sX(this),super.setHasQuestionToken(e),this}setInitializer(e){return sX(this),super.setInitializer(e),this}setType(e){return sX(this),super.setType.call(this,e),this}}function sX(e){let t=e.getParentOrThrow();tr.isArrowFunction(t)&&1===t.compilerNode.parameters.length&&null==e.getParentSyntaxListOrThrow().getPreviousSiblingIfKind(s.SyntaxKind.OpenParenToken)&&function(){let r=e.getText();eV({parent:t,insertPos:e.getStart(),newText:`(${r})`,replacing:{textLength:r.length},customMappings:t=>[{currentNode:e,newNode:t.parameters[0]}]})}()}class sZ extends tr{remove(){let e=this.getParentOrThrow();if(tr.isClassDeclaration(e)||tr.isClassExpression(e))if(tr.isOverloadable(this))if(this.isImplementation())eX([...this.getOverloads(),this]);else{let e=this.getParentOrThrow();tr.isAmbientable(e)&&e.isAmbient()?eX([this]):eq({children:[this],removeFollowingSpaces:!0,removeFollowingNewLines:!0})}else eX([this]);else tr.isObjectLiteralExpression(e)?e0(this):tr.isInterfaceDeclaration(e)?eZ([this]):s.errors.throwNotImplementedForSyntaxKindError(e.getKind())}}let s0=tp(rG(rM(sR(th(tg(r9(rz(rB(r$(e6(rT(sM(rk(sZ)))))))))))))),s1=rF(tp(rG(rM(rz(r0(r9(rB(r$(e6(rb(rT(rV(sZ)))))))))))));class s5 extends s0{set(e){return G(s0.prototype,this,e),null!=e.overloads&&(this.getOverloads().forEach(e=>e.remove()),this.addOverloads(e.overloads)),this}addOverload(e){return this.addOverloads([e])[0]}addOverloads(e){return this.insertOverloads(this.getOverloads().length,e)}insertOverload(e,t){return this.insertOverloads(e,[t])[0]}insertOverloads(e,t){let r=this.getName(),i=this._context.structurePrinterFactory.forMethodDeclaration({isAmbient:E(this)});return sz({node:this,index:e,structures:t,printStructure:(e,t)=>{i.printOverload(e,r,t)},getThisStructure:ey,expectedSyntaxKind:s.SyntaxKind.MethodDeclaration})}getStructure(){var e;let r=null!=this.getImplementation(),i=this.isOverload();return $(i&&r?s1.prototype:s0.prototype,this,(e=this,r&&i?{kind:t.c5n.MethodOverload}:r?{kind:t.c5n.Method,overloads:e.getOverloads().map(e=>e.getStructure())}:{kind:t.c5n.Method}))}}function s2(e){var t;return function(e){return class extends e{setExtends(e){if(e=this._getTextWithQueuedChildIndentation(e),s.StringUtils.isNullOrWhitespace(e))return this.removeExtends();let t=this.getHeritageClauseByKind(s.SyntaxKind.ExtendsKeyword);if(null!=t){let r=t.getFirstChildByKindOrThrow(s.SyntaxKind.SyntaxList),i=r.getStart();eV({parent:t,newText:e,insertPos:i,replacing:{textLength:r.getEnd()-i}})}else{let t,r=this.getHeritageClauseByKind(s.SyntaxKind.ImplementsKeyword);t=null!=r?r.getStart():this.getFirstChildByKindOrThrow(s.SyntaxKind.OpenBraceToken).getStart();let i=/\s/.test(this.getSourceFile().getFullText()[t-1]),n=`extends ${e} `;i||(n=" "+n),eV({parent:null==r?this:r.getParentSyntaxListOrThrow(),insertPos:t,newText:n})}return this}removeExtends(){let e=this.getHeritageClauseByKind(s.SyntaxKind.ExtendsKeyword);return null==e||e.removeExpression(0),this}getExtendsOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getExtends(),e??`Expected to find the extends expression for the class ${this.getName()}.`,this)}getExtends(){let e=this.getHeritageClauseByKind(s.SyntaxKind.ExtendsKeyword);if(null==e)return;let t=e.getTypeNodes();return 0===t.length?void 0:t[0]}addMembers(e){return this.insertMembers(ei(this.getMembersWithComments()),e)}addMember(e){return this.insertMember(ei(this.getMembersWithComments()),e)}insertMember(e,t){return this.insertMembers(e,[t])[0]}insertMembers(e,t){let r=E(this);return eH({getIndexedChildren:()=>this.getMembersWithComments(),index:e,parent:this,write:(e,n)=>{let s=!r&&null!=n.previousMember&&tr.isBodyable(n.previousMember)&&n.previousMember.hasBody(),o=!r&&t instanceof Array&&i(t[0]);s||null!=n.previousMember&&o?e.blankLineIfLastNot():e.newLineIfLastNot();let a=this._getWriter();this._context.structurePrinterFactory.forClassMember({isAmbient:r}).printTexts(a,t),e.write(a.toString());let l=!r&&t instanceof Array&&i(t[t.length-1]),c=!r&&null!=n.nextMember&&tr.isBodyable(n.nextMember)&&n.nextMember.hasBody();null!=n.nextMember&&l||c?e.blankLineIfLastNot():e.newLineIfLastNot()}});function i(e){return!r&&null!=e&&"number"==typeof e.kind&&(tL.isMethod(e)||tL.isGetAccessor(e)||tL.isSetAccessor(e)||tL.isConstructor(e))}}addConstructor(e={}){return this.insertConstructor(ei(this.getMembersWithComments()),e)}addConstructors(e){return this.insertConstructors(ei(this.getMembersWithComments()),e)}insertConstructor(e,t={}){return this.insertConstructors(e,[t])[0]}insertConstructors(e,t){let r=E(this);return s7(this,{index:e,structures:t,expectedKind:s.SyntaxKind.Constructor,write:(e,i)=>{r||null==i.previousMember||tr.isCommentNode(i.previousMember)?e.newLineIfLastNot():e.blankLineIfLastNot(),this._context.structurePrinterFactory.forConstructorDeclaration({isAmbient:r}).printTexts(e,t),r||null==i.nextMember?e.newLineIfLastNot():e.blankLineIfLastNot()}})}getConstructors(){return this.getMembers().filter(e=>tr.isConstructorDeclaration(e))}addStaticBlock(e={}){return this.insertStaticBlock(ei(this.getMembersWithComments()),e)}addStaticBlocks(e){return this.insertStaticBlocks(ei(this.getMembersWithComments()),e)}insertStaticBlock(e,t={}){return this.insertStaticBlocks(e,[t])[0]}insertStaticBlocks(e,t){let r=E(this);return s7(this,{index:e,structures:t,expectedKind:s.SyntaxKind.ClassStaticBlockDeclaration,write:(e,i)=>{r||null==i.previousMember||tr.isCommentNode(i.previousMember)?e.newLineIfLastNot():e.blankLineIfLastNot(),this._context.structurePrinterFactory.forClassStaticBlockDeclaration().printTexts(e,t),r||null==i.nextMember?e.newLineIfLastNot():e.blankLineIfLastNot()}})}getStaticBlocks(){return this.getMembers().filter(e=>tr.isClassStaticBlockDeclaration(e))}addGetAccessor(e){return this.addGetAccessors([e])[0]}addGetAccessors(e){return this.insertGetAccessors(ei(this.getMembersWithComments()),e)}insertGetAccessor(e,t){return this.insertGetAccessors(e,[t])[0]}insertGetAccessors(e,t){return s7(this,{index:e,structures:t,expectedKind:s.SyntaxKind.GetAccessor,write:(e,r)=>{null==r.previousMember||tr.isCommentNode(r.previousMember)?e.newLineIfLastNot():e.blankLineIfLastNot(),this._context.structurePrinterFactory.forGetAccessorDeclaration({isAmbient:E(this)}).printTexts(e,t),null!=r.nextMember?e.blankLineIfLastNot():e.newLineIfLastNot()}})}addSetAccessor(e){return this.addSetAccessors([e])[0]}addSetAccessors(e){return this.insertSetAccessors(ei(this.getMembersWithComments()),e)}insertSetAccessor(e,t){return this.insertSetAccessors(e,[t])[0]}insertSetAccessors(e,t){return s7(this,{index:e,structures:t,expectedKind:s.SyntaxKind.SetAccessor,write:(e,r)=>{null==r.previousMember||tr.isCommentNode(r.previousMember)?e.newLineIfLastNot():e.blankLineIfLastNot(),this._context.structurePrinterFactory.forSetAccessorDeclaration({isAmbient:E(this)}).printTexts(e,t),null!=r.nextMember?e.blankLineIfLastNot():e.newLineIfLastNot()}})}addProperty(e){return this.addProperties([e])[0]}addProperties(e){return this.insertProperties(ei(this.getMembersWithComments()),e)}insertProperty(e,t){return this.insertProperties(e,[t])[0]}insertProperties(e,t){return s7(this,{index:e,structures:t,expectedKind:s.SyntaxKind.PropertyDeclaration,write:(e,r)=>{null!=r.previousMember&&tr.hasBody(r.previousMember)?e.blankLineIfLastNot():e.newLineIfLastNot(),this._context.structurePrinterFactory.forPropertyDeclaration().printTexts(e,t),null!=r.nextMember&&tr.hasBody(r.nextMember)?e.blankLineIfLastNot():e.newLineIfLastNot()}})}addMethod(e){return this.addMethods([e])[0]}addMethods(e){return this.insertMethods(ei(this.getMembersWithComments()),e)}insertMethod(e,t){return this.insertMethods(e,[t])[0]}insertMethods(e,t){let r=E(this);return s7(this,{index:e,write:(e,i)=>{r||null==i.previousMember||tr.isCommentNode(i.previousMember)?e.newLineIfLastNot():e.blankLineIfLastNot(),this._context.structurePrinterFactory.forMethodDeclaration({isAmbient:r}).printTexts(e,t),r||null==i.nextMember?e.newLineIfLastNot():e.blankLineIfLastNot()},structures:t=t.map(e=>({...e})),expectedKind:s.SyntaxKind.MethodDeclaration})}getInstanceProperty(e){return c(this.getInstanceProperties(),e)}getInstancePropertyOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getInstanceProperty(e),()=>u("class instance property",e))}getInstanceProperties(){return this.getInstanceMembers().filter(e=>s9(e))}getStaticProperty(e){return c(this.getStaticProperties(),e)}getStaticPropertyOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getStaticProperty(e),()=>u("class static property",e))}getStaticProperties(){return this.getStaticMembers().filter(e=>s9(e))}getProperty(e){return c(this.getProperties(),e)}getPropertyOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getProperty(e),()=>u("class property declaration",e))}getProperties(){return this.getMembers().filter(e=>tr.isPropertyDeclaration(e))}getGetAccessor(e){return c(this.getGetAccessors(),e)}getGetAccessorOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getGetAccessor(e),()=>u("class getAccessor declaration",e))}getGetAccessors(){return this.getMembers().filter(e=>tr.isGetAccessorDeclaration(e))}getSetAccessor(e){return c(this.getSetAccessors(),e)}getSetAccessorOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getSetAccessor(e),()=>u("class setAccessor declaration",e))}getSetAccessors(){return this.getMembers().filter(e=>tr.isSetAccessorDeclaration(e))}getMethod(e){return c(this.getMethods(),e)}getMethodOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getMethod(e),()=>u("class method declaration",e))}getMethods(){return this.getMembers().filter(e=>tr.isMethodDeclaration(e))}getInstanceMethod(e){return c(this.getInstanceMethods(),e)}getInstanceMethodOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getInstanceMethod(e),()=>u("class instance method",e))}getInstanceMethods(){return this.getInstanceMembers().filter(e=>e instanceof s5)}getStaticMethod(e){return c(this.getStaticMethods(),e)}getStaticMethodOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getStaticMethod(e),()=>u("class static method",e))}getStaticMethods(){return this.getStaticMembers().filter(e=>e instanceof s5)}getInstanceMember(e){return c(this.getInstanceMembers(),e)}getInstanceMemberOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getInstanceMember(e),()=>u("class instance member",e))}getInstanceMembers(){return this.getMembersWithParameterProperties().filter(e=>!tr.isConstructorDeclaration(e)&&(tr.isParameterDeclaration(e)||!e.isStatic()))}getStaticMember(e){return c(this.getStaticMembers(),e)}getStaticMemberOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getStaticMember(e),()=>u("class static member",e))}getStaticMembers(){return this.getMembers().filter(e=>!tr.isConstructorDeclaration(e)&&!tr.isParameterDeclaration(e)&&e.isStatic())}getMembersWithParameterProperties(){let e=this.getMembers();for(let t of e.filter(e=>tr.isConstructorDeclaration(e)&&e.isImplementation())){let r=e.indexOf(t)+1;for(let i of t.getParameters())i.isParameterProperty()&&(e.splice(r,0,i),r++)}return e}getMembers(){return s3(this,this.compilerNode.members).filter(e=>s6(e))}getMembersWithComments(){let e=this.compilerNode;return s3(this,F.getContainerArray(e,this.getSourceFile().compilerNode)).filter(e=>s6(e)||tr.isCommentClassElement(e))}getMember(e){return c(this.getMembers(),e)}getMemberOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getMember(e),()=>u("class member",e))}getBaseTypes(){return this.getType().getBaseTypes()}getBaseClassOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getBaseClass(),e??`Expected to find the base class of ${this.getName()}.`,this)}getBaseClass(){let e=this.getBaseTypes().map(e=>e.isIntersection()?e.getIntersectionTypes():[e]).flat().map(e=>e.getSymbol()).filter(e=>null!=e).map(e=>e.getDeclarations()).reduce((e,t)=>e.concat(t),[]).filter(e=>e.getKind()===s.SyntaxKind.ClassDeclaration);if(1===e.length)return e[0]}getDerivedClasses(){let e=s8(this);for(let t=0;t<e.length;t++)for(let r of s8(e[t]))r!==this&&-1===e.indexOf(r)&&e.push(r);return e}}}(rv(rG((t=rN(r9(rF(r0(tg(rb(e)))))),class extends t{getImplements(){let e=this.getHeritageClauseByKind(s.SyntaxKind.ImplementsKeyword);return e?.getTypeNodes()??[]}addImplements(e){return this.insertImplements(this.getImplements().length,e)}insertImplements(e,t){let r=this.getImplements(),i="string"==typeof t;if("string"==typeof t)s.errors.throwIfWhitespaceOrNotString(t,"texts"),t=[t];else if(0===t.length)return[];let n=this._getWriterWithQueuedChildIndentation();new tI(new tz).printText(n,t);let o=this.getHeritageClauses();if(e=ex(e,r.length),r.length>0)e$({parent:this.getHeritageClauseByKindOrThrow(s.SyntaxKind.ImplementsKeyword).getFirstChildByKindOrThrow(s.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:n.toString(),useTrailingCommas:!1});else{let e=this.getFirstChildByKindOrThrow(s.SyntaxKind.OpenBraceToken).getStart(),t=/\s/.test(this.getSourceFile().getFullText()[e-1]),r=`implements ${n.toString()} `;t||(r=" "+r),eV({parent:0===o.length?this:o[0].getParentSyntaxListOrThrow(),insertPos:e,newText:r})}let a=this.getImplements();return i?a[0]:eh(r,a,e,!1)}removeImplements(e){let t=this.getHeritageClauseByKind(s.SyntaxKind.ImplementsKeyword);if(null==t)throw new s.errors.InvalidOperationError("Cannot remove an implements when none exist.");return t.removeExpression(e),this}set(e){return G(t.prototype,this,e),null!=e.implements&&(this.getImplements().forEach(e=>this.removeImplements(e)),this.addImplements(e.implements)),this}getStructure(){return $(t.prototype,this,{implements:this.getImplements().map(e=>e.getText())})}}))))}function s3(e,t){let r=E(e),i=t.map(t=>e._getNodeFromCompilerNode(t));return r?i:i.filter(e=>!!(!(tr.isConstructorDeclaration(e)||tr.isMethodDeclaration(e))||tr.isMethodDeclaration(e)&&e.isAbstract())||e.isImplementation())}function s8(e){let t=[],r=e.getNameNode();if(null==r)return t;for(let e of r.findReferencesAsNodes()){let r=(e=e.getParentWhileKind(s.SyntaxKind.PropertyAccessExpression)??e).getParentIfKind(s.SyntaxKind.ExpressionWithTypeArguments);if(null==r)continue;let i=r.getParentIfKind(s.SyntaxKind.HeritageClause);if(null==i||i.getToken()!==s.SyntaxKind.ExtendsKeyword)continue;let n=i.getParentIfKind(s.SyntaxKind.ClassDeclaration);null!=n&&t.push(n)}return t}function s9(e){return tr.isPropertyDeclaration(e)||tr.isSetAccessorDeclaration(e)||tr.isGetAccessorDeclaration(e)||tr.isParameterDeclaration(e)}function s6(e){return tr.isMethodDeclaration(e)||tr.isPropertyDeclaration(e)||tr.isGetAccessorDeclaration(e)||tr.isSetAccessorDeclaration(e)||tr.isConstructorDeclaration(e)||tr.isClassStaticBlockDeclaration(e)}function s7(e,t){return eQ({getIndexedChildren:()=>e.getMembersWithComments(),parent:e,...t})}let s4=sp(Q(tT(s2(nc))));class oe extends s4{set(e){return G(s4.prototype,this,e),null!=e.extends?this.setExtends(e.extends):e.hasOwnProperty(s.nameof(e,"extends"))&&this.removeExtends(),null!=e.ctors&&(this.getConstructors().forEach(e=>e.remove()),this.addConstructors(e.ctors)),null!=e.staticBlocks&&(this.getStaticBlocks().forEach(e=>e.remove()),this.addStaticBlocks(e.staticBlocks)),null!=e.properties&&(this.getProperties().forEach(e=>e.remove()),this.addProperties(e.properties)),null!=e.getAccessors&&(this.getGetAccessors().forEach(e=>e.remove()),this.addGetAccessors(e.getAccessors)),null!=e.setAccessors&&(this.getSetAccessors().forEach(e=>e.remove()),this.addSetAccessors(e.setAccessors)),null!=e.methods&&(this.getMethods().forEach(e=>e.remove()),this.addMethods(e.methods)),this}getStructure(){let e=this.getExtends(),r=this.isAmbient();return $(s4.prototype,this,{kind:t.c5n.Class,ctors:this.getConstructors().filter(e=>r||!e.isOverload()).map(e=>e.getStructure()),staticBlocks:this.getStaticBlocks().map(e=>e.getStructure()),methods:this.getMethods().filter(e=>r||!e.isOverload()).map(e=>e.getStructure()),properties:this.getProperties().map(e=>e.getStructure()),extends:e?e.getText():void 0,getAccessors:this.getGetAccessors().map(e=>e.getStructure()),setAccessors:this.getSetAccessors().map(e=>e.getStructure())})}extractInterface(e){let{constructors:r,properties:i,methods:n,accessors:s}=ot(this,!1),o=r.map(e=>e.getParameters().filter(e=>e.isParameterProperty())).flat().filter(e=>null!=e.getName()&&e.getScope()===t.HGh.Public);return{kind:t.c5n.Interface,name:or(e,this),docs:this.getJsDocs().map(e=>e.getStructure()),typeParameters:this.getTypeParameters().map(e=>e.getStructure()),properties:[...o.map(e=>{let r=e.getParentOrThrow().getJsDocs().map(e=>e.getTags()).flat().filter(tr.isJSDocParameterTag).filter(t=>"param"===t.getTagName()&&t.getName()===e.getName()&&null!=t.getComment()).map(e=>e.getCommentText().trim())[0];return{kind:t.c5n.PropertySignature,docs:null==r?[]:[{kind:t.c5n.JSDoc,description:r}],name:e.getName(),type:e.getType().getText(e),hasQuestionToken:e.hasQuestionToken(),isReadonly:e.isReadonly()}}),...i.map(oi),...s.map(on)],methods:n.map(os)}}extractStaticInterface(e){let{constructors:r,properties:i,methods:n,accessors:s}=ot(this,!0),o=or(void 0,this);return{kind:t.c5n.Interface,name:e,properties:[...i.map(oi),...s.map(on)],methods:n.map(os),constructSignatures:r.map(e=>({kind:t.c5n.ConstructSignature,docs:e.getJsDocs().map(e=>e.getStructure()),parameters:e.getParameters().map(e=>({...oo(e),scope:void 0,isReadonly:!1})),returnType:o}))}}}function ot(e,r){let i=e.getConstructors().map(e=>e.getOverloads().length>0?e.getOverloads():[e]).flat();return{constructors:i,properties:e.getProperties().filter(e=>e.isStatic()===r&&e.getScope()===t.HGh.Public),methods:e.getMethods().filter(e=>e.isStatic()===r&&e.getScope()===t.HGh.Public).map(e=>e.getOverloads().length>0?e.getOverloads():[e]).flat(),accessors:function(){let i=new s.KeyValueCache;for(let n of[...e.getGetAccessors(),...e.getSetAccessors()])n.isStatic()===r&&n.getScope()===t.HGh.Public&&i.getOrCreate(n.getName(),()=>[]).push(n);return i.getValuesAsArray()}()}}function or(e,t){return(e=s.StringUtils.isNullOrWhitespace(e)?void 0:e)||t.getName()||t.getSourceFile().getBaseNameWithoutExtension().replace(/[^a-zA-Z0-9_$]/g,"")}function oi(e){return{kind:t.c5n.PropertySignature,docs:e.getJsDocs().map(e=>e.getStructure()),name:e.getName(),type:e.getType().getText(e),hasQuestionToken:e.hasQuestionToken(),isReadonly:e.isReadonly()}}function on(e){return{kind:t.c5n.PropertySignature,docs:e[0].getJsDocs().map(e=>e.getStructure()),name:e[0].getName(),type:e[0].getType().getText(e[0]),hasQuestionToken:!1,isReadonly:e.every(tr.isGetAccessorDeclaration)}}function os(e){return{kind:t.c5n.MethodSignature,docs:e.getJsDocs().map(e=>e.getStructure()),name:e.getName(),hasQuestionToken:e.hasQuestionToken(),returnType:e.getReturnType().getText(e),parameters:e.getParameters().map(oo),typeParameters:e.getTypeParameters().map(e=>e.getStructure())}}function oo(e){return{...e.getStructure(),decorators:[]}}let oa=s2(is);class ol extends oa{}let oc=tp(rG(nd(rF(tu(sZ)))));class od extends oc{getName(){return"static"}isStatic(){return!0}set(e){return G(oc.prototype,this,e),this}getStructure(){return $(oc.prototype,this,{kind:t.c5n.ClassStaticBlock})}}class ou extends sZ{}let oh=rE(tp(rG(sR(rz(sM(th(sZ))))))),op=r0(rF(tp(rG(rz(rb(rV(sZ)))))));class og extends oh{set(e){return G(oh.prototype,this,e),null!=e.overloads&&(this.getOverloads().forEach(e=>e.remove()),this.addOverloads(e.overloads)),this}addOverload(e){return this.addOverloads([e])[0]}addOverloads(e){return this.insertOverloads(this.getOverloads().length,e)}insertOverload(e,t){return this.insertOverloads(e,[t])[0]}insertOverloads(e,t){let r=this._context.structurePrinterFactory.forConstructorDeclaration({isAmbient:E(this)});return sz({node:this,index:e,structures:t,printStructure:(e,t)=>{r.printOverload(e,t)},getThisStructure:eg,expectedSyntaxKind:s.SyntaxKind.Constructor})}getStructure(){var e;let r=null!=this.getImplementation(),i=this.isOverload();return $(i&&r?op.prototype:oh.prototype,this,(e=this,r&&i?{kind:t.c5n.ConstructorOverload}:r?{kind:t.c5n.Constructor,overloads:e.getOverloads().map(e=>e.getStructure())}:{kind:t.c5n.Constructor}))}}let om=tp(rG(tg(r9(rz(r$(sM(th(rk(sZ)))))))));class oy extends om{set(e){return G(om.prototype,this,e),this}getSetAccessor(){let e=this.getName(),t=this.isStatic();return this.getParentOrThrow().forEachChild(r=>{if(tr.isSetAccessorDeclaration(r)&&r.getName()===e&&r.isStatic()===t)return r})}getSetAccessorOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getSetAccessor(),e??(()=>`Expected to find a corresponding set accessor for ${this.getName()}.`),this)}getStructure(){return $(om.prototype,this,{kind:t.c5n.GetAccessor})}}let ox=tp(rM(Q(tg(r9(rz(r$(rF(rR(tx(rB(rw(rq(rk(rb(sZ)))))))))))))));class of extends ox{hasAccessorKeyword(){return this.hasModifier(s.SyntaxKind.AccessorKeyword)}setHasAccessorKeyword(e){return this.toggleModifier("accessor",e)}set(e){return G(ox.prototype,this,e),null!=e.hasAccessorKeyword&&this.setHasAccessorKeyword(e.hasAccessorKeyword),this}remove(){let e=this.getParentOrThrow();if(e.getKind()===s.SyntaxKind.ClassDeclaration)super.remove();else throw new s.errors.NotImplementedError(`Not implemented parent syntax kind: ${e.getKindName()}`)}getStructure(){return $(ox.prototype,this,{kind:t.c5n.Property,hasAccessorKeyword:this.hasAccessorKeyword()})}}let oS=tp(rG(tg(r9(rz(r$(sM(th(rk(sZ)))))))));class oT extends oS{set(e){return G(oS.prototype,this,e),this}getGetAccessor(){let e=this.getName(),t=this.isStatic();return this.getParentOrThrow().forEachChild(r=>{if(tr.isGetAccessorDeclaration(r)&&r.getName()===e&&r.isStatic()===t)return r})}getGetAccessorOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getGetAccessor(),e??(()=>`Expected to find a corresponding get accessor for ${this.getName()}.`),this)}getStructure(){return $(oS.prototype,this,{kind:t.c5n.SetAccessor})}}let oN=il(tr);class oK extends oN{getName(){return this.getNameNode().getText()}getNameNode(){let e=this.getCallExpression();if(e)return t(e.getExpression());return t(this._getInnerExpression());function t(e){var t;let r=(t=e,tr.isPropertyAccessExpression(t)?t.getNameNode():t);if(!tr.isIdentifier(r))throw new s.errors.NotImplementedError(`Expected the decorator expression '${r.getText()}' to be an identifier. Please deal directly with 'getExpression()' on the decorator to handle more complex scenarios.`);return r}}getFullName(){let e=this.getSourceFile();return this.isDecoratorFactory()?this.getCallExpression().getExpression().getText():this.compilerNode.expression.getText(e.compilerNode)}isDecoratorFactory(){return tr.isCallExpression(this._getInnerExpression())}setIsDecoratorFactory(e){if(this.isDecoratorFactory()===e)return this;if(e){let e=this._getInnerExpression(),t=e.getText();eV({parent:this,insertPos:e.getStart(),newText:`${t}()`,replacing:{textLength:t.length},customMappings:t=>[{currentNode:e,newNode:t.expression.expression}]})}else{let e=this.getCallExpressionOrThrow(),t=e.getExpression(),r=t.getText();eV({parent:this,insertPos:e.getStart(),newText:`${r}`,replacing:{textLength:e.getWidth()},customMappings:e=>[{currentNode:t,newNode:e.expression}]})}return this}getCallExpressionOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getCallExpression(),e??"Expected to find a call expression.",this)}getCallExpression(){let e=this._getInnerExpression();return tr.isCallExpression(e)?e:void 0}getArguments(){return this.getCallExpression()?.getArguments()??[]}getTypeArguments(){return this.getCallExpression()?.getTypeArguments()??[]}addTypeArgument(e){return this.getCallExpressionOrThrow().addTypeArgument(e)}addTypeArguments(e){return this.getCallExpressionOrThrow().addTypeArguments(e)}insertTypeArgument(e,t){return this.getCallExpressionOrThrow().insertTypeArgument(e,t)}insertTypeArguments(e,t){return this.getCallExpressionOrThrow().insertTypeArguments(e,t)}removeTypeArgument(e){let t=this.getCallExpression();if(null==t)throw new s.errors.InvalidOperationError("Cannot remove a type argument from a decorator that has no type arguments.");return t.removeTypeArgument(e),this}addArgument(e){return this.addArguments([e])[0]}addArguments(e){return this.insertArguments(this.getArguments().length,e)}insertArgument(e,t){return this.insertArguments(e,[t])[0]}insertArguments(e,t){return this.setIsDecoratorFactory(!0),this.getCallExpressionOrThrow().insertArguments(e,t)}removeArgument(e){let t=this.getCallExpression();if(null==t)throw new s.errors.InvalidOperationError("Cannot remove an argument from a decorator that has no arguments.");return t.removeArgument(e),this}remove(){let e=this.getStartLinePos(),t=this.getPreviousSiblingIfKind(s.SyntaxKind.Decorator);null!=t&&t.getStartLinePos()===e?eq({children:[this],removePrecedingSpaces:!0}):function(e){let{children:t}=e;if(0===t.length)return;let r=t[0].getParentSyntaxListOrThrow();r.getChildCount()===t.length?eY({children:[r],getSiblingFormatting:()=>n.None}):eY(e)}({children:[this],getSiblingFormatting:(t,r)=>r.getStartLinePos()===e?n.Space:n.Newline})}_getInnerExpression(){let e=this.getExpression();for(;tr.isParenthesizedExpression(e);)e=e.getExpression();return e}set(e){return G(oN.prototype,this,e),null!=e.name&&this.getNameNode().replaceWithText(e.name),null!=e.arguments&&(this.setIsDecoratorFactory(!0),this.getArguments().map(e=>this.removeArgument(e)),this.addArguments(e.arguments)),null!=e.typeArguments&&e.typeArguments.length>0&&(this.setIsDecoratorFactory(!0),this.getTypeArguments().map(e=>this.removeTypeArgument(e)),this.addTypeArguments(e.typeArguments)),this}getStructure(){let e=this.isDecoratorFactory();return $(oN.prototype,this,{kind:t.c5n.Decorator,name:this.getName(),arguments:e?this.getArguments().map(e=>e.getText()):void 0,typeArguments:e?this.getTypeArguments().map(e=>e.getText()):void 0})}}function ow(e){return class extends e{getTypeExpression(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.typeExpression)}getTypeExpressionOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getTypeExpression(),e??"Expected to find a JS doc type expression.",this)}getName(){return this.getNameNode().getText()}getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.name)}isBracketed(){return this.compilerNode.isBracketed}}}function oF(e){return class extends e{getTypeExpression(){let e=this._getNodeFromCompilerNodeIfExists(this.compilerNode.typeExpression);if(null==e||0!==e.getWidth())return e}getTypeExpressionOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getTypeExpression(),e??"Expected to find the JS doc tag's type expression.",this)}}}function oC(e){return e.replace(/^\/\*\*[^\S\n]*\n?/,"").replace(/(\r?\n)?[^\S\n]*\*\/$/,"").split(/\n/).map(e=>{let t=function(e){for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r===l.ASTERISK)return t;if(!s.StringUtils.isWhitespaceCharCode(r))break}return -1}(e);if(-1===t)return e;let r=" "===e[t+1]?t+2:t+1;return e.substring(r)}).join("\n")}let ob=tr;class oI extends ob{isMultiLine(){return this.getText().includes("\n")}getTags(){return this.compilerNode.tags?.map(e=>this._getNodeFromCompilerNode(e))??[]}getInnerText(){return oC(this.getText())}getComment(){return null==this.compilerNode.comment?void 0:"string"==typeof this.compilerNode.comment?this.compilerNode.comment:this.compilerNode.comment.map(e=>this._getNodeFromCompilerNodeIfExists(e))}getCommentText(){return"string"==typeof this.compilerNode.comment?this.compilerNode.comment:s.ts.getTextOfJSDocComment(this.compilerNode.comment)}getDescription(){let e=this.getSourceFile().getFullText(),t=this.getTags()[0]?.getStart()??this.getEnd()-2,r=function(t){let r=t.getStart()+3;return e.charCodeAt(r)===l.SPACE?r+1:r}(this);return oC(e.substring(r,Math.max(r,function(){let r=es(e,t,e=>e===l.NEWLINE||!s.StringUtils.isWhitespaceCharCode(e)&&e!==l.ASTERISK);return es(e,r,e=>e!==l.NEWLINE&&e!==l.CARRIAGE_RETURN)}())))}setDescription(e){let t=this.getTags(),r=this.getStart()+3,i=t.length>0?es(this._sourceFile.getFullText(),t[0].getStart(),e=>e===l.ASTERISK)-1:this.getEnd()-2,{replacePos:n,replacingLength:s,newText:o,parent:a}={parent:this,newText:(function(){let t=this.getIndentationText(),r=this._context.manipulationSettings.getNewLineKindAsString(),i=k(this._getWriter(),e).split(/\r?\n/),n=0===i[0].length,s=1===i.length&&(this.compilerNode.tags?.length??0)===0,o=s?i[0]:i.map(e=>0===e.length?`${t} *`:`${t} * ${e}`).slice(+!!n).join(r);return s?" "+o+" ":r+o+r+t+" "}).call(this),replacePos:r,replacingLength:i-r};return ez(a._sourceFile,new ek({insertPos:n,replacingLength:s,newText:o}),new eO().getForParentRange({parent:a,start:n,end:n+o.length})),this}addTag(e){return this.addTags([e])[0]}addTags(e){return this.insertTags(this.compilerNode.tags?.length??0,e)}insertTag(e,t){return this.insertTags(e,[t])[0]}insertTags(e,t){if(s.ArrayUtils.isNullOrEmpty(t))return[];let r=this._getWriterWithQueuedIndentation(),i=this.getTags();if(e=ex(e,i.length),0!==i.length||this.isMultiLine()){let n=this._context.structurePrinterFactory.forJSDocTag({printStarsOnNewLine:!0});r.newLine().write(" * "),n.printTexts(r,t),r.newLine().write(" *"),r.conditionalWrite(e<i.length," ");let o=(function(){let t=e<i.length?i[e].getStart():this.getEnd()-2;return Math.max(this.getStart()+3,es(this.getSourceFile().getFullText(),t,e=>!s.StringUtils.isWhitespaceCharCode(e)&&e!==l.ASTERISK))}).call(this);eV({parent:this,insertPos:o,replacing:{textLength:(function(){return e<i.length?i[e].getStart():this.getEnd()-1}).call(this)-o},newText:r.toString()})}else{let e=this._context.structurePrinterFactory.forJSDoc();this.replaceWithText(r=>{e.printText(r,{description:this.getDescription(),tags:t})})}return eh(i,this.getTags(),e,!1)}remove(){eq({children:[this],removeFollowingSpaces:!0,removeFollowingNewLines:!0})}set(e){return(G(ob.prototype,this,e),null!=e.tags)?this.replaceWithText(t=>{this._context.structurePrinterFactory.forJSDoc().printText(t,{description:e.description??this.getDescription(),tags:e.tags})}):(null!=e.description&&this.setDescription(e.description),this)}getStructure(){return $(ob.prototype,this,{kind:t.c5n.JSDoc,description:this.getDescription(),tags:this.getTags().map(e=>e.getStructure())})}}class oP extends tr{}let oE=rH(oP);class oD extends oE{}class oO extends oP{getElementTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.elementType)}}class oA extends oP{getCheckType(){return this._getNodeFromCompilerNode(this.compilerNode.checkType)}getExtendsType(){return this._getNodeFromCompilerNode(this.compilerNode.extendsType)}getTrueType(){return this._getNodeFromCompilerNode(this.compilerNode.trueType)}getFalseType(){return this._getNodeFromCompilerNode(this.compilerNode.falseType)}}let ov=rV(oP);class o_ extends ov{}let oL=r9(rb(o_));class ok extends oL{}let oM=il(oD);class oW extends oM{}let oB=r0(o_);class oR extends oB{}class oj extends oD{setArgument(e){let t=this.getArgument();if(tr.isLiteralTypeNode(t)){let r=t.getLiteral();if(tr.isStringLiteral(r))return r.setLiteralValue(e),this}return t.replaceWithText(t=>t.quote(e),this._getWriterWithQueuedChildIndentation()),this}getArgument(){return this._getNodeFromCompilerNode(this.compilerNode.argument)}setQualifier(e){let t=this.getQualifier();return null!=t?t.replaceWithText(e,this._getWriterWithQueuedChildIndentation()):eV({insertPos:this.getFirstChildByKindOrThrow(s.SyntaxKind.CloseParenToken).getEnd(),parent:this,newText:this._getWriterWithQueuedIndentation().write(".").write(e).toString()}),this}getQualifierOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getQualifier(),e??(()=>`Expected to find a qualifier for the import type: ${this.getText()}`),this)}getQualifier(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.qualifier)}getAttributes(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.attributes)}getAttributesOrThrow(e){return s.errors.throwIfNullOrUndefined(this._getNodeFromCompilerNodeIfExists(this.compilerNode.attributes),e??"Could not find import type assertion container.",this)}}class oJ extends oP{getObjectTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.objectType)}getIndexTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.indexType)}}class oU extends oP{getTypeParameter(){return this._getNodeFromCompilerNode(this.compilerNode.typeParameter)}}class oz extends oP{getTypeNodes(){return this.compilerNode.types.map(e=>this._getNodeFromCompilerNode(e))}}class oV extends oP{getLiteral(){let e=this.compilerNode.literal;return this._getNodeFromCompilerNode(e)}}class o$ extends oP{getNameTypeNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.nameType)}getNameTypeNodeOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getNameTypeNode(),e??"Type did not exist.",this)}getReadonlyToken(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.readonlyToken)}getReadonlyTokenOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getReadonlyToken(),e??"Readonly token did not exist.",this)}getQuestionToken(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.questionToken)}getQuestionTokenOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getQuestionToken(),e??"Question token did not exist.",this)}getTypeParameter(){return this._getNodeFromCompilerNode(this.compilerNode.typeParameter)}getTypeNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.type)}getTypeNodeOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getTypeNode(),e??"Type did not exist, but was expected to exist.",this)}}let oG=rq(rB(ty(rF(rL(oP)))));class oQ extends oG{getTypeNode(){return super.getTypeNode()}removeType(){throw new s.errors.InvalidOperationError("Cannot remove the type of a named tuple member.")}}class oH extends oP{getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}setType(e){return this.getTypeNode().replaceWithText(e),this}}class oq extends oP{getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}}class oY extends oP{getHead(){return this._getNodeFromCompilerNode(this.compilerNode.head)}getTemplateSpans(){return this.compilerNode.templateSpans.map(e=>this._getNodeFromCompilerNode(e))}setLiteralValue(e){let t=this.getChildIndex(),r=this.getParentSyntaxList()??this.getParentOrThrow();return e2({sourceFile:this._sourceFile,start:this.getStart()+1,replacingLength:this.getWidth()-2,newText:e}),r.getChildAtIndex(t)}}class oX extends oP{}class oZ extends oP{getElements(){return this.compilerNode.elements.map(e=>this._getNodeFromCompilerNode(e))}}let o0=r0(rq(rF(Q(tT(rb(rL(nc)))))));class o1 extends o0{set(e){return G(o0.prototype,this,e),this}getStructure(){return $(o0.prototype,this,{kind:t.c5n.TypeAlias,type:this.getTypeNodeOrThrow().getText()})}}let o5=rX(oP);class o2 extends o5{}class o3 extends oP{getOperator(){return this.compilerNode.operator}getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}}t.hVr=void 0,function(e){e[e.None=0]="None",e[e.In=1]="In",e[e.Out=2]="Out",e[e.InOut=3]="InOut"}(t.hVr||(t.hVr={}));let o8=rb(rL(tr));class o9 extends o8{isConst(){return this.hasModifier(s.SyntaxKind.ConstKeyword)}setIsConst(e){return this.toggleModifier("const",e)}getConstraint(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.constraint)}getConstraintOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getConstraint(),e??"Expected to find the type parameter's constraint.",this)}setConstraint(e){if(e=this.getParentOrThrow()._getTextWithQueuedChildIndentation(e),s.StringUtils.isNullOrWhitespace(e))return this.removeConstraint(),this;let t=this.getConstraint();return null!=t?t.replaceWithText(e):eV({parent:this,insertPos:this.getNameNode().getEnd(),newText:` extends ${e}`}),this}removeConstraint(){return o6(this.getConstraint(),s.SyntaxKind.ExtendsKeyword),this}getDefault(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.default)}getDefaultOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getDefault(),e??"Expected to find the type parameter's default.",this)}setDefault(e){if(e=this.getParentOrThrow()._getTextWithQueuedChildIndentation(e),s.StringUtils.isNullOrWhitespace(e))return this.removeDefault(),this;let t=this.getDefault();return null!=t?t.replaceWithText(e):eV({parent:this,insertPos:(this.getConstraint()||this.getNameNode()).getEnd(),newText:` = ${e}`}),this}removeDefault(){return o6(this.getDefault(),s.SyntaxKind.EqualsToken),this}setVariance(e){return this.toggleModifier("in",(e&t.hVr.In)!=0),this.toggleModifier("out",(e&t.hVr.Out)!=0),this}getVariance(){let e=t.hVr.None;return this.hasModifier(s.SyntaxKind.InKeyword)&&(e|=t.hVr.In),this.hasModifier(s.SyntaxKind.OutKeyword)&&(e|=t.hVr.Out),e}remove(){let e=this.getParentSyntaxListOrThrow();1===e.getChildrenOfKind(s.SyntaxKind.TypeParameter).length?eq({children:[e.getPreviousSiblingIfKindOrThrow(s.SyntaxKind.LessThanToken),e,e.getNextSiblingIfKindOrThrow(s.SyntaxKind.GreaterThanToken)]}):e0(this)}set(e){return G(o8.prototype,this,e),null!=e.isConst&&this.setIsConst(e.isConst),null!=e.constraint?this.setConstraint(e.constraint):e.hasOwnProperty(s.nameof(e,"constraint"))&&this.removeConstraint(),null!=e.default?this.setDefault(e.default):e.hasOwnProperty(s.nameof(e,"default"))&&this.removeDefault(),null!=e.variance&&this.setVariance(e.variance),this}getStructure(){let e=this.getConstraint(),r=this.getDefault();return $(o8.prototype,this,{kind:t.c5n.TypeParameter,isConst:this.isConst(),constraint:null!=e?e.getText({trimLeadingIndentation:!0}):void 0,default:r?r.getText({trimLeadingIndentation:!0}):void 0,variance:this.getVariance()})}}function o6(e,t){null!=e&&eq({children:[e.getPreviousSiblingIfKindOrThrow(t),e],removePrecedingSpaces:!0})}class o7 extends oP{getParameterNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.parameterName)}hasAssertsModifier(){return null!=this.compilerNode.assertsModifier}getAssertsModifier(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.assertsModifier)}getAssertsModifierOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getAssertsModifier(),e??"Expected to find an asserts modifier.",this)}getTypeNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.type)}getTypeNodeOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getTypeNode(),e??"Expected to find a type node.",this)}}class o4 extends oD{getExprName(){return this._getNodeFromCompilerNode(this.compilerNode.exprName)}}class ae extends oD{getTypeName(){return this._getNodeFromCompilerNode(this.compilerNode.typeName)}}class at extends oP{getTypeNodes(){return this.compilerNode.types.map(e=>this._getNodeFromCompilerNode(e))}}class ar extends oP{}class ai extends ar{}let an=tr;class as extends an{getTagName(){return this.getTagNameNode().getText()}getTagNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.tagName)}setTagName(e){return this.set({tagName:e})}getComment(){return null==this.compilerNode.comment?void 0:"string"==typeof this.compilerNode.comment?this.compilerNode.comment:this.compilerNode.comment.map(e=>this._getNodeFromCompilerNodeIfExists(e))}getCommentText(){return"string"==typeof this.compilerNode.comment?this.compilerNode.comment:s.ts.getTextOfJSDocComment(this.compilerNode.comment)}remove(){let e=this.getParentOrThrow().getStart()+3,t=al(this),r=null==t,i=(function(){return Math.max(e,ac(this,this.getStart()))}).call(this);eq({children:[this],customRemovalPos:i,customRemovalEnd:aa(this,t),replaceTrivia:(function(){if(i===e&&r)return"";let t=this._context.manipulationSettings.getNewLineKindAsString(),n=this.getParentOrThrow().getIndentationText();return`${t}${n} `+(r?"":"* ")}).call(this)})}set(e){return(G(an.prototype,this,e),null!=e.text||null!=e.tagName)?this.replaceWithText(t=>{this._context.structurePrinterFactory.forJSDocTag({printStarsOnNewLine:!0}).printText(t,{tagName:e.tagName??this.getTagName(),text:null!=e.text?e.text:ao(this)})}):this}replaceWithText(e){var t;let r=k(this._getWriterWithQueuedIndentation(),e),i=this.getParentOrThrow(),n=this.getChildIndex(),s=this.getStart();return eV({parent:i,insertPos:s,newText:r,replacing:{textLength:(t=this,ac(t,aa(t))-s)}}),i.getChildren()[n]}getStructure(){let e=ao(this);return $(an.prototype,this,{kind:t.c5n.JSDocTag,tagName:this.getTagName(),text:0===e.length?void 0:e})}}function ao(e){var t;let r=e.getSourceFile().getFullText(),i=e.getTagNameNode().getEnd(),n=ac(t=e,aa(t)),s=Math.min(r.charCodeAt(i)===l.SPACE?i+1:i,n);return oC(r.substring(s,n))}function aa(e,t){return null!=(t=t??al(e))?t.getStart():e.getParentOrThrow().getEnd()-2}function al(e){let t=e.getParentIfKindOrThrow(s.SyntaxKind.JSDoc).getTags(),r=t.indexOf(e);return t[r+1]}function ac(e,t){return es(e.getSourceFile().getFullText(),t,e=>e!==l.ASTERISK&&!s.StringUtils.isWhitespaceCharCode(e))}class ad extends as{}class au extends as{}class ah extends as{}class ap extends as{}class ag extends as{}class am extends as{}let ay=rV(ar);class ax extends ay{}class af extends as{}class aS extends tr{}class aT extends tr{}class aN extends tr{}class aK extends tr{}class aw extends ar{getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}}class aF extends tr{getName(){return this._getNodeFromCompilerNode(this.compilerNode.name)}}class aC extends ar{getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}isPostfix(){return this.compilerNode.postfix}}class ab extends ar{getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}isPostfix(){return this.compilerNode.postfix}}class aI extends ar{getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}}let aP=oF(as);class aE extends aP{}class aD extends as{}let aO=ow(as);class aA extends aO{}class av extends as{}let a_=ow(as);class aL extends a_{}class ak extends as{}class aM extends as{}class aW extends as{}let aB=oF(as);class aR extends aB{}let aj=oF(as);class aJ extends aj{}let aU=oF(as);class az extends aU{}class aV extends ar{getTypeNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.type)}}class a${#X;constructor(e){this.#X=e}get compilerObject(){return this.#X}getName(){return this.compilerObject.name}getText(){return this.compilerObject.text??[]}}let aG=function(e){return class extends e{getTypeParameters(){return this.compilerNode.typeParameters.map(e=>this._getNodeFromCompilerNode(e)).filter(e=>e.getWidth()>0)}}}(as);class aQ extends aG{getConstraint(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.constraint)}getConstraintOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getConstraint(),e??"Expected to find the JS doc template tag's constraint.",this)}}class aH extends tr{}let aq=oF(as);class aY extends aq{}let aX=oF(as);class aZ extends aX{}class a0 extends as{}class a1 extends oP{getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}}class a5 extends ar{isArrayType(){return this.compilerNode.isArrayType}getPropertyTags(){return this.compilerNode.jsDocPropertyTags?this.compilerNode.jsDocPropertyTags.map(e=>this._getNodeFromCompilerNode(e)):void 0}}class a2 extends as{getTypeExpression(){let e=this.compilerNode.typeExpression;if(null==e||e.pos!==e.end)return this._getNodeFromCompilerNodeIfExists(this.compilerNode.typeExpression)}}class a3 extends as{}class a8 extends ar{}class a9 extends ar{getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}}class a6 extends tr{remove(){eY({children:[this],getSiblingFormatting:()=>n.Newline})}}let a7=rG(sp(rF(Q(tT(rb(rL(nc)))))));class a4 extends a7{set(e){return G(a7.prototype,this,e),null!=e.isConst&&this.setIsConstEnum(e.isConst),null!=e.members&&(this.getMembers().forEach(e=>e.remove()),this.addMembers(e.members)),this}addMember(e){return this.addMembers([e])[0]}addMembers(e){return this.insertMembers(this.getMembers().length,e)}insertMember(e,t){return this.insertMembers(e,[t])[0]}insertMembers(e,t){if(0===t.length)return[];let r=this.getMembersWithComments();e=ex(e,r.length);let i=this._getWriterWithChildIndentation();return this._context.structurePrinterFactory.forEnumMember().printTexts(i,t),e$({parent:this.getChildSyntaxListOrThrow(),currentNodes:r,insertIndex:e,newText:i.toString(),useNewLines:!0,useTrailingCommas:this._context.manipulationSettings.getUseTrailingCommas()}),eh(r,this.getMembersWithComments(),e,!(t instanceof Array&&t.every(e=>"object"==typeof e)))}getMember(e){return c(this.getMembers(),e)}getMemberOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getMember(e),()=>u("enum member",e))}getMembers(){return this.compilerNode.members.map(e=>this._getNodeFromCompilerNode(e))}getMembersWithComments(){let e=this.compilerNode;return F.getContainerArray(e,this.getSourceFile().compilerNode).map(e=>this._getNodeFromCompilerNode(e))}setIsConstEnum(e){return this.toggleModifier("const",e)}isConstEnum(){return null!=this.getConstKeyword()}getConstKeyword(){return this.getFirstModifierByKind(s.SyntaxKind.ConstKeyword)}getStructure(){return $(a7.prototype,this,{kind:t.c5n.Enum,isConst:this.isConstEnum(),members:this.getMembers().map(e=>e.getStructure())})}}let le=rF(rw(rk(tr)));class lt extends le{getValue(){return this._context.typeChecker.getConstantValue(this)}setValue(e){let t;if("string"==typeof e){let r=this._context.manipulationSettings.getQuoteKind();t=r+s.StringUtils.escapeForWithinString(e,r)+r}else t=e.toString();return this.setInitializer(t),this}remove(){let e=[this],t=this.getNextSiblingIfKind(s.SyntaxKind.CommaToken);null!=t&&e.push(t),eY({children:e,getSiblingFormatting:()=>n.Newline})}set(e){return G(le.prototype,this,e),null!=e.value?this.setValue(e.value):e.hasOwnProperty(s.nameof(e,"value"))&&null==e.initializer&&this.removeInitializer(),this}getStructure(){return $(le.prototype,this,{kind:t.c5n.EnumMember,value:void 0})}}class lr extends tr{getTypeNodes(){return this.compilerNode.types?.map(e=>this._getNodeFromCompilerNode(e))??[]}getToken(){return this.compilerNode.token}removeExpression(e){let t=this.getTypeNodes(),r="number"==typeof e?t[ex(e,t.length-1)]:e;if(1===t.length){let e=this.getParentSyntaxListOrThrow().getChildren();1===e.length?eq({children:[e[0].getParentSyntaxListOrThrow()],removePrecedingSpaces:!0}):eq({children:[this],removePrecedingSpaces:!0})}else e0(r);return this}}class li extends tr{remove(){eZ([this])}}let ln=r0(tp(rF(rV(li))));class ls extends ln{set(e){return G(ln.prototype,this,e),this}getStructure(){return $(ln.prototype,this,{kind:t.c5n.CallSignature})}}class lo extends li{}let la=r0(tp(rF(rV(li))));class ll extends la{set(e){return G(la.prototype,this,e),this}getStructure(){return $(la.prototype,this,{kind:t.c5n.ConstructSignature})}}let lc=rj(tp(rF(rR(rb(li)))));class ld extends lc{getKeyName(){return this.getKeyNameNode().getText()}setKeyName(e){s.errors.throwIfWhitespaceOrNotString(e,"name"),this.getKeyName()!==e&&this.getKeyNameNode().replaceWithText(e,this._getWriterWithQueuedChildIndentation())}getKeyNameNode(){let e=this.compilerNode.parameters[0];return this._getNodeFromCompilerNode(e.name)}getKeyType(){return this.getKeyNameNode().getType()}setKeyType(e){s.errors.throwIfWhitespaceOrNotString(e,"type");let t=this.getKeyTypeNode();return t.getText()===e||t.replaceWithText(e,this._getWriterWithQueuedChildIndentation()),this}getKeyTypeNode(){let e=this.compilerNode.parameters[0];return this._getNodeFromCompilerNode(e.type)}set(e){return G(lc.prototype,this,e),null!=e.keyName&&this.setKeyName(e.keyName),null!=e.keyType&&this.setKeyType(e.keyType),this}getStructure(){let e=this.getKeyTypeNode();return $(lc.prototype,this,{kind:t.c5n.IndexSignature,keyName:this.getKeyName(),keyType:e.getText()})}}let lu=rX(rG(function(e){return class extends e{getExtends(){let e=this.getHeritageClauseByKind(s.SyntaxKind.ExtendsKeyword);return e?.getTypeNodes()??[]}addExtends(e){return this.insertExtends(this.getExtends().length,e)}insertExtends(e,t){let r=this.getExtends(),i="string"==typeof t;if("string"==typeof t)s.errors.throwIfWhitespaceOrNotString(t,"texts"),t=[t];else if(0===t.length)return[];let n=this._getWriterWithQueuedChildIndentation();if(new tI(new tz).printText(n,t),e=ex(e,r.length),r.length>0)e$({parent:this.getHeritageClauseByKindOrThrow(s.SyntaxKind.ExtendsKeyword).getFirstChildByKindOrThrow(s.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:n.toString(),useTrailingCommas:!1});else{let e=this.getFirstChildByKindOrThrow(s.SyntaxKind.OpenBraceToken).getStart(),t=/\s/.test(this.getSourceFile().getFullText()[e-1]),r=`extends ${n.toString()} `;t||(r=" "+r),eV({parent:this,insertPos:e,newText:r})}let o=this.getExtends();return i?o[e]:eh(r,o,e,!1)}removeExtends(e){let t=this.getHeritageClauseByKind(s.SyntaxKind.ExtendsKeyword);if(null==t)throw new s.errors.InvalidOperationError("Cannot remove an extends when none exist.");return t.removeExpression(e),this}set(t){return G(e.prototype,this,t),null!=t.extends&&(this.getExtends().forEach(e=>this.removeExtends(e)),this.addExtends(t.extends)),this}getStructure(){return $(e.prototype,this,{extends:this.getExtends().map(e=>e.getText())})}}}(rN(r0(rF(Q(sp(tT(rb(rL(nc)))))))))));class lh extends lu{getBaseTypes(){return this.getType().getBaseTypes()}getBaseDeclarations(){return this.getType().getBaseTypes().map(e=>e.getSymbol()?.getDeclarations()??[]).flat()}getImplementations(){return this.getNameNode().getImplementations()}set(e){return G(lu.prototype,this,e),this}getStructure(){return $(lu.prototype,this,{kind:t.c5n.Interface})}}let lp=tp(rF(rB(r0(rV(rk(li))))));class lg extends lp{set(e){return G(lp.prototype,this,e),this}getStructure(){return $(lp.prototype,this,{kind:t.c5n.MethodSignature})}}let lm=tp(rF(rR(rB(rw(rq(rk(rb(li))))))));class ly extends lm{set(e){return G(lm.prototype,this,e),this}getStructure(){return $(lm.prototype,this,{kind:t.c5n.PropertySignature})}}function lx(e){return class extends e{getAttributes(){return this.compilerNode.attributes.properties.map(e=>this._getNodeFromCompilerNode(e))}getAttributeOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getAttribute(e),()=>u("attribute",e))}getAttribute(e){return c(this.getAttributes(),e)}addAttribute(e){return this.addAttributes([e])[0]}addAttributes(e){return this.insertAttributes(this.compilerNode.attributes.properties.length,e)}insertAttribute(e,t){return this.insertAttributes(e,[t])[0]}insertAttributes(e,t){if(0===t.length)return[];let r=this.compilerNode.attributes.properties.length,i=0===(e=ex(e,r))?this.getTagNameNode().getEnd():this.getAttributes()[e-1].getEnd(),n=this._getWriterWithQueuedChildIndentation();return new tO(this._context.structurePrinterFactory.forJsxAttributeDecider()).printText(n,t),eV({insertPos:i,newText:" "+n.toString(),parent:this.getNodeProperty("attributes").getFirstChildByKindOrThrow(s.SyntaxKind.SyntaxList)}),eh(r,this.getAttributes(),e,!1)}set(t){return G(e.prototype,this,t),null!=t.attributes&&(this.getAttributes().forEach(e=>e.remove()),this.addAttributes(t.attributes)),this}getStructure(){return $(e.prototype,this,{attributes:this.getAttributes().map(e=>e.getStructure())})}}}function lf(e){return class extends e{getTagNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.tagName)}set(t){return G(e.prototype,this,t),null!=t.name&&this.getTagNameNode().replaceWithText(t.name),this}getStructure(){return $(e.prototype,this,{name:this.getTagNameNode().getText()})}}}function lS(e){return class extends e{getText(){return this.compilerNode.text}getDefinitionNodes(){return this.getDefinitions().map(e=>e.getDeclarationNode()).filter(e=>null!=e)}getDefinitions(){return this._context.languageService.getDefinitions(this)}}}let lT=il(tr);class lN extends lT{}let lK=lS(rE(rO(is)));class lw extends lK{getImplementations(){return this._context.languageService.getImplementations(this)}}let lF=lS(rE(rO(tr)));class lC extends lF{}class lb extends tr{getLeft(){return this._getNodeFromCompilerNode(this.compilerNode.left)}getRight(){return this._getNodeFromCompilerNode(this.compilerNode.right)}}let lI=tr;class lP extends lI{getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.name)}setName(e){return this.getNameNode().replaceWithText(t=>{"object"==typeof e?this._context.structurePrinterFactory.forJsxNamespacedName().printText(t,e):t.write(e)}),this}getInitializerOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getInitializer(),e??`Expected to find an initializer for the JSX attribute '${this.getNameNode().getText()}'`,this)}getInitializer(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.initializer)}setInitializer(e){let t=k(this._getWriterWithQueuedIndentation(),e);if(s.StringUtils.isNullOrWhitespace(t))return this.removeInitializer(),this;let r=this.getInitializer();return null!=r?r.replaceWithText(t):eV({insertPos:this.getNameNode().getEnd(),parent:this,newText:`=${t}`}),this}removeInitializer(){let e=this.getInitializer();return null==e||eq({children:[e.getPreviousSiblingIfKindOrThrow(s.SyntaxKind.EqualsToken),e],removePrecedingSpaces:!0,removePrecedingNewLines:!0}),this}remove(){eq({children:[this],removePrecedingNewLines:!0,removePrecedingSpaces:!0})}set(e){return G(lI.prototype,this,e),null!=e.name&&this.setName(e.name),null!=e.initializer?this.setInitializer(e.initializer):e.hasOwnProperty(s.nameof(e,"initializer"))&&this.removeInitializer(),this}getStructure(){let e=this.getInitializer(),r=this.getNameNode();return $(lI.prototype,this,{name:r instanceof lw?r.getText():r.getStructure(),kind:t.c5n.JsxAttribute,initializer:e?.getText()})}}let lE=lf(tr);class lD extends lE{}class lO extends r6{}let lA=is;class lv extends lA{getJsxChildren(){return this.compilerNode.children.map(e=>this._getNodeFromCompilerNode(e))}getOpeningElement(){return this._getNodeFromCompilerNode(this.compilerNode.openingElement)}getClosingElement(){return this._getNodeFromCompilerNode(this.compilerNode.closingElement)}setBodyText(e){return l_(this,e7(this._getWriterWithIndentation(),e)),this}setBodyTextInline(e){let t=this._getWriterWithQueuedChildIndentation();return M(t,e),t.isLastNewLine()&&(t.setIndentationLevel(Math.max(0,this.getIndentationLevel()-1)),t.write("")),l_(this,t.toString()),this}set(e){if(G(lA.prototype,this,e),null!=e.attributes){let t=this.getOpeningElement();t.getAttributes().forEach(e=>e.remove()),t.addAttributes(e.attributes)}if(null!=e.children)throw new s.errors.NotImplementedError("Setting JSX children is currently not implemented. Please open an issue if you need this.");return null!=e.bodyText?this.setBodyText(e.bodyText):e.hasOwnProperty(s.nameof(e,"bodyText"))&&this.setBodyTextInline(""),null!=e.name&&(this.getOpeningElement().getTagNameNode().replaceWithText(e.name),this.getClosingElement().getTagNameNode().replaceWithText(e.name)),this}getStructure(){let e=this.getOpeningElement(),r=$(lA.prototype,this,{kind:t.c5n.JsxElement,name:e.getTagNameNode().getText(),attributes:e.getAttributes().map(e=>e.getStructure()),children:void 0,bodyText:e4(this)});return delete r.children,r}}function l_(e,t){let r=e.getOpeningElement(),i=e.getClosingElement();eV({insertPos:r.getEnd(),newText:t,parent:e.getChildSyntaxListOrThrow(),replacing:{textLength:i.getStart()-r.getEnd()}})}let lL=ia(ty(r6));class lk extends lL{}class lM extends is{getJsxChildren(){return this.compilerNode.children.map(e=>this._getNodeFromCompilerNode(e))}getOpeningFragment(){return this._getNodeFromCompilerNode(this.compilerNode.openingFragment)}getClosingFragment(){return this._getNodeFromCompilerNode(this.compilerNode.closingFragment)}}let lW=tr;class lB extends lW{getNamespaceNode(){return this._getNodeFromCompilerNode(this.compilerNode.namespace)}getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.name)}set(e){return this.getNamespaceNode().replaceWithText(e.namespace),this.getNameNode().replaceWithText(e.name),this}getStructure(){return{namespace:this.getNamespaceNode().getText(),name:this.getNameNode().getText()}}}let lR=lx(lf(r6));class lj extends lR{}class lJ extends r6{}let lU=lx(lf(is));class lz extends lU{set(e){return G(lU.prototype,this,e),this}getStructure(){return $(lU.prototype,this,{kind:t.c5n.JsxSelfClosingElement})}}let lV=il(tr);class l$ extends lV{remove(){eq({children:[this],removePrecedingNewLines:!0,removePrecedingSpaces:!0})}set(e){return G(lV.prototype,this,e),null!=e.expression&&this.setExpression(e.expression),this}getStructure(){return $(lV.prototype,this,{kind:t.c5n.JsxSpreadAttribute,expression:this.getExpression().getText()})}}let lG=rC(tr);class lQ extends lG{containsOnlyTriviaWhiteSpaces(){let e=this.compilerNode;return"boolean"==typeof e.containsOnlyWhiteSpaces?e.containsOnlyWhiteSpaces:this.compilerNode.containsOnlyTriviaWhiteSpaces}}let lH=iI;class lq extends lH{getLiteralValue(){let e=this.compilerNode.text;if("undefined"==typeof BigInt)throw new s.errors.InvalidOperationError("Runtime environment does not support BigInts. Perhaps work with the text instead?");return BigInt(e.substring(0,e.length-1))}setLiteralValue(e){if("bigint"!=typeof e)throw new s.errors.ArgumentTypeError("value","bigint",typeof e);return e2({sourceFile:this._sourceFile,start:this.getStart(),replacingLength:this.getWidth(),newText:e.toString()+"n"}),this}}let lY=is;class lX extends lY{getLiteralValue(){return l5(this)}setLiteralValue(e){return l1(this,e)}}let lZ=is;class l0 extends lZ{getLiteralValue(){return l5(this)}setLiteralValue(e){return l1(this,e)}}function l1(e,t){if(l5(e)===t)return e;let r=e.getParentSyntaxList()||e.getParentOrThrow(),i=e.getChildIndex();return e.replaceWithText(t?"true":"false"),r.getChildAtIndex(i)}function l5(e){return e.getKind()===s.SyntaxKind.TrueKeyword}let l2=is;class l3 extends l2{}let l8=iI;class l9 extends l8{getLiteralValue(){let e=this.compilerNode.text;return e.indexOf(".")>=0?parseFloat(e):parseInt(e,10)}setLiteralValue(e){return e2({sourceFile:this._sourceFile,start:this.getStart(),replacingLength:this.getWidth(),newText:e.toString(10)}),this}}t.pSk=void 0,function(e){e.Single="'",e.Double='"'}(t.pSk||(t.pSk={}));let l6=iI;class l7 extends l6{getLiteralValue(){let e=this.compilerNode.text,t=/^\/(.*)\/([^\/]*)$/.exec(e);return new RegExp(t[1],t[2])}setLiteralValue(e,t){let r;return"string"==typeof e?r=e:(r=e.source,t=e.flags),e2({sourceFile:this._sourceFile,start:this.getStart(),replacingLength:this.getWidth(),newText:`/${r}/${t||""}`}),this}}let l4=iI;class ce extends l4{getLiteralValue(){return this.compilerNode.text}setLiteralValue(e){return e2({sourceFile:this._sourceFile,start:this.getStart()+1,replacingLength:this.getWidth()-2,newText:s.StringUtils.escapeForWithinString(e,this.getQuoteKind())}),this}getQuoteKind(){return"'"===this.getText()[0]?t.pSk.Single:t.pSk.Double}}let ct=iI;class cr extends ct{getLiteralValue(){return this.compilerNode.text}setLiteralValue(e){let t=this.getChildIndex(),r=this.getParentSyntaxList()||this.getParentOrThrow();return e2({sourceFile:this._sourceFile,start:this.getStart()+1,replacingLength:this.getWidth()-2,newText:e}),r.getChildAtIndex(t)}}class ci extends ii{getTag(){return this._getNodeFromCompilerNode(this.compilerNode.tag)}getTemplate(){return this._getNodeFromCompilerNode(this.compilerNode.template)}removeTag(){let e=this.getParentSyntaxList()??this.getParentOrThrow(),t=this.getChildIndex(),r=this.getTemplate();return eV({customMappings:(e,i)=>[{currentNode:r,newNode:e.getChildren(i)[t]}],parent:e,insertPos:this.getStart(),newText:this.getTemplate().getText(),replacing:{textLength:this.getWidth(),nodes:[this]}}),e.getChildAtIndex(t)}}let cn=is;class cs extends cn{getHead(){return this._getNodeFromCompilerNode(this.compilerNode.head)}getTemplateSpans(){return this.compilerNode.templateSpans.map(e=>this._getNodeFromCompilerNode(e))}setLiteralValue(e){let t=this.getChildIndex(),r=this.getParentSyntaxList()??this.getParentOrThrow();return e2({sourceFile:this._sourceFile,start:this.getStart()+1,replacingLength:this.getWidth()-2,newText:e}),r.getChildAtIndex(t)}}let co=rC(tr);class ca extends co{}let cl=rC(tr);class cc extends cl{}let cd=il(tr);class cu extends cd{getLiteral(){return this._getNodeFromCompilerNode(this.compilerNode.literal)}}let ch=rC(tr);class cp extends ch{}let cg=tf(tx(rq(rw(rA(tr)))));class cm extends cg{remove(){let e=this.getParentOrThrow();switch(e.getKind()){case s.SyntaxKind.VariableDeclarationList:var t,r=this;let i=e.getParentIfKindOrThrow(s.SyntaxKind.VariableStatement);1===i.getDeclarations().length?i.remove():e0(r);break;case s.SyntaxKind.CatchClause:t=this,eq({children:[t.getPreviousSiblingIfKindOrThrow(s.SyntaxKind.OpenParenToken),t,t.getNextSiblingIfKindOrThrow(s.SyntaxKind.CloseParenToken)],removePrecedingSpaces:!0});break;default:throw new s.errors.NotImplementedError(`Not implemented for syntax kind: ${e.getKindName()}`)}}getVariableStatementOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getVariableStatement(),e??"Expected the grandparent to be a variable statement.",this)}getVariableStatement(){let e=this.getParentOrThrow().getParentOrThrow();return tr.isVariableStatement(e)?e:void 0}set(e){return G(cg.prototype,this,e),this}getStructure(){return $(cg.prototype,this,{kind:t.c5n.VariableDeclaration})}}let cy=rb(tr);class cx extends cy{getDeclarations(){return this.compilerNode.declarations.map(e=>this._getNodeFromCompilerNode(e))}getDeclarationKind(){let e=this.compilerNode.flags;return e&s.ts.NodeFlags.Let?t.$rv.Let:(e&s.ts.NodeFlags.AwaitUsing)===s.ts.NodeFlags.AwaitUsing?t.$rv.AwaitUsing:(e&s.ts.NodeFlags.Using)===s.ts.NodeFlags.Using?t.$rv.Using:e&s.ts.NodeFlags.Const?t.$rv.Const:t.$rv.Var}getDeclarationKindKeywords(){let e=this.getDeclarationKind();switch(e){case t.$rv.Const:return[this.getFirstChildByKindOrThrow(s.SyntaxKind.ConstKeyword)];case t.$rv.Let:return[this.getFirstChildByKindOrThrow(s.SyntaxKind.LetKeyword)];case t.$rv.Var:return[this.getFirstChildByKindOrThrow(s.SyntaxKind.VarKeyword)];case t.$rv.Using:return[this.getFirstChildByKindOrThrow(s.SyntaxKind.UsingKeyword)];case t.$rv.AwaitUsing:let r=this.getFirstChildByKindOrThrow(s.SyntaxKind.AwaitKeyword),i=r.getNextSiblingIfKindOrThrow(s.SyntaxKind.UsingKeyword);return[r,i];default:return s.errors.throwNotImplementedForNeverValueError(e)}}setDeclarationKind(e){if(this.getDeclarationKind()===e)return this;let t=this.getDeclarationKindKeywords(),r=t[0].getStart();return eV({insertPos:r,newText:e,parent:this,replacing:{textLength:t[t.length-1].getEnd()-r}}),this}addDeclaration(e){return this.addDeclarations([e])[0]}addDeclarations(e){return this.insertDeclarations(this.getDeclarations().length,e)}insertDeclaration(e,t){return this.insertDeclarations(e,[t])[0]}insertDeclarations(e,t){let r=this._getWriterWithQueuedChildIndentation(),i=new tI(this._context.structurePrinterFactory.forVariableDeclaration()),n=this.compilerNode.declarations.length;return e=ex(e,n),i.printText(r,t),e$({parent:this.getFirstChildByKindOrThrow(s.SyntaxKind.SyntaxList),currentNodes:this.getDeclarations(),insertIndex:e,newText:r.toString(),useTrailingCommas:!1}),eh(n,this.getDeclarations(),e,!1)}}class cf{#ej;#eJ;constructor(e,t){this.#ej=e,this.#eJ=t}get compilerSignature(){return this.#eJ}getTypeParameters(){return(this.compilerSignature.typeParameters||[]).map(e=>this.#ej.compilerFactory.getTypeParameter(e))}getParameters(){return this.compilerSignature.parameters.map(e=>this.#ej.compilerFactory.getSymbol(e))}getReturnType(){return this.#ej.compilerFactory.getType(this.compilerSignature.getReturnType())}getDocumentationComments(){return this.compilerSignature.getDocumentationComment(this.#ej.typeChecker.compilerObject).map(e=>this.#ej.compilerFactory.getSymbolDisplayPart(e))}getJsDocTags(){return this.compilerSignature.getJsDocTags().map(e=>this.#ej.compilerFactory.getJSDocTagInfo(e))}getDeclaration(){let{compilerFactory:e}=this.#ej,t=this.compilerSignature.getDeclaration();return e.getNodeFromCompilerNode(t,e.getSourceFileForNode(t))}}class cS{#ej;#eU;get compilerSymbol(){return this.#eU}constructor(e,t){this.#ej=e,this.#eU=t,this.getValueDeclaration(),this.getDeclarations()}getName(){return this.compilerSymbol.getName()}getEscapedName(){return this.compilerSymbol.getEscapedName()}getAliasedSymbolOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getAliasedSymbol(),e??"Expected to find an aliased symbol.")}getImmediatelyAliasedSymbol(){return this.#ej.typeChecker.getImmediatelyAliasedSymbol(this)}getImmediatelyAliasedSymbolOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getImmediatelyAliasedSymbol(),e??"Expected to find an immediately aliased symbol.")}getAliasedSymbol(){return this.#ej.typeChecker.getAliasedSymbol(this)}getExportSymbol(){return this.#ej.typeChecker.getExportSymbolOfSymbol(this)}isAlias(){return(this.getFlags()&s.SymbolFlags.Alias)===s.SymbolFlags.Alias}isOptional(){return(this.getFlags()&s.SymbolFlags.Optional)===s.SymbolFlags.Optional}getFlags(){return this.compilerSymbol.getFlags()}hasFlags(e){return(this.compilerSymbol.flags&e)===e}getValueDeclarationOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getValueDeclaration(),e??(()=>`Expected to find the value declaration of symbol '${this.getName()}'.`))}getValueDeclaration(){let e=this.compilerSymbol.valueDeclaration;if(null!=e)return this.#ej.compilerFactory.getNodeFromCompilerNode(e,this.#ej.compilerFactory.getSourceFileForNode(e))}getDeclarations(){return(this.compilerSymbol.declarations??[]).map(e=>this.#ej.compilerFactory.getNodeFromCompilerNode(e,this.#ej.compilerFactory.getSourceFileForNode(e)))}getExportOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getExport(e),t??(()=>`Expected to find export with name: ${e}`))}getExport(e){if(null==this.compilerSymbol.exports)return;let t=this.compilerSymbol.exports.get(s.ts.escapeLeadingUnderscores(e));return null==t?void 0:this.#ej.compilerFactory.getSymbol(t)}getExports(){return null==this.compilerSymbol.exports?[]:Array.from(this.compilerSymbol.exports.values()).map(e=>this.#ej.compilerFactory.getSymbol(e))}getGlobalExportOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getGlobalExport(e),t??(()=>`Expected to find global export with name: ${e}`))}getGlobalExport(e){if(null==this.compilerSymbol.globalExports)return;let t=this.compilerSymbol.globalExports.get(s.ts.escapeLeadingUnderscores(e));return null==t?void 0:this.#ej.compilerFactory.getSymbol(t)}getGlobalExports(){return null==this.compilerSymbol.globalExports?[]:Array.from(this.compilerSymbol.globalExports.values()).map(e=>this.#ej.compilerFactory.getSymbol(e))}getMemberOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getMember(e),t??`Expected to find member with name: ${e}`)}getMember(e){if(null==this.compilerSymbol.members)return;let t=this.compilerSymbol.members.get(s.ts.escapeLeadingUnderscores(e));return null==t?void 0:this.#ej.compilerFactory.getSymbol(t)}getMembers(){return null==this.compilerSymbol.members?[]:Array.from(this.compilerSymbol.members.values()).map(e=>this.#ej.compilerFactory.getSymbol(e))}getDeclaredType(){return this.#ej.typeChecker.getDeclaredTypeOfSymbol(this)}getTypeAtLocation(e){return this.#ej.typeChecker.getTypeOfSymbolAtLocation(this,e)}getFullyQualifiedName(){return this.#ej.typeChecker.getFullyQualifiedName(this)}getJsDocTags(){return this.compilerSymbol.getJsDocTags(this.#ej.typeChecker.compilerObject).map(e=>new a$(e))}}class cT{#X;constructor(e){this.#X=e}get compilerObject(){return this.#X}getStart(){return this.compilerObject.start}getEnd(){return this.compilerObject.start+this.compilerObject.length}getLength(){return this.compilerObject.length}}class cN{#X;constructor(e){this.#X=e}get compilerObject(){return this.#X}getSpan(){return new cT(this.compilerObject.span)}getNewText(){return this.compilerObject.newText}}sb([s.Memoize],cN.prototype,"getSpan",null);class cK{#ej;#X;#c;#ez;#eV;constructor(e,t){this.#ej=e,this.#X=t;let r=e.compilerFactory.addOrGetSourceFileFromFilePath(e.fileSystemWrapper.getStandardizedAbsolutePath(t.fileName),{markInProject:!1,scriptKind:void 0});this.#ez=null!=r,t.isNewFile||(this.#c=r)}getFilePath(){return this.#X.fileName}getSourceFile(){return this.#c}getTextChanges(){return this.#X.textChanges.map(e=>new cN(e))}applyChanges(e={}){let t;if(!this.#eV){if(this.isNewFile()&&this.#ez&&!e.overwrite)throw new s.errors.InvalidOperationError(`Cannot apply file text change for creating a new file when the file exists at path ${this.getFilePath()}. Did you mean to provide the overwrite option?`);if(null==(t=this.isNewFile()?this.#ej.project.createSourceFile(this.getFilePath(),"",{overwrite:e.overwrite}):this.getSourceFile()))throw new s.errors.InvalidOperationError(`Cannot apply file text change to modify existing file that doesn't exist at path: ${this.getFilePath()}`);return t.applyTextChanges(this.getTextChanges()),t._markAsInProject(),this.#eV=!0,this}}isNewFile(){return!!this.#X.isNewFile}}sb([s.Memoize],cK.prototype,"getTextChanges",null);class cw{#ej;#X;constructor(e,t){this.#ej=e,this.#X=t}get compilerObject(){return this.#X}getDescription(){return this.compilerObject.description}getChanges(){return this.compilerObject.changes.map(e=>new cK(this.#ej,e))}}class cF extends cw{getFixName(){return this.compilerObject.fixName}getFixId(){return this.compilerObject.fixId}getFixAllDescription(){return this.compilerObject.fixAllDescription}}class cC{#ej;#X;constructor(e,t){this.#ej=e,this.#X=t}get compilerObject(){return this.#X}getChanges(){return this.compilerObject.changes.map(e=>new cK(this.#ej,e))}applyChanges(e){for(let t of this.getChanges())t.applyChanges(e);return this}}sb([s.Memoize],cC.prototype,"getChanges",null);class cb{_context;_compilerObject;_sourceFile;constructor(e,t){this._context=e,this._compilerObject=t,this._sourceFile=this._context.compilerFactory.addOrGetSourceFileFromFilePath(e.fileSystemWrapper.getStandardizedAbsolutePath(this.compilerObject.fileName),{markInProject:!1,scriptKind:void 0}),this._sourceFile._doActionPreNextModification(()=>this.getNode())}get compilerObject(){return this._compilerObject}getSourceFile(){return this._sourceFile}getTextSpan(){return new cT(this.compilerObject.textSpan)}getNode(){let e,t=this.getTextSpan(),r=this.getSourceFile(),i=t.getStart(),n=t.getEnd();return r._context.compilerFactory.forgetNodesCreatedInBlock(t=>{let s,o=r;for(;null!=o;){if(null==s&&(e=o),o.getStart()===i&&o.getWidth()===n)e=s=o;else if(null!=s)break;o=o.getChildAtPos(i)}null!=e&&t(e)}),e}getOriginalTextSpan(){let{originalTextSpan:e}=this.compilerObject;return null==e?void 0:new cT(e)}getOriginalFileName(){return this.compilerObject.originalFileName}}sb([s.Memoize],cb.prototype,"getTextSpan",null),sb([s.Memoize],cb.prototype,"getNode",null),sb([s.Memoize],cb.prototype,"getOriginalTextSpan",null);class cI extends cb{constructor(e,t){super(e,t),this.getSourceFile()._doActionPreNextModification(()=>this.getDeclarationNode())}getKind(){return this.compilerObject.kind}getName(){return this.compilerObject.name}getContainerKind(){return this.compilerObject.containerKind}getContainerName(){return this.compilerObject.containerName}getDeclarationNode(){if("module"===this.getKind()&&this.getTextSpan().getLength()===this.getSourceFile().getFullWidth())return this.getSourceFile();let e=this.getTextSpan().getStart(),t=function t(r){if(r.getKind()===s.SyntaxKind.Identifier&&r.getStart()===e)return r;for(let i of r._getChildrenIterator())if(i.getPos()<=e&&i.getEnd()>e)return t(i)}(this.getSourceFile());return null==t?void 0:t.getParentOrThrow()}}sb([s.Memoize],cI.prototype,"getDeclarationNode",null);class cP{_compilerObject;constructor(e){this._compilerObject=e}get compilerObject(){return this._compilerObject}getMessageText(){return this.compilerObject.messageText}getNext(){let e=this.compilerObject.next;if(null!=e)return e instanceof Array?e.map(e=>new cP(e)):[new cP(e)]}getCode(){return this.compilerObject.code}getCategory(){return this.compilerObject.category}}class cE{_context;_compilerObject;constructor(e,t){this._context=e,this._compilerObject=t,this.getSourceFile()}get compilerObject(){return this._compilerObject}getSourceFile(){if(null==this._context)return;let e=this.compilerObject.file;return null==e?void 0:this._context.compilerFactory.getSourceFile(e,{markInProject:!1})}getMessageText(){let e=this._compilerObject.messageText;return"string"==typeof e?e:null==this._context?new cP(e):this._context.compilerFactory.getDiagnosticMessageChain(e)}getLineNumber(){let e=this.getSourceFile(),t=this.getStart();if(null!=e&&null!=t)return s.StringUtils.getLineNumberAtPos(e.getFullText(),t)}getStart(){return this.compilerObject.start}getLength(){return this.compilerObject.length}getCategory(){return this.compilerObject.category}getCode(){return this.compilerObject.code}getSource(){return this.compilerObject.source}}sb([s.Memoize],cE.prototype,"getSourceFile",null);class cD extends cE{constructor(e,t){super(e,t)}getLineNumber(){return super.getLineNumber()}getStart(){return super.getStart()}getLength(){return super.getLength()}getSourceFile(){return super.getSourceFile()}}class cO{#X;#ej;constructor(e,t){this.#X=t,this.#ej=e}get compilerObject(){return this.#X}getFilePath(){return this.#ej.fileSystemWrapper.getStandardizedAbsolutePath(this.compilerObject.name)}getWriteByteOrderMark(){return this.compilerObject.writeByteOrderMark||!1}getText(){return this.compilerObject.text}}class cA{#ej;#X;constructor(e,t){this.#ej=e,this.#X=t}get compilerObject(){return this.#X}getDiagnostics(){return this.compilerObject.diagnostics.map(e=>this.#ej.compilerFactory.getDiagnostic(e))}getEmitSkipped(){return this.compilerObject.emitSkipped}getOutputFiles(){return this.compilerObject.outputFiles.map(e=>new cO(this.#ej,e))}}sb([s.Memoize],cA.prototype,"getDiagnostics",null),sb([s.Memoize],cA.prototype,"getOutputFiles",null);class cv{_context;_compilerObject;constructor(e,t){this._context=e,this._compilerObject=t,this.getDiagnostics()}get compilerObject(){return this._compilerObject}getEmitSkipped(){return this.compilerObject.emitSkipped}getDiagnostics(){return this.compilerObject.diagnostics.map(e=>this._context.compilerFactory.getDiagnostic(e))}}sb([s.Memoize],cv.prototype,"getDiagnostics",null);class c_ extends cb{constructor(e,t){super(e,t)}getKind(){return this.compilerObject.kind}getDisplayParts(){return this.compilerObject.displayParts.map(e=>this._context.compilerFactory.getSymbolDisplayPart(e))}}sb([s.Memoize],c_.prototype,"getDisplayParts",null);class cL extends cv{#e$;constructor(e,t,r){super(e,t),this.#e$=r}getFiles(){return this.#e$}saveFiles(){let e=this._context.fileSystemWrapper;return Promise.all(this.#e$.map(t=>e.writeFile(t.filePath,t.writeByteOrderMark?"\uFEFF"+t.text:t.text)))}saveFilesSync(){let e=this._context.fileSystemWrapper;for(let t of this.#e$)e.writeFileSync(t.filePath,t.writeByteOrderMark?"\uFEFF"+t.text:t.text)}}class ck{#ej;#X;constructor(e,t){this.#ej=e,this.#X=t}get compilerObject(){return this.#X}getEdits(){return this.compilerObject.edits.map(e=>new cK(this.#ej,e))}getRenameFilePath(){return this.compilerObject.renameFilename}getRenameLocation(){return this.compilerObject.renameLocation}applyChanges(e){for(let t of this.getEdits())t.applyChanges(e);return this}}sb([s.Memoize],ck.prototype,"getEdits",null);class cM{_context;#X;#eG;constructor(e,t){this._context=e,this.#X=t,this.#eG=this.compilerObject.references.map(t=>e.compilerFactory.getReferencedSymbolEntry(t))}get compilerObject(){return this.#X}getDefinition(){return this._context.compilerFactory.getReferencedSymbolDefinitionInfo(this.compilerObject.definition)}getReferences(){return this.#eG}}sb([s.Memoize],cM.prototype,"getDefinition",null);class cW extends cI{constructor(e,t){super(e,t)}getDisplayParts(){return this.compilerObject.displayParts.map(e=>this._context.compilerFactory.getSymbolDisplayPart(e))}}sb([s.Memoize],cW.prototype,"getDisplayParts",null);class cB extends cb{constructor(e,t){super(e,t)}isWriteAccess(){return this.compilerObject.isWriteAccess}isInString(){return this.compilerObject.isInString}}class cR extends cB{constructor(e,t){super(e,t)}isDefinition(){return this.compilerObject.isDefinition}}class cj extends cb{getPrefixText(){return this._compilerObject.prefixText}getSuffixText(){return this._compilerObject.suffixText}}class cJ{#X;constructor(e){this.#X=e}get compilerObject(){return this.#X}getText(){return this.compilerObject.text}getKind(){return this.compilerObject.kind}}class cU{#ej;#eQ;constructor(e){this.#ej=e}get compilerObject(){return this.#eQ()}_reset(e){this.#eQ=e}getAmbientModules(){return this.compilerObject.getAmbientModules().map(e=>this.#ej.compilerFactory.getSymbol(e))}getApparentType(e){return this.#ej.compilerFactory.getType(this.compilerObject.getApparentType(e.compilerType))}getConstantValue(e){return this.compilerObject.getConstantValue(e.compilerNode)}getFullyQualifiedName(e){return this.compilerObject.getFullyQualifiedName(e.compilerSymbol)}getTypeAtLocation(e){return this.#ej.compilerFactory.getType(this.compilerObject.getTypeAtLocation(e.compilerNode))}getContextualType(e){let t=this.compilerObject.getContextualType(e.compilerNode);return null==t?void 0:this.#ej.compilerFactory.getType(t)}getTypeOfSymbolAtLocation(e,t){return this.#ej.compilerFactory.getType(this.compilerObject.getTypeOfSymbolAtLocation(e.compilerSymbol,t.compilerNode))}getDeclaredTypeOfSymbol(e){return this.#ej.compilerFactory.getType(this.compilerObject.getDeclaredTypeOfSymbol(e.compilerSymbol))}getSymbolAtLocation(e){let t=this.compilerObject.getSymbolAtLocation(e.compilerNode);return null==t?void 0:this.#ej.compilerFactory.getSymbol(t)}getAliasedSymbol(e){if(!e.hasFlags(s.SymbolFlags.Alias))return;let t=this.compilerObject.getAliasedSymbol(e.compilerSymbol);return null==t?void 0:this.#ej.compilerFactory.getSymbol(t)}getImmediatelyAliasedSymbol(e){let t=this.compilerObject.getImmediateAliasedSymbol(e.compilerSymbol);return null==t?void 0:this.#ej.compilerFactory.getSymbol(t)}getExportSymbolOfSymbol(e){return this.#ej.compilerFactory.getSymbol(this.compilerObject.getExportSymbolOfSymbol(e.compilerSymbol))}getPropertiesOfType(e){return this.compilerObject.getPropertiesOfType(e.compilerType).map(e=>this.#ej.compilerFactory.getSymbol(e))}getTypeText(e,t,r){return null==r&&(r=this.#eH(t)),this.compilerObject.typeToString(e.compilerType,t?.compilerNode,r)}getReturnTypeOfSignature(e){return this.#ej.compilerFactory.getType(this.compilerObject.getReturnTypeOfSignature(e.compilerSignature))}getSignatureFromNode(e){let t=this.compilerObject.getSignatureFromDeclaration(e.compilerNode);return null==t?void 0:this.#ej.compilerFactory.getSignature(t)}getExportsOfModule(e){return(this.compilerObject.getExportsOfModule(e.compilerSymbol)||[]).map(e=>this.#ej.compilerFactory.getSymbol(e))}getExportSpecifierLocalTargetSymbol(e){let t=this.compilerObject.getExportSpecifierLocalTargetSymbol(e.compilerNode);return null==t?void 0:this.#ej.compilerFactory.getSymbol(t)}getResolvedSignature(e){let t=this.compilerObject.getResolvedSignature(e.compilerNode);if(t&&t.declaration)return this.#ej.compilerFactory.getSignature(t)}getResolvedSignatureOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getResolvedSignature(e),t??"Signature could not be resolved.",e)}getBaseTypeOfLiteralType(e){return this.#ej.compilerFactory.getType(this.compilerObject.getBaseTypeOfLiteralType(e.compilerType))}getSymbolsInScope(e,t){return this.compilerObject.getSymbolsInScope(e.compilerNode,t).map(e=>this.#ej.compilerFactory.getSymbol(e))}getTypeArguments(e){return this.compilerObject.getTypeArguments(e.compilerType).map(e=>this.#ej.compilerFactory.getType(e))}isTypeAssignableTo(e,t){return this.compilerObject.isTypeAssignableTo(e.compilerType,t.compilerType)}#eH(e){let t=s.TypeFormatFlags.UseTypeOfFunction|s.TypeFormatFlags.NoTruncation|s.TypeFormatFlags.UseFullyQualifiedType|s.TypeFormatFlags.WriteTypeArgumentsOfSignature;return null!=e&&e.getKind()===s.SyntaxKind.TypeAliasDeclaration&&(t|=s.TypeFormatFlags.InTypeAlias),t}getShorthandAssignmentValueSymbol(e){let t=this.compilerObject.getShorthandAssignmentValueSymbol(e.compilerNode);return t?this.#ej.compilerFactory.getSymbol(t):void 0}resolveName(e,t,r,i){let n=this.compilerObject.resolveName(e,t?.compilerNode,r,i);return n?this.#ej.compilerFactory.getSymbol(n):void 0}}class cz{#ej;#eq;#eY;#eX;#eZ;#e0;constructor(e){this.#ej=e.context,this.#e0=e.configFileParsingDiagnostics,this.#eq=new cU(this.#ej),this._reset(e.rootNames,e.host)}get compilerObject(){return this.#eZ()}_isCompilerProgramCreated(){return null!=this.#eY}_reset(e,t){let r=this.#ej.compilerOptions.get();this.#eZ=()=>(null==this.#eY&&(this.#eY=s.ts.createProgram(e,r,t,this.#eX,this.#e0),this.#eX=void 0),this.#eY),null!=this.#eY&&(this.#eX=this.#eY,this.#eY=void 0),this.#eq._reset(()=>this.compilerObject.getTypeChecker())}getTypeChecker(){return this.#eq}async emit(e={}){if(e.writeFile){let t=`Cannot specify a ${s.nameof(e,"writeFile")} option when emitting asynchrously. Use ${s.nameof(this,"emitSync")}() instead.`;throw new s.errors.InvalidOperationError(t)}let{fileSystemWrapper:t}=this.#ej,r=[],i=this.#e1({writeFile:(e,i,n)=>{r.push(t.writeFile(t.getStandardizedAbsolutePath(e),n?"\uFEFF"+i:i))},...e});return await Promise.all(r),new cv(this.#ej,i)}emitSync(e={}){return new cv(this.#ej,this.#e1(e))}emitToMemory(e={}){let t=[],{fileSystemWrapper:r}=this.#ej,i=this.#e1({writeFile:(e,i,n)=>{t.push({filePath:r.getStandardizedAbsolutePath(e),text:i,writeByteOrderMark:n||!1})},...e});return new cL(this.#ej,i,t)}#e1(e={}){let t=null!=e.targetSourceFile?e.targetSourceFile.compilerNode:void 0,{emitOnlyDtsFiles:r,customTransformers:i,writeFile:n}=e;return this.compilerObject.emit(t,n,void 0,r,i)}getSyntacticDiagnostics(e){return this.compilerObject.getSyntacticDiagnostics(null==e?void 0:e.compilerNode).map(e=>this.#ej.compilerFactory.getDiagnosticWithLocation(e))}getSemanticDiagnostics(e){return this.compilerObject.getSemanticDiagnostics(e?.compilerNode).map(e=>this.#ej.compilerFactory.getDiagnostic(e))}getDeclarationDiagnostics(e){return this.compilerObject.getDeclarationDiagnostics(e?.compilerNode).map(e=>this.#ej.compilerFactory.getDiagnosticWithLocation(e))}getGlobalDiagnostics(){return this.compilerObject.getGlobalDiagnostics().map(e=>this.#ej.compilerFactory.getDiagnostic(e))}getConfigFileParsingDiagnostics(){return this.compilerObject.getConfigFileParsingDiagnostics().map(e=>this.#ej.compilerFactory.getDiagnostic(e))}getEmitModuleResolutionKind(){return s.getEmitModuleResolutionKind(this.compilerObject.getCompilerOptions())}isSourceFileFromExternalLibrary(e){return e.isFromExternalLibrary()}}class cV{#X;#e5;#e2;#ej;#e3=0;get compilerObject(){return this.#X}constructor(e){this.#ej=e.context;let{languageServiceHost:t,compilerHost:r}=s.createHosts({transactionalFileSystem:this.#ej.fileSystemWrapper,sourceFileContainer:this.#ej.getSourceFileContainer(),compilerOptions:this.#ej.compilerOptions,getNewLine:()=>this.#ej.manipulationSettings.getNewLineKindAsString(),getProjectVersion:()=>`${this.#e3}`,resolutionHost:e.resolutionHost??{},libFolderPath:e.libFolderPath,skipLoadingLibFiles:e.skipLoadingLibFiles});this.#e5=r,this.#X=s.ts.createLanguageService(t,this.#ej.compilerFactory.documentRegistry),this.#e2=new cz({context:this.#ej,rootNames:Array.from(this.#ej.compilerFactory.getSourceFilePaths()),host:this.#e5,configFileParsingDiagnostics:e.configFileParsingDiagnostics}),this.#ej.compilerFactory.onSourceFileAdded(e=>{e._isInProject()&&this._reset()}),this.#ej.compilerFactory.onSourceFileRemoved(()=>this._reset())}_reset(){this.#e3+=1,this.#e2._reset(Array.from(this.#ej.compilerFactory.getSourceFilePaths()),this.#e5)}getProgram(){return this.#e2}getDefinitions(e){return this.getDefinitionsAtPosition(e._sourceFile,e.getStart())}getDefinitionsAtPosition(e,t){return(this.compilerObject.getDefinitionAtPosition(e.getFilePath(),t)||[]).map(e=>this.#ej.compilerFactory.getDefinitionInfo(e))}getImplementations(e){return this.getImplementationsAtPosition(e._sourceFile,e.getStart())}getImplementationsAtPosition(e,t){return(this.compilerObject.getImplementationAtPosition(e.getFilePath(),t)||[]).map(e=>new c_(this.#ej,e))}findReferences(e){return this.findReferencesAtPosition(e._sourceFile,e.getStart())}findReferencesAsNodes(e){let t=this.findReferences(e);return Array.from(function*(){for(let e of t){let t=e.getDefinition().getKind()===s.ts.ScriptElementKind.alias,r=e.getReferences();for(let e=0;e<r.length;e++){let i=r[e];(t||!i.isDefinition()||e>0)&&(yield i.getNode())}}}())}findReferencesAtPosition(e,t){return(this.compilerObject.findReferences(e.getFilePath(),t)||[]).map(e=>this.#ej.compilerFactory.getReferencedSymbol(e))}findRenameLocations(e,t={}){let r=null==t.usePrefixAndSuffixText?this.#ej.manipulationSettings.getUsePrefixAndSuffixTextForRename():t.usePrefixAndSuffixText;return(this.compilerObject.findRenameLocations(e._sourceFile.getFilePath(),e.getStart(),t.renameInStrings||!1,t.renameInComments||!1,r)||[]).map(e=>new cj(this.#ej,e))}getSuggestionDiagnostics(e){let t=this.#e8(e);return this.compilerObject.getSuggestionDiagnostics(t).map(e=>this.#ej.compilerFactory.getDiagnosticWithLocation(e))}getFormattingEditsForRange(e,t,r){return(this.compilerObject.getFormattingEditsForRange(e,t[0],t[1],this.#e9(r))||[]).map(e=>new cN(e))}getFormattingEditsForDocument(e,t){let r=this.#ej.fileSystemWrapper.getStandardizedAbsolutePath(e);return(this.compilerObject.getFormattingEditsForDocument(r,this.#e9(t))||[]).map(e=>new cN(e))}getFormattedDocumentText(e,t){let r=this.#ej.fileSystemWrapper.getStandardizedAbsolutePath(e),i=this.#ej.compilerFactory.getSourceFileFromCacheFromFilePath(r);if(null==i)throw new s.errors.FileNotFoundError(r);t=this.#e9(t);let n=ee(i,this.getFormattingEditsForDocument(r,t)),o=t.newLineCharacter;return t.ensureNewLineAtEndOfFile&&!n.endsWith(o)&&(n+=o),n.replace(/\r?\n/g,o)}getEmitOutput(e,t){let r=this.#e8(e),i=this.compilerObject;return new cA(this.#ej,function(){let e=i.getProgram();return null==e||null==e.getSourceFile(r)?{emitSkipped:!0,outputFiles:[],diagnostics:[]}:i.getEmitOutput(r,t)}())}getIdentationAtPosition(e,t,r){let i=this.#e8(e);return null==r?r=this.#ej.manipulationSettings.getEditorSettings():L(r,this.#ej.manipulationSettings),this.compilerObject.getIndentationAtPosition(i,t,r)}organizeImports(e,t={},r={}){let i={type:"file",fileName:this.#e8(e)};return this.compilerObject.organizeImports(i,this.#e9(t),this.#e6(r)).map(e=>new cK(this.#ej,e))}getEditsForRefactor(e,t,r,i,n,s={}){let o=this.#e8(e),a="number"==typeof r?r:{pos:r.getPos(),end:r.getEnd()},l=this.compilerObject.getEditsForRefactor(o,this.#e9(t),a,i,n,this.#e6(s));return null!=l?new ck(this.#ej,l):void 0}getCombinedCodeFix(e,t,r={},i={}){let n=this.compilerObject.getCombinedCodeFix({type:"file",fileName:this.#e8(e)},t,this.#e9(r),this.#e6(i||{}));return new cC(this.#ej,n)}getCodeFixesAtPosition(e,t,r,i,n={},s={}){let o=this.#e8(e);return this.compilerObject.getCodeFixesAtPosition(o,t,r,i,this.#e9(n),this.#e6(s||{})).map(e=>new cF(this.#ej,e))}#e8(e){let t="string"==typeof e?this.#ej.fileSystemWrapper.getStandardizedAbsolutePath(e):e.getFilePath();if(!this.#ej.compilerFactory.containsSourceFileAtPath(t))throw new s.errors.FileNotFoundError(t);return t}#e9(e){var t;return e._filled?e:(L(t=e=Object.assign(this.#ej.getFormatCodeSettings(),e),this.#ej.manipulationSettings),_(t,"insertSpaceAfterCommaDelimiter",!0),_(t,"insertSpaceAfterConstructor",!1),_(t,"insertSpaceAfterSemicolonInForStatements",!0),_(t,"insertSpaceAfterKeywordsInControlFlowStatements",!0),_(t,"insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces",!0),_(t,"insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets",!1),_(t,"insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces",!1),_(t,"insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces",!1),_(t,"insertSpaceBeforeFunctionParenthesis",!1),_(t,"insertSpaceBeforeAndAfterBinaryOperators",!0),_(t,"placeOpenBraceOnNewLineForFunctions",!1),_(t,"placeOpenBraceOnNewLineForControlBlocks",!1),_(t,"ensureNewLineAtEndOfFile",!0),e._filled=!0,e)}#e6(e){return Object.assign(this.#ej.getUserPreferences(),e)}}class c${_context;#e7;get compilerType(){return this.#e7}constructor(e,t){this._context=e,this.#e7=t}getText(e,t){return this._context.typeChecker.getTypeText(this,e,t)}getAliasSymbol(){return null==this.compilerType.aliasSymbol?void 0:this._context.compilerFactory.getSymbol(this.compilerType.aliasSymbol)}getAliasSymbolOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getAliasSymbol(),"Expected to find an alias symbol.")}getAliasTypeArguments(){return(this.compilerType.aliasTypeArguments||[]).map(e=>this._context.compilerFactory.getType(e))}getApparentType(){return this._context.typeChecker.getApparentType(this)}getArrayElementTypeOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getArrayElementType(),e??"Expected to find an array element type.")}getArrayElementType(){if(this.isArray())return this.getTypeArguments()[0]}getBaseTypes(){return(this.compilerType.getBaseTypes()||[]).map(e=>this._context.compilerFactory.getType(e))}getBaseTypeOfLiteralType(){return this._context.typeChecker.getBaseTypeOfLiteralType(this)}getCallSignatures(){return this.compilerType.getCallSignatures().map(e=>this._context.compilerFactory.getSignature(e))}getConstructSignatures(){return this.compilerType.getConstructSignatures().map(e=>this._context.compilerFactory.getSignature(e))}getConstraintOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getConstraint(),e??"Expected to find a constraint.")}getConstraint(){let e=this.compilerType.getConstraint();return null==e?void 0:this._context.compilerFactory.getType(e)}getDefaultOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getDefault(),e??"Expected to find a default type.")}getDefault(){let e=this.compilerType.getDefault();return null==e?void 0:this._context.compilerFactory.getType(e)}getProperties(){return this.compilerType.getProperties().map(e=>this._context.compilerFactory.getSymbol(e))}getPropertyOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getProperty(e),()=>u("symbol property",e))}getProperty(e){return P(this.getProperties(),e)}getApparentProperties(){return this.compilerType.getApparentProperties().map(e=>this._context.compilerFactory.getSymbol(e))}getApparentProperty(e){return P(this.getApparentProperties(),e)}isNullable(){return this.getUnionTypes().some(e=>e.isNull()||e.isUndefined())}getNonNullableType(){return this._context.compilerFactory.getType(this.compilerType.getNonNullableType())}getNumberIndexType(){let e=this.compilerType.getNumberIndexType();return null==e?void 0:this._context.compilerFactory.getType(e)}getStringIndexType(){let e=this.compilerType.getStringIndexType();return null==e?void 0:this._context.compilerFactory.getType(e)}getTargetType(){let e=this.compilerType.target||void 0;return null==e?void 0:this._context.compilerFactory.getType(e)}getTargetTypeOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getTargetType(),e??"Expected to find the target type.")}getTypeArguments(){return this._context.typeChecker.getTypeArguments(this)}getTupleElements(){return this.isTuple()?this.getTypeArguments():[]}getUnionTypes(){return this.isUnion()?this.compilerType.types.map(e=>this._context.compilerFactory.getType(e)):[]}getIntersectionTypes(){return this.isIntersection()?this.compilerType.types.map(e=>this._context.compilerFactory.getType(e)):[]}getLiteralValue(){return this.compilerType?.value}getLiteralValueOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getLiteralValue(),e??"Type was not a literal type.")}getLiteralFreshType(){let e=this.compilerType?.freshType;return null==e?void 0:this._context.compilerFactory.getType(e)}getLiteralFreshTypeOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getLiteralFreshType(),e??"Type was not a literal type.")}getLiteralRegularType(){let e=this.compilerType?.regularType;return null==e?void 0:this._context.compilerFactory.getType(e)}getLiteralRegularTypeOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getLiteralRegularType(),e??"Type was not a literal type.")}getSymbol(){let e=this.compilerType.getSymbol();return null==e?void 0:this._context.compilerFactory.getSymbol(e)}getSymbolOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getSymbol(),e??"Expected to find a symbol.")}isAssignableTo(e){return this._context.typeChecker.isTypeAssignableTo(this,e)}isAnonymous(){return this.#e4(s.ObjectFlags.Anonymous)}isAny(){return this.#te(s.TypeFlags.Any)}isNever(){return this.#te(s.TypeFlags.Never)}isArray(){let e=this.getSymbol();return null!=e&&("Array"===e.getName()||"ReadonlyArray"===e.getName())&&1===this.getTypeArguments().length}isReadonlyArray(){let e=this.getSymbol();return null!=e&&"ReadonlyArray"===e.getName()&&1===this.getTypeArguments().length}isTemplateLiteral(){return this.#te(s.TypeFlags.TemplateLiteral)}isBoolean(){return this.#te(s.TypeFlags.Boolean)}isString(){return this.#te(s.TypeFlags.String)}isNumber(){return this.#te(s.TypeFlags.Number)}isBigInt(){return this.#te(s.TypeFlags.BigInt)}isLiteral(){let e=this.isBooleanLiteral();return this.compilerType.isLiteral()||e}isBooleanLiteral(){return this.#te(s.TypeFlags.BooleanLiteral)}isBigIntLiteral(){return this.#te(s.TypeFlags.BigIntLiteral)}isEnumLiteral(){return this.#te(s.TypeFlags.EnumLiteral)&&!this.isUnion()}isNumberLiteral(){return this.#te(s.TypeFlags.NumberLiteral)}isStringLiteral(){return this.compilerType.isStringLiteral()}isClass(){return this.compilerType.isClass()}isClassOrInterface(){return this.compilerType.isClassOrInterface()}isEnum(){if(this.#te(s.TypeFlags.Enum))return!0;if(this.isEnumLiteral()&&!this.isUnion())return!1;let e=this.getSymbol();if(null==e)return!1;let t=e.getValueDeclaration();return null!=t&&tr.isEnumDeclaration(t)}isInterface(){return this.#e4(s.ObjectFlags.Interface)}isObject(){return this.#te(s.TypeFlags.Object)}isTypeParameter(){return this.compilerType.isTypeParameter()}isTuple(){let e=this.getTargetType();return null!=e&&e.#e4(s.ObjectFlags.Tuple)}isUnion(){return this.compilerType.isUnion()}isIntersection(){return this.compilerType.isIntersection()}isUnionOrIntersection(){return this.compilerType.isUnionOrIntersection()}isUnknown(){return this.#te(s.TypeFlags.Unknown)}isNull(){return this.#te(s.TypeFlags.Null)}isUndefined(){return this.#te(s.TypeFlags.Undefined)}isVoid(){return this.#te(s.TypeFlags.Void)}getFlags(){return this.compilerType.flags}getObjectFlags(){return this.isObject()&&this.compilerType.objectFlags||0}#te(e){return(this.compilerType.flags&e)===e}#e4(e){return(this.getObjectFlags()&e)===e}}class cG extends c${getConstraintOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getConstraint(),e??"Expected type parameter to have a constraint.")}getConstraint(){let e=this.#tt();if(null==e)return;let t=e.getConstraint();if(null!=t)return this._context.typeChecker.getTypeAtLocation(t)}getDefaultOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getDefault(),e??"Expected type parameter to have a default type.")}getDefault(){let e=this.#tt();if(null==e)return;let t=e.getDefault();if(null!=t)return this._context.typeChecker.getTypeAtLocation(t)}#tt(){let e=this.getSymbol();if(null==e)return;let t=e.getDeclarations()[0];if(null!=t&&tr.isTypeParameterDeclaration(t))return t}}class cQ{#tr;#ti;constructor(e,t){this.#ti=e,this.#tr=t}getSkippedFilePaths(){return this.#ti}getOutputFilePaths(){return this.#tr}}class cH{#ej;#tn;#ts;constructor(e,t){this.#ej=e,this._setPathInternal(t)}_setPathInternal(e){this.#tn=e,this.#ts=e.split("/").filter(e=>e.length>0)}get _context(){return this.#to(),this.#ej}isAncestorOf(e){return cH.#ta(this,e)}isDescendantOf(e){return cH.#ta(e,this)}_getDepth(){return this.#ts.length}getPath(){return this.#to(),this.#tn}getBaseName(){return this.#ts[this.#ts.length-1]}getParentOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getParent(),e??(()=>`Parent directory of ${this.getPath()} does not exist or was never added.`))}getParent(){if(!s.FileUtils.isRootDirPath(this.getPath()))return this.addDirectoryAtPathIfExists(s.FileUtils.getDirPath(this.getPath()))}getDirectoryOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getDirectory(e),()=>"string"==typeof e?`Could not find a directory at path '${this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath())}'.`:"Could not find child directory that matched condition.")}getDirectory(e){if("string"==typeof e){let t=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.compilerFactory.getDirectoryFromCache(t)}return this.getDirectories().find(e)}getSourceFileOrThrow(e){return s.errors.throwIfNullOrUndefined(this.getSourceFile(e),()=>{if("string"==typeof e){let t=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return`Could not find child source file at path '${t}'.`}return"Could not find child source file that matched condition."})}getSourceFile(e){if("string"==typeof e){let t=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.compilerFactory.getSourceFileFromCacheFromFilePath(t)}for(let t of this._getSourceFilesIterator())if(e(t))return t}getDirectories(){return Array.from(this._getDirectoriesIterator())}_getDirectoriesIterator(){return this._context.compilerFactory.getChildDirectoriesOfDirectory(this.getPath())}getSourceFiles(e){let{compilerFactory:t,fileSystemWrapper:r}=this._context,i=this;return"string"==typeof e||e instanceof Array?Array.from(function*(e){let n=Array.from(function*(){for(let e of i._getDescendantSourceFilesIterator())yield e.getFilePath()}());for(let o of s.matchGlobs(n,e,i.getPath()))yield t.getSourceFileFromCacheFromFilePath(r.getStandardizedAbsolutePath(o))}("string"==typeof e?[e]:e)):Array.from(this._getSourceFilesIterator())}_getSourceFilesIterator(){return this._context.compilerFactory.getChildSourceFilesOfDirectory(this.getPath())}getDescendantSourceFiles(){return Array.from(this._getDescendantSourceFilesIterator())}*_getDescendantSourceFilesIterator(){for(let e of this._getSourceFilesIterator())yield e;for(let e of this._getDirectoriesIterator())yield*e._getDescendantSourceFilesIterator()}getDescendantDirectories(){return Array.from(this._getDescendantDirectoriesIterator())}*_getDescendantDirectoriesIterator(){for(let e of this.getDirectories())yield e,yield*e._getDescendantDirectoriesIterator()}addSourceFilesAtPaths(e){return e=(e="string"==typeof e?[e]:e).map(e=>s.FileUtils.pathIsAbsolute(e)?e:s.FileUtils.pathJoin(this.getPath(),e)),this._context.directoryCoordinator.addSourceFilesAtPaths(e,{markInProject:this._isInProject()})}addDirectoryAtPathIfExists(e,t={}){let r=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.directoryCoordinator.addDirectoryAtPathIfExists(r,{...t,markInProject:this._isInProject()})}addDirectoryAtPath(e,t={}){let r=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.directoryCoordinator.addDirectoryAtPath(r,{...t,markInProject:this._isInProject()})}createDirectory(e){let t=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.directoryCoordinator.createDirectoryOrAddIfExists(t,{markInProject:this._isInProject()})}createSourceFile(e,t,r){let i=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.compilerFactory.createSourceFile(i,t||"",{...r||{},markInProject:this._isInProject()})}addSourceFileAtPathIfExists(e){let t=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.directoryCoordinator.addSourceFileAtPathIfExists(t,{markInProject:this._isInProject()})}addSourceFileAtPath(e){let t=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.directoryCoordinator.addSourceFileAtPath(t,{markInProject:this._isInProject()})}async emit(e={}){let{fileSystemWrapper:t}=this._context,r=[],i=[],n=[];for(let s of this.#tl(e))cY(s)?n.push(s):(r.push(t.writeFile(s.filePath,s.fileText)),i.push(s.filePath));return await Promise.all(r),new cQ(n,i)}emitSync(e={}){let{fileSystemWrapper:t}=this._context,r=[],i=[];for(let n of this.#tl(e))cY(n)?i.push(n):(t.writeFileSync(n.filePath,n.fileText),r.push(n.filePath));return new cQ(i,r)}#tl(e={}){let{emitOnlyDtsFiles:t=!1}=e,r=null==e.outDir?void 0:/\.js$/i,i=null==e.outDir?void 0:/\.js\.map$/i,n=null==e.declarationDir&&null==e.outDir?void 0:/\.d\.ts$/i,o=e=>null==e?void 0:this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath()),a=(e,t)=>null==e?void 0:s.FileUtils.pathJoin(e,t.getBaseName()),l=null!=this._context.compilerOptions.get().declarationDir||null!=e.declarationDir;return function* e(o,c,d){for(let e of o.getSourceFiles()){let o=e.getEmitOutput({emitOnlyDtsFiles:t});if(o.getEmitSkipped()){yield e.getFilePath();continue}for(let e of o.getOutputFiles()){let t=e.getFilePath(),o=e.getWriteByteOrderMark()?s.FileUtils.getTextWithByteOrderMark(e.getText()):e.getText();null!=c&&(r.test(t)||i.test(t)||!l&&n.test(t))?t=s.FileUtils.pathJoin(c,s.FileUtils.getBaseName(t)):null!=d&&n.test(t)&&(t=s.FileUtils.pathJoin(d,s.FileUtils.getBaseName(t))),yield{filePath:t,fileText:o}}}for(let t of o.getDirectories())yield*e(t,a(c,t),a(d,t))}(this,o(e.outDir),o(e.declarationDir))}copyToDirectory(e,t){let r="string"==typeof e?e:e.getPath();return this.copy(s.FileUtils.pathJoin(r,this.getBaseName()),t)}copy(e,t){let r=this.getPath(),i=this._context.fileSystemWrapper,n=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return r===n?this:((t=cq(t)).includeUntrackedFiles&&i.queueCopyDirectory(r,n),this.#tc(n,t))}async copyImmediately(e,t){let r=this._context.fileSystemWrapper,i=this.getPath(),n=r.getStandardizedAbsolutePath(e,i);if(i===n)return await this.save(),this;t=cq(t);let s=this.#tc(n,t);return t.includeUntrackedFiles&&await r.copyDirectoryImmediately(i,n),await s.save(),s}copyImmediatelySync(e,t){let r=this._context.fileSystemWrapper,i=this.getPath(),n=r.getStandardizedAbsolutePath(e,i);if(i===n)return this.saveSync(),this;t=cq(t);let s=this.#tc(n,t);return t.includeUntrackedFiles&&r.copyDirectoryImmediatelySync(i,n),s.saveSync(),s}#tc(e,t){if(this.getPath()===e)return this;let{fileSystemWrapper:r,compilerFactory:i}=this._context,n=[this,...this.getDescendantDirectories()].map(t=>({newDirPath:t===this?e:r.getStandardizedAbsolutePath(this.getRelativePathTo(t),e)})),s=this.getDescendantSourceFiles().map(t=>({sourceFile:t,newFilePath:r.getStandardizedAbsolutePath(this.getRelativePathTo(t),e),references:this.#td(t)}));for(let{newDirPath:e}of n)this._context.compilerFactory.createDirectoryOrAddIfExists(e,{markInProject:this._isInProject()});for(let{sourceFile:e,newFilePath:r}of s)e._copyInternal(r,t);for(let{references:e,newFilePath:t}of s)this.getSourceFileOrThrow(t)._updateReferencesForCopyInternal(e);return i.getDirectoryFromCache(e)}moveToDirectory(e,t){let r="string"==typeof e?e:e.getPath();return this.move(s.FileUtils.pathJoin(r,this.getBaseName()),t)}move(e,t){let r=this._context.fileSystemWrapper,i=this.getPath(),n=r.getStandardizedAbsolutePath(e,i);return i===n?this:this.#tu(n,t,()=>r.queueMoveDirectory(i,n))}async moveImmediately(e,t){let r=this._context.fileSystemWrapper,i=this.getPath(),n=r.getStandardizedAbsolutePath(e,i);return i===n||(this.#tu(n,t),await r.moveDirectoryImmediately(i,n)),await this.save(),this}moveImmediatelySync(e,t){let r=this._context.fileSystemWrapper,i=this.getPath(),n=r.getStandardizedAbsolutePath(e,i);return i===n||(this.#tu(n,t),r.moveDirectoryImmediatelySync(i,n)),this.saveSync(),this}#tu(e,t,r){let i=this.getPath();if(i===e)return this;let n=this._context.compilerFactory.getDirectoryFromCacheOnlyIfInCache(e),s=null!=n&&n._isInProject();r&&r();let o=this._context.fileSystemWrapper,a=this._context.compilerFactory,l=[this,...this.getDescendantDirectories()].map(t=>({directory:t,oldPath:t.getPath(),newDirPath:t===this?e:o.getStandardizedAbsolutePath(this.getRelativePathTo(t),e)})),c=this.getDescendantSourceFiles().map(t=>({sourceFile:t,newFilePath:o.getStandardizedAbsolutePath(this.getRelativePathTo(t),e),references:this.#th(t)}));for(let{directory:e,oldPath:t,newDirPath:r}of l){a.removeDirectoryFromCache(t);let i=a.getDirectoryFromCache(r);null!=i&&i._forgetOnlyThis(),e._setPathInternal(r),a.addDirectoryToCache(e)}for(let{sourceFile:e,newFilePath:r}of c)e._moveInternal(r,t);for(let{sourceFile:e,references:t}of c)e._updateReferencesForMoveInternal(t,i);return s&&this._markAsInProject(),this}clear(){let e=this.getPath();this.#tp(),this._context.fileSystemWrapper.queueDirectoryDelete(e),this._context.fileSystemWrapper.queueMkdir(e)}async clearImmediately(){let e=this.getPath();this.#tp(),await this._context.fileSystemWrapper.clearDirectoryImmediately(e)}clearImmediatelySync(){let e=this.getPath();this.#tp(),this._context.fileSystemWrapper.clearDirectoryImmediatelySync(e)}delete(){let e=this.getPath();this.#tp(),this._context.fileSystemWrapper.queueDirectoryDelete(e),this.forget()}#tp(){for(let e of this.getSourceFiles())e.delete();for(let e of this.getDirectories())e.delete()}async deleteImmediately(){let{fileSystemWrapper:e}=this._context,t=this.getPath();this.forget(),await e.deleteDirectoryImmediately(t)}deleteImmediatelySync(){let{fileSystemWrapper:e}=this._context,t=this.getPath();this.forget(),e.deleteDirectoryImmediatelySync(t)}forget(){if(!this.wasForgotten()){for(let e of this.getSourceFiles())e.forget();for(let e of this.getDirectories())e.forget();this._forgetOnlyThis()}}_forgetOnlyThis(){this.wasForgotten()||(this._context.compilerFactory.removeDirectoryFromCache(this.getPath()),this.#ej=void 0)}async save(){await this._context.fileSystemWrapper.saveForDirectory(this.getPath());let e=this.getDescendantSourceFiles().filter(e=>!e.isSaved());await Promise.all(e.map(e=>e.save()))}saveSync(){this._context.fileSystemWrapper.saveForDirectorySync(this.getPath()),this.getDescendantSourceFiles().filter(e=>!e.isSaved()).forEach(e=>e.saveSync())}getRelativePathTo(e){let t=this;return s.FileUtils.getRelativePathTo(this.getPath(),e instanceof sP?e.getFilePath():e instanceof cH?e.getPath():t._context.fileSystemWrapper.getStandardizedAbsolutePath(e,t.getPath()))}getRelativePathAsModuleSpecifierTo(e){let t=this._context.program.getEmitModuleResolutionKind(),r=this,i=s.FileUtils.getRelativePathTo(this.getPath(),function(){return e instanceof sP?i(e.getFilePath()):e instanceof cH?function(e){switch(t){case s.ModuleResolutionKind.Node10:if(e===r)return s.FileUtils.pathJoin(e.getPath(),"index.ts");return e.getPath();case s.ModuleResolutionKind.Classic:case s.ModuleResolutionKind.Node16:case s.ModuleResolutionKind.NodeNext:case s.ModuleResolutionKind.Bundler:return s.FileUtils.pathJoin(e.getPath(),"index.ts");default:return s.errors.throwNotImplementedForNeverValueError(t)}}(e):i(r._context.fileSystemWrapper.getStandardizedAbsolutePath(e,r.getPath()));function i(e){let i=s.FileUtils.getDirPath(e);switch(t){case s.ModuleResolutionKind.Node10:if(i===r.getPath())return e;return e.replace(/\/index?(\.d\.ts|\.ts|\.js)$/i,"");case s.ModuleResolutionKind.Classic:case s.ModuleResolutionKind.Node16:case s.ModuleResolutionKind.NodeNext:case s.ModuleResolutionKind.Bundler:return e;default:return s.errors.throwNotImplementedForNeverValueError(t)}}}()).replace(/((\.d\.ts$)|(\.[^/.]+$))/i,"");return i.startsWith("../")?i:"./"+i}getProject(){return this._context.project}wasForgotten(){return null==this.#ej}_isInProject(){return this._context.inProjectCoordinator.isDirectoryInProject(this)}_markAsInProject(){this._context.inProjectCoordinator.markDirectoryAsInProject(this)}_hasLoadedParent(){return this._context.compilerFactory.containsDirectoryAtPath(s.FileUtils.getDirPath(this.getPath()))}#to(){if(this.wasForgotten())throw new s.errors.InvalidOperationError("Cannot use a directory that was deleted, removed, or overwritten.")}#td(e){return e._getReferencesForCopyInternal().filter(e=>!this.isAncestorOf(e[1]))}#th(e){let{literalReferences:t,referencingLiterals:r}=e._getReferencesForMoveInternal();return{literalReferences:t.filter(e=>!this.isAncestorOf(e[1])),referencingLiterals:r.filter(e=>!this.isAncestorOf(e._sourceFile))}}static #ta(e,t){if(t instanceof sP&&e===(t=t.getDirectory()))return!0;if(e.#ts.length>=t.#ts.length)return!1;for(let r=e.#ts.length-1;r>=0;r--)if(e.#ts[r]!==t.#ts[r])return!1;return!0}}function cq(e){return _(e=s.ObjectUtils.clone(e||{}),"includeUntrackedFiles",!0),e}function cY(e){return"string"==typeof e}class cX{#tg;#K;constructor(e,t){this.#K=e,this.#tg=t}addDirectoryAtPathIfExists(e,t){let r=this.#K.getDirectoryFromPath(e,t);if(null!=r){if(t.recursive)for(let r of s.FileUtils.getDescendantDirectories(this.#tg,e))this.#K.createDirectoryOrAddIfExists(r,t);return r}}addDirectoryAtPath(e,t){let r=this.addDirectoryAtPathIfExists(e,t);if(null==r)throw new s.errors.DirectoryNotFoundError(e);return r}createDirectoryOrAddIfExists(e,t){return this.#K.createDirectoryOrAddIfExists(e,t)}addSourceFileAtPathIfExists(e,t){return this.#K.addOrGetSourceFileFromFilePath(e,{markInProject:t.markInProject,scriptKind:void 0})}addSourceFileAtPath(e,t){let r=this.addSourceFileAtPathIfExists(e,t);if(null==r)throw new s.errors.FileNotFoundError(this.#tg.getStandardizedAbsolutePath(e));return r}addSourceFilesAtPaths(e,t){"string"==typeof e&&(e=[e]);let r=[],i=new Set;for(let n of this.#tg.globSync(e)){let e=this.addSourceFileAtPathIfExists(n,t);null!=e&&r.push(e),i.add(s.FileUtils.getDirPath(n))}for(let e of s.FileUtils.getParentMostPaths(Array.from(i)))this.addDirectoryAtPathIfExists(e,{recursive:!0,markInProject:t.markInProject});return r}}class cZ{#ej;#tm=new s.KeyValueCache;#ty=new s.KeyValueCache;#tx=new s.KeyValueCache;#tf=new s.KeyValueCache;constructor(e){this.#ej=e}has(e){return this.#tm.has(e)}get(e){if(!this.#tm.has(e)){for(let t of this.#tf.getValues())if(s.FileUtils.pathStartsWith(t.getPath(),e))return this.createOrAddIfExists(e);return}return this.#tm.get(e)}getOrphans(){return this.#tf.getValues()}getAll(){return this.#tm.getValuesAsArray()}*getAllByDepth(){let e=new s.KeyValueCache,t=0;for(let e of this.getOrphans())r(e);for(t=Math.min(...Array.from(e.getKeys()));e.getSize()>0;){for(let i of e.get(t)||[])yield i,i.getDirectories().forEach(r);e.removeByKey(t),t++}function r(r){let i=r._getDepth();if(t>i)throw Error(`For some reason a subdirectory had a lower depth than the parent directory: ${r.getPath()}`);e.getOrCreate(i,()=>[]).push(r)}}remove(e){this.#tS(e),this.#tm.removeByKey(e),this.#tf.removeByKey(e)}*getChildDirectoriesOfDirectory(e){let t=this.#tx.get(e)?.entries();if(null!=t)for(let e of t)yield e}*getChildSourceFilesOfDirectory(e){let t=this.#ty.get(e)?.entries();if(null!=t)for(let e of t)yield e}addSourceFile(e){let t=e.getDirectoryPath();this.createOrAddIfExists(t),this.#ty.getOrCreate(t,()=>new s.SortedKeyValueArray(e=>e.getBaseName(),s.LocaleStringComparer.instance)).set(e)}removeSourceFile(e){let t=s.FileUtils.getDirPath(e),r=this.#ty.get(t);null!=r&&(r.removeByKey(s.FileUtils.getBaseName(e)),r.hasItems()||this.#ty.removeByKey(t))}createOrAddIfExists(e){return this.has(e)?this.get(e):(this.#tT(e),this.#tN(e))}#tN(e){let t=new cH(this.#ej,e);return this.addDirectory(t),t}addDirectory(e){let t=e.getPath(),r=s.FileUtils.getDirPath(t),i=r===t;for(let e of this.#tf.getValues()){let r=e.getPath(),i=s.FileUtils.getDirPath(r);i!==r&&i===t&&this.#tf.removeByKey(r)}for(let n of(i||this.#tK(e),this.has(r)||this.#tf.set(t,e),this.#tm.set(t,e),this.#ej.fileSystemWrapper.directoryExistsSync(t)||this.#ej.fileSystemWrapper.queueMkdir(t),this.#tf.getValues()))e.isAncestorOf(n)&&this.#tT(n.getPath())}#tK(e){if(s.FileUtils.isRootDirPath(e.getPath()))return;let t=s.FileUtils.getDirPath(e.getPath());this.#tx.getOrCreate(t,()=>new s.SortedKeyValueArray(e=>e.getBaseName(),s.LocaleStringComparer.instance)).set(e)}#tS(e){if(s.FileUtils.isRootDirPath(e))return;let t=s.FileUtils.getDirPath(e),r=this.#tx.get(t);null!=r&&(r.removeByKey(s.FileUtils.getBaseName(e)),r.hasItems()||this.#tx.removeByKey(t))}#tT(e){let t=[],r=s.FileUtils.getDirPath(e);for(;e!==r;){if(e=r,r=s.FileUtils.getDirPath(e),this.#tm.has(e)){for(let e of t)this.#tN(e);break}t.unshift(e)}}}class c0 extends s.KeyValueCache{#tw=[];getOrCreate(e,t){return super.getOrCreate(e,()=>{let e=t();return this.#tw.length>0&&this.#tw[this.#tw.length-1].add(e),e})}setForgetPoint(){this.#tw.push(new Set)}forgetLastPoint(){let e=this.#tw.pop();null!=e&&this.#tF(e.values())}rememberNode(e){if(e.wasForgotten())throw new s.errors.InvalidOperationError("Cannot remember a node that was removed or forgotten.");let t=!1;for(let r of this.#tw)if(r.delete(e)){t=!0;break}return t&&this.#tC(e),t}#tC(e){let t=e.getParentSyntaxList()||e.getParent();null!=t&&this.rememberNode(t)}#tF(e){for(let t of e)t.wasForgotten()||t.getKind()===s.SyntaxKind.SourceFile||t._forgetOnlyThis()}}let c1={[s.SyntaxKind.SourceFile]:sP,[s.SyntaxKind.ArrayBindingPattern]:r5,[s.SyntaxKind.ArrayLiteralExpression]:io,[s.SyntaxKind.ArrayType]:oO,[s.SyntaxKind.ArrowFunction]:sB,[s.SyntaxKind.AsExpression]:id,[s.SyntaxKind.AwaitExpression]:ih,[s.SyntaxKind.BigIntLiteral]:lq,[s.SyntaxKind.BindingElement]:r3,[s.SyntaxKind.BinaryExpression]:r4,[s.SyntaxKind.Block]:np,[s.SyntaxKind.BreakStatement]:ng,[s.SyntaxKind.CallExpression]:ig,[s.SyntaxKind.CallSignature]:ls,[s.SyntaxKind.CaseBlock]:ny,[s.SyntaxKind.CaseClause]:nf,[s.SyntaxKind.CatchClause]:nT,[s.SyntaxKind.ClassDeclaration]:oe,[s.SyntaxKind.ClassExpression]:ol,[s.SyntaxKind.ClassStaticBlockDeclaration]:od,[s.SyntaxKind.ConditionalType]:oA,[s.SyntaxKind.Constructor]:og,[s.SyntaxKind.ConstructorType]:ok,[s.SyntaxKind.ConstructSignature]:ll,[s.SyntaxKind.ContinueStatement]:nK,[s.SyntaxKind.CommaListExpression]:iy,[s.SyntaxKind.ComputedPropertyName]:lN,[s.SyntaxKind.ConditionalExpression]:iS,[s.SyntaxKind.DebuggerStatement]:nF,[s.SyntaxKind.Decorator]:oK,[s.SyntaxKind.DefaultClause]:nb,[s.SyntaxKind.DeleteExpression]:iN,[s.SyntaxKind.DoStatement]:nE,[s.SyntaxKind.ElementAccessExpression]:iw,[s.SyntaxKind.EmptyStatement]:nO,[s.SyntaxKind.EnumDeclaration]:a4,[s.SyntaxKind.EnumMember]:lt,[s.SyntaxKind.ExportAssignment]:n1,[s.SyntaxKind.ExportDeclaration]:n2,[s.SyntaxKind.ExportSpecifier]:n8,[s.SyntaxKind.ExpressionWithTypeArguments]:oW,[s.SyntaxKind.ExpressionStatement]:nv,[s.SyntaxKind.ExternalModuleReference]:n6,[s.SyntaxKind.QualifiedName]:lb,[s.SyntaxKind.ForInStatement]:nL,[s.SyntaxKind.ForOfStatement]:nM,[s.SyntaxKind.ForStatement]:nB,[s.SyntaxKind.FunctionDeclaration]:sG,[s.SyntaxKind.FunctionExpression]:sH,[s.SyntaxKind.FunctionType]:oR,[s.SyntaxKind.GetAccessor]:oy,[s.SyntaxKind.HeritageClause]:lr,[s.SyntaxKind.Identifier]:lw,[s.SyntaxKind.IfStatement]:nj,[s.SyntaxKind.ImportClause]:si,[s.SyntaxKind.ImportDeclaration]:ss,[s.SyntaxKind.ImportEqualsDeclaration]:sl,[s.SyntaxKind.ImportSpecifier]:sd,[s.SyntaxKind.ImportType]:oj,[s.SyntaxKind.ImportAttribute]:n4,[s.SyntaxKind.ImportAttributes]:st,[s.SyntaxKind.IndexedAccessType]:oJ,[s.SyntaxKind.IndexSignature]:ld,[s.SyntaxKind.InferType]:oU,[s.SyntaxKind.InterfaceDeclaration]:lh,[s.SyntaxKind.IntersectionType]:oz,[s.SyntaxKind.JSDocAllType]:ai,[s.SyntaxKind.JSDocAugmentsTag]:ad,[s.SyntaxKind.JSDocAuthorTag]:au,[s.SyntaxKind.JSDocCallbackTag]:ah,[s.SyntaxKind.JSDocClassTag]:ap,[s.SyntaxKind.JSDocDeprecatedTag]:ag,[s.SyntaxKind.JSDocEnumTag]:am,[s.SyntaxKind.JSDocFunctionType]:ax,[s.SyntaxKind.JSDocImplementsTag]:af,[s.SyntaxKind.JSDocLink]:aS,[s.SyntaxKind.JSDocLinkCode]:aT,[s.SyntaxKind.JSDocLinkPlain]:aN,[s.SyntaxKind.JSDocMemberName]:aK,[s.SyntaxKind.JSDocNamepathType]:aw,[s.SyntaxKind.JSDocNameReference]:aF,[s.SyntaxKind.JSDocNonNullableType]:aC,[s.SyntaxKind.JSDocNullableType]:ab,[s.SyntaxKind.JSDocOptionalType]:aI,[s.SyntaxKind.JSDocOverrideTag]:aD,[s.SyntaxKind.JSDocParameterTag]:aA,[s.SyntaxKind.JSDocPrivateTag]:av,[s.SyntaxKind.JSDocPropertyTag]:aL,[s.SyntaxKind.JSDocProtectedTag]:ak,[s.SyntaxKind.JSDocPublicTag]:aM,[s.SyntaxKind.JSDocReturnTag]:aR,[s.SyntaxKind.JSDocReadonlyTag]:aW,[s.SyntaxKind.JSDocThrowsTag]:aZ,[s.SyntaxKind.JSDocOverloadTag]:aE,[s.SyntaxKind.JSDocSatisfiesTag]:aJ,[s.SyntaxKind.JSDocSeeTag]:az,[s.SyntaxKind.JSDocSignature]:aV,[s.SyntaxKind.JSDocTag]:a3,[s.SyntaxKind.JSDocTemplateTag]:aQ,[s.SyntaxKind.JSDocText]:aH,[s.SyntaxKind.JSDocThisTag]:aY,[s.SyntaxKind.JSDocTypeExpression]:a1,[s.SyntaxKind.JSDocTypeLiteral]:a5,[s.SyntaxKind.JSDocTypeTag]:a2,[s.SyntaxKind.JSDocTypedefTag]:a0,[s.SyntaxKind.JSDocUnknownType]:a8,[s.SyntaxKind.JSDocVariadicType]:a9,[s.SyntaxKind.JsxAttribute]:lP,[s.SyntaxKind.JsxClosingElement]:lD,[s.SyntaxKind.JsxClosingFragment]:lO,[s.SyntaxKind.JsxElement]:lv,[s.SyntaxKind.JsxExpression]:lk,[s.SyntaxKind.JsxFragment]:lM,[s.SyntaxKind.JsxNamespacedName]:lB,[s.SyntaxKind.JsxOpeningElement]:lj,[s.SyntaxKind.JsxOpeningFragment]:lJ,[s.SyntaxKind.JsxSelfClosingElement]:lz,[s.SyntaxKind.JsxSpreadAttribute]:l$,[s.SyntaxKind.JsxText]:lQ,[s.SyntaxKind.LabeledStatement]:nU,[s.SyntaxKind.LiteralType]:oV,[s.SyntaxKind.MappedType]:o$,[s.SyntaxKind.MetaProperty]:iE,[s.SyntaxKind.MethodDeclaration]:s5,[s.SyntaxKind.MethodSignature]:lg,[s.SyntaxKind.ModuleBlock]:sh,[s.SyntaxKind.ModuleDeclaration]:sm,[s.SyntaxKind.NamedExports]:sf,[s.SyntaxKind.NamedImports]:sT,[s.SyntaxKind.NamedTupleMember]:oQ,[s.SyntaxKind.NamespaceExport]:sK,[s.SyntaxKind.NamespaceImport]:sF,[s.SyntaxKind.NewExpression]:iO,[s.SyntaxKind.NonNullExpression]:iv,[s.SyntaxKind.NotEmittedStatement]:nV,[s.SyntaxKind.NoSubstitutionTemplateLiteral]:cr,[s.SyntaxKind.NumericLiteral]:l9,[s.SyntaxKind.ObjectBindingPattern]:r8,[s.SyntaxKind.ObjectLiteralExpression]:iM,[s.SyntaxKind.OmittedExpression]:iV,[s.SyntaxKind.Parameter]:sY,[s.SyntaxKind.ParenthesizedExpression]:iG,[s.SyntaxKind.ParenthesizedType]:oH,[s.SyntaxKind.PartiallyEmittedExpression]:iH,[s.SyntaxKind.PostfixUnaryExpression]:iY,[s.SyntaxKind.PrefixUnaryExpression]:iZ,[s.SyntaxKind.PrivateIdentifier]:lC,[s.SyntaxKind.PropertyAccessExpression]:i1,[s.SyntaxKind.PropertyAssignment]:iB,[s.SyntaxKind.PropertyDeclaration]:of,[s.SyntaxKind.PropertySignature]:ly,[s.SyntaxKind.RegularExpressionLiteral]:l7,[s.SyntaxKind.RestType]:oq,[s.SyntaxKind.ReturnStatement]:nG,[s.SyntaxKind.SatisfiesExpression]:i2,[s.SyntaxKind.SetAccessor]:oT,[s.SyntaxKind.ShorthandPropertyAssignment]:ij,[s.SyntaxKind.SpreadAssignment]:iU,[s.SyntaxKind.SpreadElement]:i8,[s.SyntaxKind.StringLiteral]:ce,[s.SyntaxKind.SwitchStatement]:nH,[s.SyntaxKind.SyntaxList]:tl,[s.SyntaxKind.TaggedTemplateExpression]:ci,[s.SyntaxKind.TemplateExpression]:cs,[s.SyntaxKind.TemplateHead]:ca,[s.SyntaxKind.TemplateLiteralType]:oY,[s.SyntaxKind.TemplateMiddle]:cc,[s.SyntaxKind.TemplateSpan]:cu,[s.SyntaxKind.TemplateTail]:cp,[s.SyntaxKind.ThisType]:oX,[s.SyntaxKind.ThrowStatement]:nY,[s.SyntaxKind.TryStatement]:nZ,[s.SyntaxKind.TupleType]:oZ,[s.SyntaxKind.TypeAliasDeclaration]:o1,[s.SyntaxKind.TypeAssertionExpression]:nt,[s.SyntaxKind.TypeLiteral]:o2,[s.SyntaxKind.TypeOperator]:o3,[s.SyntaxKind.TypeParameter]:o9,[s.SyntaxKind.TypePredicate]:o7,[s.SyntaxKind.TypeQuery]:o4,[s.SyntaxKind.TypeReference]:ae,[s.SyntaxKind.UnionType]:at,[s.SyntaxKind.VariableDeclaration]:cm,[s.SyntaxKind.VariableDeclarationList]:cx,[s.SyntaxKind.VariableStatement]:sA,[s.SyntaxKind.JSDoc]:oI,[s.SyntaxKind.TypeOfExpression]:ni,[s.SyntaxKind.WhileStatement]:s_,[s.SyntaxKind.WithStatement]:sk,[s.SyntaxKind.YieldExpression]:na,[s.SyntaxKind.SemicolonToken]:tr,[s.SyntaxKind.AnyKeyword]:r6,[s.SyntaxKind.BooleanKeyword]:r6,[s.SyntaxKind.FalseKeyword]:l0,[s.SyntaxKind.ImportKeyword]:iC,[s.SyntaxKind.InferKeyword]:tr,[s.SyntaxKind.NeverKeyword]:tr,[s.SyntaxKind.NullKeyword]:l3,[s.SyntaxKind.NumberKeyword]:r6,[s.SyntaxKind.ObjectKeyword]:r6,[s.SyntaxKind.StringKeyword]:r6,[s.SyntaxKind.SymbolKeyword]:r6,[s.SyntaxKind.SuperKeyword]:i6,[s.SyntaxKind.ThisKeyword]:i4,[s.SyntaxKind.TrueKeyword]:lX,[s.SyntaxKind.UndefinedKeyword]:r6,[s.SyntaxKind.VoidExpression]:ns};class c5{#ej;#tb=new Map;#tI=new s.WeakCache;#tP=new s.WeakCache;#tE=new s.WeakCache;#tD=new s.WeakCache;#tO=new s.WeakCache;#tA=new s.WeakCache;#tv=new s.WeakCache;#t_=new s.WeakCache;#tL=new s.WeakCache;#tk=new s.WeakCache;#tM=new s.WeakCache;#tW=new s.WeakCache;#tB=new s.WeakCache;#tR=new c0;#tj;#tJ=new s.EventContainer;#tU=new s.EventContainer;documentRegistry;constructor(e){this.documentRegistry=new s.DocumentRegistry(e.fileSystemWrapper),this.#tj=new cZ(e),e.compilerOptions.onModified(()=>{for(let e of Array.from(this.#tb.values()))!function(e){e8({sourceFile:e,newFilePath:e.getFilePath()})}(e)}),this.#ej=e}*getSourceFilesByDirectoryDepth(){for(let e of this.getDirectoriesByDepth())yield*e.getSourceFiles()}getSourceFilePaths(){return this.#tb.keys()}getChildDirectoriesOfDirectory(e){return this.#tj.getChildDirectoriesOfDirectory(e)}getChildSourceFilesOfDirectory(e){return this.#tj.getChildSourceFilesOfDirectory(e)}onSourceFileAdded(e,t=!0){t?this.#tJ.subscribe(e):this.#tJ.unsubscribe(e)}onSourceFileRemoved(e){this.#tU.subscribe(e)}createSourceFile(e,t,r){if("string"==typeof(t=t instanceof Function?k(this.#ej.createWriter(),t):t||""))return this.createSourceFileFromText(e,t,r);let i=this.#ej.createWriter();return this.#ej.structurePrinterFactory.forSourceFile({isAmbient:".d.ts"===s.FileUtils.getExtension(e)}).printText(i,t),this.createSourceFileFromText(e,i.toString(),r)}createSourceFileFromText(e,t,r){return(e=this.#ej.fileSystemWrapper.getStandardizedAbsolutePath(e),!0===r.overwrite)?this.#tz(e,t,r):(this.throwIfFileExists(e,"Did you mean to provide the overwrite option?"),this.#tV(e,t,r))}throwIfFileExists(e,t){if(this.containsSourceFileAtPath(e)||this.#ej.fileSystemWrapper.fileExistsSync(e))throw t=null==t?"":t+" ",new s.errors.InvalidOperationError(`${t}A source file already exists at the provided file path: ${e}`)}#tz(e,t,r){e=this.#ej.fileSystemWrapper.getStandardizedAbsolutePath(e);let i=this.addOrGetSourceFileFromFilePath(e,r);return null!=i?(i.getChildren().forEach(e=>e.forget()),this.replaceCompilerNode(i,this.createCompilerSourceFileFromText(e,t,r.scriptKind)),i):this.#tV(e,t,r)}getSourceFileFromCacheFromFilePath(e){return e=this.#ej.fileSystemWrapper.getStandardizedAbsolutePath(e),this.#tb.get(e)}addOrGetSourceFileFromFilePath(e,t){e=this.#ej.fileSystemWrapper.getStandardizedAbsolutePath(e);let r=this.#tb.get(e);if(null==r){let i=this.#ej.fileSystemWrapper.readFileIfExistsSync(e,this.#ej.getEncoding());null!=i&&(this.#ej.logger.log(`Loaded file: ${e}`),(r=this.#tV(e,i,t))._setIsSaved(!0))}return null!=r&&t.markInProject&&r._markAsInProject(),r}containsSourceFileAtPath(e){return e=this.#ej.fileSystemWrapper.getStandardizedAbsolutePath(e),this.#tb.has(e)}containsDirectoryAtPath(e){return e=this.#ej.fileSystemWrapper.getStandardizedAbsolutePath(e),this.#tj.has(e)}getSourceFileForNode(e){let t=e;for(;t.kind!==s.SyntaxKind.SourceFile;){if(null==t.parent)return;t=t.parent}return this.getSourceFile(t,{markInProject:!1})}hasCompilerNode(e){return this.#tR.has(e)}getExistingNodeFromCompilerNode(e){return this.#tR.get(e)}getNodeFromCompilerNode(e,t){if(e.kind===s.SyntaxKind.SourceFile)return this.getSourceFile(e,{markInProject:!1});return this.#tR.getOrCreate(e,()=>{let e=r.call(this);return i.call(this,e),e});function r(){return null!=e._commentKind?T.isCommentStatement(e)?new nN(this.#ej,e,t):T.isCommentClassElement(e)?new ou(this.#ej,e,t):T.isCommentTypeElement(e)?new lo(this.#ej,e,t):T.isCommentObjectLiteralElement(e)?new iL(this.#ej,e,t):T.isCommentEnumMember(e)?new a6(this.#ej,e,t):s.errors.throwNotImplementedForNeverValueError(e):new(c1[e.kind]||tr)(this.#ej,e,t)}function i(r){if(null!=e.parent){let r=this.getNodeFromCompilerNode(e.parent,t);r._wrappedChildCount++}let i=r._getParentSyntaxListIfWrapped();if(null!=i&&i._wrappedChildCount++,e.kind===s.SyntaxKind.SyntaxList){let e=0;for(let t of r._getChildrenInCacheIterator())e++;r._wrappedChildCount=e}}}#tV(e,t,r){let i=s.StringUtils.hasBom(t);i&&(t=s.StringUtils.stripBom(t));let n=this.getSourceFile(this.createCompilerSourceFileFromText(e,t,r.scriptKind),r);return i&&(n._hasBom=!0),n}createCompilerSourceFileFromText(e,t,r){return this.documentRegistry.createOrUpdateSourceFile(e,this.#ej.compilerOptions.get(),s.ts.ScriptSnapshot.fromString(t),r)}getSourceFile(e,t){let r=!1,i=this.#tb.get(e.fileName)??this.#tR.getOrCreate(e,()=>{let i=new sP(this.#ej,e);return t.markInProject||this.#ej.inProjectCoordinator.setSourceFileNotInProject(i),this.#t$(i),r=!0,i});return t.markInProject&&i._markAsInProject(),r&&this.#tJ.fire(i),i}#t$(e){this.#tb.set(e.getFilePath(),e),this.#ej.fileSystemWrapper.removeFileDelete(e.getFilePath()),this.#tj.addSourceFile(e)}getDirectoryFromPath(e,t){e=this.#ej.fileSystemWrapper.getStandardizedAbsolutePath(e);let r=this.#tj.get(e);return null==r&&this.#ej.fileSystemWrapper.directoryExistsSync(e)&&(r=this.#tj.createOrAddIfExists(e)),null!=r&&t.markInProject&&r._markAsInProject(),r}createDirectoryOrAddIfExists(e,t){let r=this.#tj.createOrAddIfExists(e);return null!=r&&t.markInProject&&r._markAsInProject(),r}getDirectoryFromCache(e){return this.#tj.get(e)}getDirectoryFromCacheOnlyIfInCache(e){return this.#tj.has(e)?this.#tj.get(e):void 0}getDirectoriesByDepth(){return this.#tj.getAllByDepth()}getOrphanDirectories(){return this.#tj.getOrphans()}getSymbolDisplayPart(e){return this.#t_.getOrCreate(e,()=>new cJ(e))}getType(e){return(e.flags&s.TypeFlags.TypeParameter)===s.TypeFlags.TypeParameter?this.getTypeParameter(e):this.#tW.getOrCreate(e,()=>new c$(this.#ej,e))}getTypeParameter(e){return this.#tB.getOrCreate(e,()=>new cG(this.#ej,e))}getSignature(e){return this.#tA.getOrCreate(e,()=>new cf(this.#ej,e))}getSymbol(e){return this.#tv.getOrCreate(e,()=>new cS(this.#ej,e))}getDefinitionInfo(e){return this.#tP.getOrCreate(e,()=>new cI(this.#ej,e))}getDocumentSpan(e){return this.#tE.getOrCreate(e,()=>new cb(this.#ej,e))}getReferencedSymbolEntry(e){return this.#tL.getOrCreate(e,()=>new cR(this.#ej,e))}getReferencedSymbol(e){return this.#tk.getOrCreate(e,()=>new cM(this.#ej,e))}getReferencedSymbolDefinitionInfo(e){return this.#tM.getOrCreate(e,()=>new cW(this.#ej,e))}getDiagnostic(e){return this.#tI.getOrCreate(e,()=>null!=e.start?new cD(this.#ej,e):new cE(this.#ej,e))}getDiagnosticWithLocation(e){return this.#tI.getOrCreate(e,()=>new cD(this.#ej,e))}getDiagnosticMessageChain(e){return this.#tD.getOrCreate(e,()=>new cP(e))}getJSDocTagInfo(e){return this.#tO.getOrCreate(e,()=>new a$(e))}replaceCompilerNode(e,t){let r=e instanceof tr?e.compilerNode:e,i=e instanceof tr?e:this.#tR.get(e);r.kind===s.SyntaxKind.SourceFile&&r.fileName!==t.fileName?(this.#tG(r),i._replaceCompilerNodeFromFactory(t),this.#tR.set(t,i),this.#t$(i),this.#tJ.fire(i)):(this.#tR.replaceKey(r,t),null!=i&&i._replaceCompilerNodeFromFactory(t))}removeNodeFromCache(e){this.#tG(e.compilerNode)}#tG(e){if(this.#tR.removeByKey(e),e.kind===s.SyntaxKind.SourceFile){let t=this.#ej.fileSystemWrapper.getStandardizedAbsolutePath(e.fileName);this.#tj.removeSourceFile(t);let r=this.#tb.get(t);this.#tb.delete(t),this.documentRegistry.removeSourceFile(t),null!=r&&this.#tU.fire(r)}}addDirectoryToCache(e){this.#tj.addDirectory(e)}removeDirectoryFromCache(e){this.#tj.remove(e)}forgetNodesCreatedInBlock(e){let t;this.#tR.setForgetPoint();let r=!1;try{var i;if(t=e((...e)=>{for(let t of e)this.#tR.rememberNode(t)}),tr.isNode(t)&&this.#tR.rememberNode(t),i=t,null!=i&&"function"==typeof i.then)return r=!0,t.then(e=>(tr.isNode(e)&&this.#tR.rememberNode(e),this.#tR.forgetLastPoint(),e))}finally{r||this.#tR.forgetLastPoint()}return t}}class c2{#K;#tQ=new Set;constructor(e){e.onSourceFileRemoved(e=>{this.#tQ.delete(e)}),this.#K=e}setSourceFileNotInProject(e){this.#tQ.add(e),e._inProject=!1}markSourceFileAsInProject(e){this.isSourceFileInProject(e)||(this.#tH(e),this.#tQ.delete(e))}markSourceFilesAsInProjectForResolution(){let e="/node_modules/",t=this.#K,r=[],i=[];for(let n of[...this.#tQ.values()])!function(r){let i=r.getFilePath(),n=i.toLowerCase().lastIndexOf(e);if(-1===n)return!0;let o=i.substring(0,n+e.length-1),a=t.getDirectoryFromCacheOnlyIfInCache(o);if(null!=a&&a._isInProject())return!0;let l=r.getDirectory();for(;null!=l&&l.getPath()!==o;){if(l._isInProject())return!0;l=t.getDirectoryFromCacheOnlyIfInCache(s.FileUtils.getDirPath(l.getPath()))}return!1}(n)?i.push(n):(this.#tH(n),this.#tQ.delete(n),r.push(n));return{changedSourceFiles:r,unchangedSourceFiles:i}}#tH(e){e._inProject=!0,this.markDirectoryAsInProject(e.getDirectory())}isSourceFileInProject(e){return!0===e._inProject}setDirectoryAndFilesAsNotInProjectForTesting(e){for(let t of e.getDirectories())this.setDirectoryAndFilesAsNotInProjectForTesting(t);for(let t of e.getSourceFiles())delete t._inProject,this.#tQ.add(t);delete e._inProject}markDirectoryAsInProject(e){if(this.isDirectoryInProject(e))return;let t=this,r=this.#K;e._inProject=!0,function(e){let i=Array.from(function* e(i){if(s.FileUtils.isRootDirPath(i.getPath()))return;let n=s.FileUtils.getDirPath(i.getPath()),o=r.getDirectoryFromCacheOnlyIfInCache(n);null!=o&&(yield o,t.isDirectoryInProject(o)||(yield*e(o)))}(e)),n=i[i.length-1];if(null!=n&&t.isDirectoryInProject(n))for(let e of i)e._inProject=!0}(e)}isDirectoryInProject(e){return!0===e._inProject}}class c3{_getFormatCodeSettings;constructor(e){this._getFormatCodeSettings=e}getFormatCodeSettings(){return this._getFormatCodeSettings()}forInitializerExpressionableNode(){return new tK}forModifierableNode(){return new tw}forReturnTypedNode(e){return new tF(e)}forTypedNode(e,t){return new tC(e,t)}forClassDeclaration(e){return new t_(this,e)}forClassMember(e){return new tM(this,e)}forClassStaticBlockDeclaration(){return new tW(this)}forConstructorDeclaration(e){return new tB(this,e)}forGetAccessorDeclaration(e){return new tR(this,e)}forMethodDeclaration(e){return new tj(this,e)}forPropertyDeclaration(){return new tJ(this)}forSetAccessorDeclaration(e){return new tU(this,e)}forDecorator(){return new tV(this)}forJSDoc(){return new t$(this)}forJSDocTag(e){return new tG(this,e)}forEnumDeclaration(){return new tQ(this)}forEnumMember(){return new tH(this)}forObjectLiteralExpressionProperty(){return new tq(this)}forPropertyAssignment(){return new tY(this)}forShorthandPropertyAssignment(){return new tX(this)}forSpreadAssignment(){return new tZ(this)}forFunctionDeclaration(e){return new t0(this,e)}forParameterDeclaration(){return new t1(this)}forCallSignatureDeclaration(){return new t5(this)}forConstructSignatureDeclaration(){return new t2(this)}forIndexSignatureDeclaration(){return new t3(this)}forInterfaceDeclaration(){return new t8(this)}forMethodSignature(){return new t9(this)}forPropertySignature(){return new t6(this)}forTypeElementMemberedNode(){return new t7(this)}forTypeElementMember(){return new t4(this)}forJsxAttributeDecider(){return new re(this)}forJsxAttribute(){return new rt(this)}forJsxChildDecider(){return new rr(this)}forJsxElement(){return new ri(this)}forJsxNamespacedName(){return new rn(this)}forJsxSelfClosingElement(){return new rs(this)}forJsxSpreadAttribute(){return new ro(this)}forExportAssignment(){return new ra(this)}forExportDeclaration(){return new rl(this)}forImportAttribute(){return new rc(this)}forImportDeclaration(){return new rd(this)}forModuleDeclaration(e){return new ru(this,e)}forNamedImportExportSpecifier(){return new rh(this)}forSourceFile(e){return new rp(this,e)}forStatementedNode(e){return new rg(this,e)}forStatement(e){return new rm(this,e)}forVariableStatement(){return new ry(this)}forTypeAliasDeclaration(){return new rx(this)}forTypeParameterDeclaration(){return new rf(this)}forVariableDeclaration(){return new rS(this)}}sb([s.Memoize],c3.prototype,"forInitializerExpressionableNode",null),sb([s.Memoize],c3.prototype,"forModifierableNode",null),sb([s.Memoize],c3.prototype,"forReturnTypedNode",null),sb([s.Memoize],c3.prototype,"forTypedNode",null),sb([s.Memoize],c3.prototype,"forClassDeclaration",null),sb([s.Memoize],c3.prototype,"forClassMember",null),sb([s.Memoize],c3.prototype,"forClassStaticBlockDeclaration",null),sb([s.Memoize],c3.prototype,"forConstructorDeclaration",null),sb([s.Memoize],c3.prototype,"forGetAccessorDeclaration",null),sb([s.Memoize],c3.prototype,"forMethodDeclaration",null),sb([s.Memoize],c3.prototype,"forPropertyDeclaration",null),sb([s.Memoize],c3.prototype,"forSetAccessorDeclaration",null),sb([s.Memoize],c3.prototype,"forDecorator",null),sb([s.Memoize],c3.prototype,"forJSDoc",null),sb([s.Memoize],c3.prototype,"forJSDocTag",null),sb([s.Memoize],c3.prototype,"forEnumDeclaration",null),sb([s.Memoize],c3.prototype,"forEnumMember",null),sb([s.Memoize],c3.prototype,"forObjectLiteralExpressionProperty",null),sb([s.Memoize],c3.prototype,"forPropertyAssignment",null),sb([s.Memoize],c3.prototype,"forShorthandPropertyAssignment",null),sb([s.Memoize],c3.prototype,"forSpreadAssignment",null),sb([s.Memoize],c3.prototype,"forFunctionDeclaration",null),sb([s.Memoize],c3.prototype,"forParameterDeclaration",null),sb([s.Memoize],c3.prototype,"forCallSignatureDeclaration",null),sb([s.Memoize],c3.prototype,"forConstructSignatureDeclaration",null),sb([s.Memoize],c3.prototype,"forIndexSignatureDeclaration",null),sb([s.Memoize],c3.prototype,"forInterfaceDeclaration",null),sb([s.Memoize],c3.prototype,"forMethodSignature",null),sb([s.Memoize],c3.prototype,"forPropertySignature",null),sb([s.Memoize],c3.prototype,"forTypeElementMemberedNode",null),sb([s.Memoize],c3.prototype,"forTypeElementMember",null),sb([s.Memoize],c3.prototype,"forJsxAttributeDecider",null),sb([s.Memoize],c3.prototype,"forJsxAttribute",null),sb([s.Memoize],c3.prototype,"forJsxChildDecider",null),sb([s.Memoize],c3.prototype,"forJsxElement",null),sb([s.Memoize],c3.prototype,"forJsxNamespacedName",null),sb([s.Memoize],c3.prototype,"forJsxSelfClosingElement",null),sb([s.Memoize],c3.prototype,"forJsxSpreadAttribute",null),sb([s.Memoize],c3.prototype,"forExportAssignment",null),sb([s.Memoize],c3.prototype,"forExportDeclaration",null),sb([s.Memoize],c3.prototype,"forImportAttribute",null),sb([s.Memoize],c3.prototype,"forImportDeclaration",null),sb([s.Memoize],c3.prototype,"forModuleDeclaration",null),sb([s.Memoize],c3.prototype,"forNamedImportExportSpecifier",null),sb([s.Memoize],c3.prototype,"forSourceFile",null),sb([s.Memoize],c3.prototype,"forStatementedNode",null),sb([s.Memoize],c3.prototype,"forStatement",null),sb([s.Memoize],c3.prototype,"forVariableStatement",null),sb([s.Memoize],c3.prototype,"forTypeAliasDeclaration",null),sb([s.Memoize],c3.prototype,"forTypeParameterDeclaration",null),sb([s.Memoize],c3.prototype,"forVariableDeclaration",null);class c8{#tq;#tY;#tX;#tZ;get project(){if(null==this.#tZ)throw new s.errors.InvalidOperationError("This operation is not permitted in this context.");return this.#tZ}logger=new B;lazyReferenceCoordinator;directoryCoordinator;fileSystemWrapper;manipulationSettings=new v;structurePrinterFactory;compilerFactory;inProjectCoordinator;constructor(e){this.#tZ=e.project,this.fileSystemWrapper=e.fileSystemWrapper,this.#tY=e.compilerOptionsContainer,this.compilerFactory=new c5(this),this.inProjectCoordinator=new c2(this.compilerFactory),this.structurePrinterFactory=new c3(()=>this.manipulationSettings.getFormatCodeSettings()),this.lazyReferenceCoordinator=new U(this.compilerFactory),this.directoryCoordinator=new cX(this.compilerFactory,e.fileSystemWrapper),this.#tq=e.createLanguageService?new cV({context:this,configFileParsingDiagnostics:e.configFileParsingDiagnostics,resolutionHost:e.resolutionHost&&e.resolutionHost(this.getModuleResolutionHost(),()=>this.compilerOptions.get()),skipLoadingLibFiles:e.skipLoadingLibFiles,libFolderPath:e.libFolderPath}):void 0,null!=e.typeChecker&&(s.errors.throwIfTrue(e.createLanguageService,"Cannot specify a type checker and create a language service."),this.#tX=new cU(this),this.#tX._reset(()=>e.typeChecker))}get compilerOptions(){return this.#tY}get languageService(){if(null==this.#tq)throw this.#t0("language service");return this.#tq}get program(){if(null==this.#tq)throw this.#t0("program");return this.languageService.getProgram()}get typeChecker(){if(null!=this.#tX)return this.#tX;if(null==this.#tq)throw this.#t0("type checker");return this.program.getTypeChecker()}hasLanguageService(){return null!=this.#tq}getEncoding(){return this.compilerOptions.getEncoding()}getFormatCodeSettings(){return this.manipulationSettings.getFormatCodeSettings()}getUserPreferences(){return this.manipulationSettings.getUserPreferences()}resetProgram(){this.languageService._reset()}createWriter(){let e=this.manipulationSettings.getIndentationText();return new o.default({newLine:this.manipulationSettings.getNewLineKindAsString(),indentNumberOfSpaces:e===t.xDT.Tab?void 0:e.length,useTabs:e===t.xDT.Tab,useSingleQuote:this.manipulationSettings.getQuoteKind()===t.pSk.Single})}getPreEmitDiagnostics(e){return s.ts.getPreEmitDiagnostics(this.program.compilerObject,e?.compilerNode).map(e=>this.compilerFactory.getDiagnostic(e))}getSourceFileContainer(){return{addOrGetSourceFileFromFilePath:(e,t)=>Promise.resolve(this.compilerFactory.addOrGetSourceFileFromFilePath(e,t)?.compilerNode),addOrGetSourceFileFromFilePathSync:(e,t)=>this.compilerFactory.addOrGetSourceFileFromFilePath(e,t)?.compilerNode,containsDirectoryAtPath:e=>this.compilerFactory.containsDirectoryAtPath(e),containsSourceFileAtPath:e=>this.compilerFactory.containsSourceFileAtPath(e),getSourceFileFromCacheFromFilePath:e=>{let t=this.compilerFactory.getSourceFileFromCacheFromFilePath(e);return t?.compilerNode},getSourceFilePaths:()=>this.compilerFactory.getSourceFilePaths(),getSourceFileVersion:e=>this.compilerFactory.documentRegistry.getSourceFileVersion(e),getChildDirectoriesOfDirectory:e=>{let t=[];for(let r of this.compilerFactory.getChildDirectoriesOfDirectory(e))t.push(r.getPath());return t}}}getModuleResolutionHost(){return s.createModuleResolutionHost({transactionalFileSystem:this.fileSystemWrapper,getEncoding:()=>this.getEncoding(),sourceFileContainer:this.getSourceFileContainer()})}#t0(e){return new s.errors.InvalidOperationError(`A ${e} is required for this operation. This might occur when manipulating or getting type information from a node that was not added to a Project object and created via createWrappedNode. Please submit a bug report if you don't believe a ${e} should be required for this operation.`)}}sb([s.Memoize],c8.prototype,"getSourceFileContainer",null),sb([s.Memoize],c8.prototype,"getModuleResolutionHost",null);class c9{_context;constructor(e={}){if(null!=e.fileSystem&&e.useInMemoryFileSystem)throw new s.errors.InvalidOperationError("Cannot provide a file system when specifying to use an in-memory file system.");let t=e.useInMemoryFileSystem?new s.InMemoryFileSystemHost:e.fileSystem??new s.RealFileSystemHost,r=new s.TransactionalFileSystem({fileSystem:t,skipLoadingLibFiles:e.skipLoadingLibFiles,libFolderPath:e.libFolderPath}),i=null==e.tsConfigFilePath?void 0:new s.TsConfigResolver(r,r.getStandardizedAbsolutePath(e.tsConfigFilePath),function(){let t="utf-8";return null!=e.compilerOptions?e.compilerOptions.charset??t:t}()),n={...i?.getCompilerOptions()??{},...e.compilerOptions??{}},o=new s.CompilerOptionsContainer(e.defaultCompilerOptions);o.set(n),this._context=new c8({project:this,compilerOptionsContainer:o,fileSystemWrapper:r,createLanguageService:!0,resolutionHost:e.resolutionHost,configFileParsingDiagnostics:i?.getErrors()??[],skipLoadingLibFiles:e.skipLoadingLibFiles,libFolderPath:e.libFolderPath}),null!=e.manipulationSettings&&this._context.manipulationSettings.set(e.manipulationSettings),null!=i&&!0!==e.skipAddingFilesFromTsConfig&&(this.#t1(i,n),e.skipFileDependencyResolution||this.resolveSourceFileDependencies())}get manipulationSettings(){return this._context.manipulationSettings}get compilerOptions(){return this._context.compilerOptions}resolveSourceFileDependencies(){let e=new Set,t=t=>e.add(t),{compilerFactory:r,inProjectCoordinator:i}=this._context;r.onSourceFileAdded(t);try{this.getProgram().compilerObject}finally{r.onSourceFileAdded(t,!1)}let n=i.markSourceFilesAsInProjectForResolution();for(let t of n.changedSourceFiles)e.add(t);for(let t of n.unchangedSourceFiles)e.delete(t);return Array.from(e.values())}addDirectoryAtPathIfExists(e,t={}){return this._context.directoryCoordinator.addDirectoryAtPathIfExists(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),{...t,markInProject:!0})}addDirectoryAtPath(e,t={}){return this._context.directoryCoordinator.addDirectoryAtPath(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),{...t,markInProject:!0})}createDirectory(e){return this._context.directoryCoordinator.createDirectoryOrAddIfExists(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),{markInProject:!0})}getDirectoryOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getDirectory(e),t??(()=>`Could not find a directory at the specified path: ${this._context.fileSystemWrapper.getStandardizedAbsolutePath(e)}`))}getDirectory(e){let{compilerFactory:t}=this._context;return t.getDirectoryFromCache(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e))}getDirectories(){return Array.from(this.#t5())}getRootDirectories(){let{inProjectCoordinator:e}=this._context,t=[];for(let r of this._context.compilerFactory.getOrphanDirectories())for(let i of function* t(r){if(e.isDirectoryInProject(r))return void(yield r);for(let e of r._getDirectoriesIterator())yield*t(e)}(r))t.push(i);return t}addSourceFilesAtPaths(e){return this._context.directoryCoordinator.addSourceFilesAtPaths(e,{markInProject:!0})}addSourceFileAtPathIfExists(e){return this._context.directoryCoordinator.addSourceFileAtPathIfExists(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),{markInProject:!0})}addSourceFileAtPath(e){return this._context.directoryCoordinator.addSourceFileAtPath(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),{markInProject:!0})}addSourceFilesFromTsConfig(e){let t=new s.TsConfigResolver(this._context.fileSystemWrapper,this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),this._context.getEncoding());return this.#t1(t,t.getCompilerOptions())}#t1(e,t){let r=e.getPaths(t),i=r.filePaths.map(e=>this.addSourceFileAtPath(e));for(let e of r.directoryPaths)this.addDirectoryAtPathIfExists(e);return i}createSourceFile(e,t,r){return this._context.compilerFactory.createSourceFile(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),t??"",{...r??{},markInProject:!0})}removeSourceFile(e){let t=e.wasForgotten();return e.forget(),!t}getSourceFileOrThrow(e){let t=this.getSourceFile(e);if(null!=t)return t;if("string"==typeof e){let t=s.FileUtils.standardizeSlashes(e);if(s.FileUtils.pathIsAbsolute(t)||t.indexOf("/")>=0){let e=this._context.fileSystemWrapper.getStandardizedAbsolutePath(t);throw new s.errors.InvalidOperationError(`Could not find source file in project at the provided path: ${e}`)}throw new s.errors.InvalidOperationError(`Could not find source file in project with the provided file name: ${e}`)}throw new s.errors.InvalidOperationError("Could not find source file in project based on the provided condition.")}getSourceFile(e){let t=function(t){if(e instanceof Function)return e;let r=s.FileUtils.standardizeSlashes(e);return s.FileUtils.pathIsAbsolute(r)||r.indexOf("/")>=0?t.getStandardizedAbsolutePath(r):e=>s.FileUtils.pathEndsWith(e.getFilePath(),r)}(this._context.fileSystemWrapper);return"string"==typeof t?this._context.compilerFactory.getSourceFileFromCacheFromFilePath(t):s.IterableUtils.find(this.#t2(),t)}getSourceFiles(e){let{compilerFactory:t,fileSystemWrapper:r}=this._context,i=this.#t2();return"string"==typeof e||e instanceof Array?Array.from(function*(){let n=Array.from(function*(){for(let e of i)yield e.getFilePath()}());for(let i of s.matchGlobs(n,e,r.getCurrentDirectory()))yield t.getSourceFileFromCacheFromFilePath(r.getStandardizedAbsolutePath(i))}()):Array.from(i)}*#t2(){let{compilerFactory:e,inProjectCoordinator:t}=this._context;for(let r of e.getSourceFilesByDirectoryDepth())t.isSourceFileInProject(r)&&(yield r)}*#t5(){let{compilerFactory:e,inProjectCoordinator:t}=this._context;for(let r of e.getDirectoriesByDepth())t.isDirectoryInProject(r)&&(yield r)}getAmbientModule(e){return e=c6(e),this.getAmbientModules().find(t=>t.getName()===e)}getAmbientModuleOrThrow(e,t){return s.errors.throwIfNullOrUndefined(this.getAmbientModule(e),t??(()=>`Could not find ambient module with name: ${c6(e)}`))}getAmbientModules(){return this.getTypeChecker().getAmbientModules()}async save(){await this._context.fileSystemWrapper.flush(),await Promise.all(this.#t3().map(e=>e.save()))}saveSync(){for(let e of(this._context.fileSystemWrapper.flushSync(),this.#t3()))e.saveSync()}enableLogging(e=!0){this._context.logger.setEnabled(e)}#t3(){return Array.from(function*(e){for(let t of e)t.isSaved()||(yield t)}(this._context.compilerFactory.getSourceFilesByDirectoryDepth()))}getPreEmitDiagnostics(){return this._context.getPreEmitDiagnostics()}getLanguageService(){return this._context.languageService}getProgram(){return this._context.program}getTypeChecker(){return this._context.typeChecker}getFileSystem(){return this._context.fileSystemWrapper.getFileSystem()}emit(e={}){return this._context.program.emit(e)}emitSync(e={}){return this._context.program.emitSync(e)}emitToMemory(e={}){return this._context.program.emitToMemory(e)}getCompilerOptions(){return this._context.compilerOptions.get()}getConfigFileParsingDiagnostics(){return this.getProgram().getConfigFileParsingDiagnostics()}createWriter(){return this._context.createWriter()}forgetNodesCreatedInBlock(e){return this._context.compilerFactory.forgetNodesCreatedInBlock(e)}formatDiagnosticsWithColorAndContext(e,t={}){return s.ts.formatDiagnosticsWithColorAndContext(e.map(e=>e.compilerObject),{getCurrentDirectory:()=>this._context.fileSystemWrapper.getCurrentDirectory(),getCanonicalFileName:e=>e,getNewLine:()=>t.newLineChar??s.runtime.getEndOfLine()})}getModuleResolutionHost(){return this._context.getModuleResolutionHost()}}function c6(e){return t(e[0])&&t(e[e.length-1])&&(e=e.substring(1,e.length-1)),`"${e}"`;function t(e){return'"'===e||"'"===e}}new c3(()=>{throw new s.errors.NotImplementedError("Not implemented scenario for getting code format settings when using a writer function. Please open an issue.")});let{InvalidOperationError:c7,FileNotFoundError:c4,ArgumentError:de,ArgumentNullOrWhitespaceError:dt,ArgumentOutOfRangeError:dr,ArgumentTypeError:di,BaseError:dn,DirectoryNotFoundError:ds,NotImplementedError:da,NotSupportedError:dl,PathNotFoundError:dc}=s.errors;Object.defineProperty(t,"IlS",{enumerable:!0,get:function(){return s.ScriptKind}}),Object.defineProperty(t,"fkh",{enumerable:!0,get:function(){return s.ScriptTarget}}),Object.defineProperty(t,"ts",{enumerable:!0,get:function(){return s.ts}}),t.MMY=c9}}]);